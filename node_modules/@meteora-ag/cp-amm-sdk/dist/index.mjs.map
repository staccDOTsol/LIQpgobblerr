{"version":3,"sources":["../src/CpAmm.ts","../src/idl/cp_amm.json","../src/types.ts","../src/pda.ts","../src/constants.ts","../src/helpers/token.ts","../src/helpers/computeUnits.ts","../src/helpers/utils.ts","../src/helpers/accountFilters.ts","../src/helpers/token2022.ts","../src/helpers/vestings.ts","../src/helpers/validation.ts","../src/math/poolFees/baseFee.ts","../src/math/poolFees/rateLimiter.ts","../src/math/feeMath.ts","../src/math/utilsMath.ts","../src/math/poolFees/feeTimeScheduler.ts","../src/math/poolFees/feeScheduler.ts","../src/math/poolFees/feeMarketCapScheduler.ts","../src/math/poolFees/dynamicFee.ts","../src/math/quote.ts","../src/math/curve.ts","../src/math/priceMath.ts","../src/helpers/common.ts","../src/helpers/feeCodec.ts"],"sourcesContent":["import { Program } from \"@coral-xyz/anchor\";\nimport { NATIVE_MINT, TOKEN_2022_PROGRAM_ID } from \"@solana/spl-token\";\nimport invariant from \"invariant\";\n\nimport CpAmmIDL from \"./idl/cp_amm.json\";\nimport type { CpAmm as CpAmmTypes } from \"./idl/cp_amm\";\nimport {\n  Connection,\n  Transaction,\n  PublicKey,\n  TransactionInstruction,\n  SystemProgram,\n  AccountMeta,\n  SYSVAR_INSTRUCTIONS_PUBKEY,\n} from \"@solana/web3.js\";\nimport {\n  AddLiquidityParams,\n  AmmProgram,\n  BuildAddLiquidityParams,\n  BuildLiquidatePositionInstructionParams,\n  BuildRemoveAllLiquidityInstructionParams,\n  ClaimPartnerFeeParams,\n  ClaimPositionFeeInstructionParams,\n  ClaimPositionFeeParams,\n  ClaimPositionFeeParams2,\n  ClaimRewardParams,\n  ClosePositionInstructionParams,\n  ClosePositionParams,\n  ConfigState,\n  CreatePoolParams,\n  CreatePositionAndAddLiquidity,\n  CreatePositionParams,\n  DepositQuote,\n  FundRewardParams,\n  GetDepositQuoteParams,\n  GetQuoteParams,\n  GetWithdrawQuoteParams,\n  InitializeCustomizeablePoolParams,\n  InitializeCustomizeablePoolWithDynamicConfigParams,\n  LiquidityDeltaParams,\n  LockPositionParams,\n  MergePositionParams,\n  PermanentLockParams,\n  PoolState,\n  PositionState,\n  PrepareCustomizablePoolParams,\n  PreparedPoolCreation,\n  PreparePoolCreationParams,\n  PreparePoolCreationSingleSide,\n  PrepareTokenAccountParams,\n  RefreshVestingParams,\n  RemoveAllLiquidityAndClosePositionParams,\n  RemoveAllLiquidityParams,\n  RemoveLiquidityParams,\n  Rounding,\n  SetupFeeClaimAccountsParams,\n  SwapParams,\n  TradeDirection,\n  TxBuilder,\n  UpdateRewardDurationParams,\n  UpdateRewardFunderParams,\n  VestingState,\n  WithdrawIneligibleRewardParams,\n  WithdrawQuote,\n  SplitPositionParams,\n  SplitPosition2Params,\n  Quote2Result,\n  Swap2Params,\n  SwapMode,\n  GetQuote2Params,\n  InitializeRewardParams,\n  InitializeAndFundReward,\n  BaseFeeMode,\n  DecodedPoolFees,\n} from \"./types\";\nimport {\n  deriveCustomizablePoolAddress,\n  deriveOperatorAddress,\n  derivePoolAddress,\n  derivePoolAuthority,\n  derivePositionAddress,\n  derivePositionNftAccount,\n  deriveRewardVaultAddress,\n  deriveTokenBadgeAddress,\n  deriveTokenVaultAddress,\n} from \"./pda\";\n\nimport {\n  getOrCreateATAInstruction,\n  getTokenProgram,\n  unwrapSOLInstruction,\n  wrapSOLInstruction,\n  positionByPoolFilter,\n  vestingByPositionFilter,\n  calculateTransferFeeExcludedAmount,\n  calculateTransferFeeIncludedAmount,\n  getAvailableVestingLiquidity,\n  isVestingComplete,\n  getAllPositionNftAccountByOwner,\n  getCurrentPoint,\n  offsetBasedFilter,\n  decodePodAlignedFeeRateLimiter,\n  decodePodAlignedFeeTimeScheduler,\n  decodePodAlignedFeeMarketCapScheduler,\n} from \"./helpers\";\nimport BN, { min, max } from \"bn.js\";\nimport Decimal from \"decimal.js\";\nimport {\n  calculateInitSqrtPrice,\n  getAmountAFromLiquidityDelta,\n  getAmountBFromLiquidityDelta,\n  getLiquidityDeltaFromAmountA,\n  getLiquidityDeltaFromAmountB,\n  isRateLimiterApplied,\n  swapQuoteExactInput,\n  swapQuoteExactOutput,\n  swapQuotePartialInput,\n} from \"./math\";\nimport { CP_AMM_PROGRAM_ID } from \"./constants\";\n\n/**\n * CpAmm SDK class to interact with the DAMM-V2\n */\nexport class CpAmm {\n  _program: AmmProgram;\n  private poolAuthority: PublicKey;\n  constructor(connection: Connection) {\n    this._program = new Program(CpAmmIDL as CpAmmTypes, {\n      connection: connection,\n    });\n    this.poolAuthority = derivePoolAuthority();\n  }\n\n  //// ANCHOR: PRIVATE FUNCTIONS //////\n  /**\n   * Prepares token accounts for a transaction by retrieving or creating associated token accounts.\n   * @private\n   * @param {PublicKey} owner - The owner of the token accounts\n   * @param {PublicKey} tokenAMint - Mint address of token A\n   * @param {PublicKey} tokenBMint - Mint address of token B\n   * @param {PublicKey} tokenAProgram - Program ID for token A (Token or Token2022)\n   * @param {PublicKey} tokenBProgram - Program ID for token B (Token or Token2022)\n   * @returns {Promise<{tokenAAta: PublicKey, tokenBAta: PublicKey, instructions: TransactionInstruction[]}>}\n   *          The token account addresses and any instructions needed to create them\n   */\n  private async prepareTokenAccounts(\n    params: PrepareTokenAccountParams,\n  ): Promise<{\n    tokenAAta: PublicKey;\n    tokenBAta: PublicKey;\n    instructions: TransactionInstruction[];\n  }> {\n    const {\n      payer,\n      tokenAOwner,\n      tokenBOwner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n    const instructions: TransactionInstruction[] = [];\n    const [\n      { ataPubkey: tokenAAta, ix: createInputTokenAccountIx },\n      { ataPubkey: tokenBAta, ix: createOutputTokenAccountIx },\n    ] = await Promise.all([\n      getOrCreateATAInstruction(\n        this._program.provider.connection,\n        tokenAMint,\n        tokenAOwner,\n        payer,\n        true,\n        tokenAProgram,\n      ),\n      getOrCreateATAInstruction(\n        this._program.provider.connection,\n        tokenBMint,\n        tokenBOwner,\n        payer,\n        true,\n        tokenBProgram,\n      ),\n    ]);\n    createInputTokenAccountIx && instructions.push(createInputTokenAccountIx);\n    createOutputTokenAccountIx && instructions.push(createOutputTokenAccountIx);\n\n    return { tokenAAta, tokenBAta, instructions };\n  }\n\n  /**\n   * Derives token badge account metadata\n   * @param tokenAMint - Public key of token A mint\n   * @param tokenBMint - Public key of token B mint\n   * @returns Array of account metadata for token badges\n   */\n  private getTokenBadgeAccounts(\n    tokenAMint: PublicKey,\n    tokenBMint: PublicKey,\n  ): AccountMeta[] {\n    return [\n      {\n        pubkey: deriveTokenBadgeAddress(tokenAMint),\n        isWritable: false,\n        isSigner: false,\n      },\n      {\n        pubkey: deriveTokenBadgeAddress(tokenBMint),\n        isWritable: false,\n        isSigner: false,\n      },\n    ];\n  }\n\n  /**\n   * Builds an instruction to add liquidity to a position.\n   * @private\n   * @param {BuildAddLiquidityParams} params - Parameters for adding liquidity\n   * @returns {Promise<TransactionInstruction>} Instruction to add liquidity\n   */\n  private async buildAddLiquidityInstruction(\n    params: BuildAddLiquidityParams,\n  ): Promise<TransactionInstruction> {\n    const {\n      pool,\n      position,\n      positionNftAccount,\n      owner,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      liquidityDelta,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n    } = params;\n    return await this._program.methods\n      .addLiquidity({\n        liquidityDelta,\n        tokenAAmountThreshold,\n        tokenBAmountThreshold,\n      })\n      .accountsPartial({\n        pool,\n        position,\n        positionNftAccount,\n        owner,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        tokenAProgram,\n        tokenBProgram,\n      })\n      .instruction();\n  }\n\n  /**\n   * Builds an instruction to remove all liquidity from a position.\n   * @private\n   * @param {BuildRemoveAllLiquidityInstructionParams} params - Parameters for removing all liquidity\n   * @returns {Promise<TransactionInstruction>} Instruction to remove all liquidity\n   */\n  private async buildRemoveAllLiquidityInstruction(\n    params: BuildRemoveAllLiquidityInstructionParams,\n  ): Promise<TransactionInstruction> {\n    const {\n      poolAuthority,\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n    return await this._program.methods\n      .removeAllLiquidity(tokenAAmountThreshold, tokenBAmountThreshold)\n      .accountsPartial({\n        poolAuthority,\n        pool,\n        position,\n        positionNftAccount,\n        owner,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        tokenAProgram,\n        tokenBProgram,\n      })\n      .instruction();\n  }\n\n  /**\n   * Builds an instruction to claim fees accumulated by a position.\n   * @private\n   * @param {ClaimPositionFeeInstructionParams} params - Parameters for claiming position fees\n   * @returns {Promise<TransactionInstruction>} Instruction to claim position fees\n   */\n  private async buildClaimPositionFeeInstruction(\n    params: ClaimPositionFeeInstructionParams,\n  ): Promise<TransactionInstruction> {\n    const {\n      owner,\n      poolAuthority,\n      pool,\n      position,\n      positionNftAccount,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n    return await this._program.methods\n      .claimPositionFee()\n      .accountsPartial({\n        poolAuthority,\n        owner,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n      })\n      .instruction();\n  }\n\n  /**\n   * Builds an instruction to close a position.\n   * @private\n   * @param {ClosePositionInstructionParams} params - Parameters for closing a position\n   * @returns {Promise<TransactionInstruction>} Instruction to close the position\n   */\n  private async buildClosePositionInstruction(\n    params: ClosePositionInstructionParams,\n  ): Promise<TransactionInstruction> {\n    const {\n      owner,\n      poolAuthority,\n      pool,\n      position,\n      positionNftAccount,\n      positionNftMint,\n    } = params;\n\n    return await this._program.methods\n      .closePosition()\n      .accountsPartial({\n        positionNftMint,\n        positionNftAccount,\n        pool,\n        position,\n        poolAuthority,\n        rentReceiver: owner,\n        owner,\n        tokenProgram: TOKEN_2022_PROGRAM_ID,\n      })\n      .instruction();\n  }\n\n  /**\n   * Builds an instruction to refresh vesting for a position\n   * @param params Parameters required for the refresh vesting instruction\n   * @returns Transaction instruction or null if no vestings to refresh\n   */\n  private async buildRefreshVestingInstruction(\n    params: RefreshVestingParams,\n  ): Promise<TransactionInstruction | null> {\n    const { owner, position, positionNftAccount, pool, vestingAccounts } =\n      params;\n\n    if (vestingAccounts.length == 0) {\n      return null;\n    }\n\n    return await this._program.methods\n      .refreshVesting()\n      .accountsPartial({\n        position,\n        positionNftAccount,\n        pool,\n        owner,\n      })\n      .remainingAccounts(\n        vestingAccounts.map((pubkey: PublicKey) => {\n          return {\n            isSigner: false,\n            isWritable: true,\n            pubkey,\n          };\n        }),\n      )\n      .instruction();\n  }\n\n  /**\n   * Helper function that builds instructions to claim fees, remove liquidity, and close a position\n   * @param {BuildLiquidatePositionInstructionParams} params - Parameters for liquidating a position\n   * @returns {Promise<TransactionInstruction[]>} Array of instructions\n   * @private\n   */\n  private async buildLiquidatePositionInstruction(\n    params: BuildLiquidatePositionInstructionParams,\n  ): Promise<TransactionInstruction[]> {\n    const {\n      owner,\n      position,\n      positionNftAccount,\n      positionState,\n      poolState,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n    } = params;\n\n    const { nftMint: positionNftMint, pool } = positionState;\n    const { tokenAMint, tokenBMint, tokenAVault, tokenBVault } = poolState;\n\n    const tokenAProgram = getTokenProgram(poolState.tokenAFlag);\n    const tokenBProgram = getTokenProgram(poolState.tokenBFlag);\n\n    const instructions: TransactionInstruction[] = [];\n\n    // 1. claim position fee\n    const claimPositionFeeInstruction =\n      await this.buildClaimPositionFeeInstruction({\n        owner,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n      });\n\n    instructions.push(claimPositionFeeInstruction);\n\n    // 2. remove all liquidity\n    const removeAllLiquidityInstruction =\n      await this.buildRemoveAllLiquidityInstruction({\n        poolAuthority: this.poolAuthority,\n        owner,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAAmountThreshold,\n        tokenBAmountThreshold,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        tokenAProgram,\n        tokenBProgram,\n      });\n    instructions.push(removeAllLiquidityInstruction);\n    // 3. close position\n    const closePositionInstruction = await this.buildClosePositionInstruction({\n      owner,\n      poolAuthority: this.poolAuthority,\n      pool,\n      position,\n      positionNftMint,\n      positionNftAccount,\n    });\n    instructions.push(closePositionInstruction);\n\n    return instructions;\n  }\n\n  /**\n   * Builds a instruction to create a position.\n   * @param {CreatePositionParams} params - Parameters for position creation.\n   * @returns Transaction instruction.\n   */\n  private async buildCreatePositionInstruction(\n    params: CreatePositionParams,\n  ): Promise<{\n    ix: TransactionInstruction;\n    position: PublicKey;\n    positionNftAccount: PublicKey;\n  }> {\n    const { owner, payer, pool, positionNft } = params;\n\n    const position = derivePositionAddress(positionNft);\n    const positionNftAccount = derivePositionNftAccount(positionNft);\n\n    const ix = await this._program.methods\n      .createPosition()\n      .accountsPartial({\n        owner,\n        positionNftMint: positionNft,\n        poolAuthority: this.poolAuthority,\n        positionNftAccount,\n        payer: payer,\n        pool,\n        position,\n        tokenProgram: TOKEN_2022_PROGRAM_ID,\n        systemProgram: SystemProgram.programId,\n      })\n      .instruction();\n\n    return {\n      ix,\n      position,\n      positionNftAccount,\n    };\n  }\n\n  /**\n   * Private helper method to prepare common customizable pool creation logic\n   * @param {PrepareCustomizablePoolParams} params - Common parameters for pool creation\n   * @returns Prepared transaction data including instructions and accounts\n   */\n  private async prepareCreatePoolParams(params: PrepareCustomizablePoolParams) {\n    const {\n      pool,\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount,\n      payer,\n      positionNft,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n\n    const position = derivePositionAddress(positionNft);\n    const positionNftAccount = derivePositionNftAccount(positionNft);\n\n    const tokenAVault = deriveTokenVaultAddress(tokenAMint, pool);\n    const tokenBVault = deriveTokenVaultAddress(tokenBMint, pool);\n\n    const {\n      tokenAAta: payerTokenA,\n      tokenBAta: payerTokenB,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer,\n      tokenAOwner: payer,\n      tokenBOwner: payer,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    if (tokenAMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        payer,\n        payerTokenA,\n        BigInt(tokenAAmount.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    if (tokenBMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        payer,\n        payerTokenB,\n        BigInt(tokenBAmount.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n    const tokenBadgeAccounts = this.getTokenBadgeAccounts(\n      tokenAMint,\n      tokenBMint,\n    );\n\n    return {\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      payerTokenA,\n      payerTokenB,\n      preInstructions,\n      tokenBadgeAccounts,\n    };\n  }\n\n  /**\n   * Sets up token accounts and instructions for fee claim operations.\n   * @private\n   * @param {SetupFeeClaimAccountsParams} params - Parameters for setting up fee claim accounts.\n   * @returns Token accounts and instructions for fee claiming.\n   */\n  private async setupFeeClaimAccounts(\n    params: SetupFeeClaimAccountsParams,\n  ): Promise<{\n    tokenAAccount: PublicKey;\n    tokenBAccount: PublicKey;\n    preInstructions: TransactionInstruction[];\n    postInstructions: TransactionInstruction[];\n  }> {\n    const {\n      payer,\n      owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n      receiver,\n      tempWSolAccount,\n    } = params;\n\n    const tokenAIsSOL = tokenAMint.equals(NATIVE_MINT);\n    const tokenBIsSOL = tokenBMint.equals(NATIVE_MINT);\n    const hasSolToken = tokenAIsSOL || tokenBIsSOL;\n\n    const preInstructions: TransactionInstruction[] = [];\n    const postInstructions: TransactionInstruction[] = [];\n    let tokenAAccount: PublicKey;\n    let tokenBAccount: PublicKey;\n\n    let tokenAOwner = owner;\n    let tokenBOwner = owner;\n    if (receiver) {\n      tokenAOwner = tokenAIsSOL ? tempWSolAccount : receiver;\n      tokenBOwner = tokenBIsSOL ? tempWSolAccount : receiver;\n    }\n\n    const { tokenAAta, tokenBAta, instructions } =\n      await this.prepareTokenAccounts({\n        payer,\n        tokenAOwner,\n        tokenBOwner,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n      });\n\n    tokenAAccount = tokenAAta;\n    tokenBAccount = tokenBAta;\n    preInstructions.push(...instructions);\n\n    if (hasSolToken) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(\n        tempWSolAccount ?? owner,\n        receiver ?? owner,\n      );\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n    return {\n      tokenAAccount,\n      tokenBAccount,\n      preInstructions,\n      postInstructions,\n    };\n  }\n\n  //// ANCHOR: GETTER/FETCHER FUNCTIONS //////\n\n  /**\n   * Fetches the Config state of the program.\n   * @param config - Public key of the config account.\n   * @returns Parsed ConfigState.\n   */\n  async fetchConfigState(config: PublicKey): Promise<ConfigState> {\n    const configState =\n      await this._program.account.config.fetchNullable(config);\n    invariant(configState, `Config account: ${config} not found`);\n\n    return configState;\n  }\n\n  /**\n   * Fetches the Pool state.\n   * @param pool - Public key of the pool.\n   * @returns Parsed PoolState.\n   */\n  async fetchPoolState(pool: PublicKey): Promise<PoolState> {\n    const poolState = await this._program.account.pool.fetchNullable(pool);\n    invariant(poolState, `Pool account: ${pool} not found`);\n\n    return poolState;\n  }\n\n  /**\n   * Fetches all Pool states by tokenAMint.\n   * @param tokenAMint - Public key of the tokenA mint.\n   * @returns Array of matched pool accounts and their state.\n   */\n  async fetchPoolStatesByTokenAMint(\n    tokenAMint: PublicKey,\n  ): Promise<Array<{ publicKey: PublicKey; account: PoolState }>> {\n    const filters = offsetBasedFilter(tokenAMint, 168);\n    const pools = await this._program.account.pool.all(filters);\n    return pools;\n  }\n\n  async fetchPoolFees(pool: PublicKey): Promise<DecodedPoolFees | null> {\n    const poolState = await this._program.account.pool.fetchNullable(pool);\n\n    if (!poolState) {\n      throw new Error(`Pool account: ${pool} not found`);\n    }\n\n    const data = Buffer.from(poolState.poolFees.baseFee.baseFeeInfo.data);\n    const modeIndex = data.readUInt8(8); // offset 8 for poolFees pod format\n    const baseFeeMode = modeIndex as BaseFeeMode;\n\n    switch (baseFeeMode) {\n      case BaseFeeMode.FeeTimeSchedulerLinear:\n      case BaseFeeMode.FeeTimeSchedulerExponential: {\n        const poolFees = decodePodAlignedFeeTimeScheduler(data);\n        return poolFees;\n      }\n      case BaseFeeMode.RateLimiter: {\n        const poolFees = decodePodAlignedFeeRateLimiter(data);\n        return poolFees;\n      }\n      case BaseFeeMode.FeeMarketCapSchedulerLinear:\n      case BaseFeeMode.FeeMarketCapSchedulerExponential: {\n        const poolFees = decodePodAlignedFeeMarketCapScheduler(data);\n        return poolFees;\n      }\n      default: {\n        throw new Error(`Invalid base fee mode: ${baseFeeMode}`);\n      }\n    }\n  }\n\n  /**\n   * Fetches the Position state.\n   * @param position - Public key of the position.\n   * @returns Parsed PositionState.\n   */\n  async fetchPositionState(position: PublicKey): Promise<PositionState> {\n    const positionState =\n      await this._program.account.position.fetchNullable(position);\n    invariant(positionState, `Position account: ${position} not found`);\n\n    return positionState;\n  }\n\n  /**\n   * Fetches multiple Config states.\n   * @param configs - Array of public keys of config accounts.\n   * @returns Array of parsed ConfigState.\n   */\n  async getMultipleConfigs(configs: PublicKey[]): Promise<ConfigState[]> {\n    const configStates =\n      await this._program.account.config.fetchMultiple(configs);\n\n    configStates.forEach((configState, index) => {\n      invariant(configState, `Config account: ${configs[index]} not found`);\n    });\n\n    return configStates;\n  }\n\n  /**\n   * Fetches multiple Pool states.\n   * @param pools - Array of public keys of pool accounts.\n   * @returns Array of parsed PoolState.\n   */\n  async getMultiplePools(pools: PublicKey[]): Promise<PoolState[]> {\n    const poolStates = await this._program.account.pool.fetchMultiple(pools);\n\n    poolStates.forEach((poolState, index) => {\n      invariant(poolState, `Pool account: ${pools[index]} not found`);\n    });\n\n    return poolStates;\n  }\n\n  /**\n   * Fetches multiple Position states.\n   * @param positions - Array of public keys of position accounts.\n   * @returns Array of parsed PositionState.\n   */\n  async getMultiplePositions(positions: PublicKey[]): Promise<PositionState[]> {\n    const positionStates =\n      await this._program.account.position.fetchMultiple(positions);\n\n    positionStates.forEach((positionState, index) => {\n      invariant(\n        positionState,\n        `Position account: ${positions[index]} not found`,\n      );\n    });\n\n    return positionStates;\n  }\n\n  /**\n   * Retrieves all config accounts.\n   * @returns Array of config public keys and their states.\n   */\n  async getAllConfigs(): Promise<\n    Array<{ publicKey: PublicKey; account: ConfigState }>\n  > {\n    const configAccounts = await this._program.account.config.all();\n\n    return configAccounts;\n  }\n\n  /**\n   * Retrieves all pool accounts.\n   * @returns Array of pool public keys and their states.\n   */\n  async getAllPools(): Promise<\n    Array<{ publicKey: PublicKey; account: PoolState }>\n  > {\n    const poolAccounts = await this._program.account.pool.all();\n\n    return poolAccounts;\n  }\n\n  /**\n   * Retrieves all position accounts.\n   * @returns Array of position public keys and their states.\n   */\n  async getAllPositions(): Promise<\n    Array<{\n      publicKey: PublicKey;\n      account: PositionState;\n    }>\n  > {\n    const poolAccounts = await this._program.account.position.all();\n\n    return poolAccounts;\n  }\n\n  /**\n   * Gets all positions a specific pool.\n   * @param pool - Public key of the pool.\n   * @returns List of user positions for the pool.\n   */\n  async getAllPositionsByPool(pool: PublicKey): Promise<\n    Array<{\n      publicKey: PublicKey;\n      account: PositionState;\n    }>\n  > {\n    return await this._program.account.position.all([\n      positionByPoolFilter(pool),\n    ]);\n  }\n\n  /**\n   * Gets all positions of a user for a specific pool.\n   * @param pool - Public key of the pool.\n   * @param user - Public key of the user.\n   * @returns List of user positions for the pool.\n   */\n  async getUserPositionByPool(\n    pool: PublicKey,\n    user: PublicKey,\n  ): Promise<\n    Array<{\n      positionNftAccount: PublicKey;\n      position: PublicKey;\n      positionState: PositionState;\n    }>\n  > {\n    const allUserPositions = await this.getPositionsByUser(user);\n    return allUserPositions.filter((position) =>\n      position.positionState.pool.equals(pool),\n    );\n  }\n\n  /**\n   * Gets all positions of a user across all pools.\n   * @param user - Public key of the user.\n   * @returns Array of user positions already sorted by liquidity\n   */\n  async getPositionsByUser(user: PublicKey): Promise<\n    Array<{\n      positionNftAccount: PublicKey;\n      position: PublicKey;\n      positionState: PositionState;\n    }>\n  > {\n    const userPositionAccounts = await getAllPositionNftAccountByOwner(\n      this._program.provider.connection,\n      user,\n    );\n    if (userPositionAccounts.length === 0) {\n      return [];\n    }\n\n    const positionAddresses = userPositionAccounts.map((account) =>\n      derivePositionAddress(account.positionNft),\n    );\n\n    const positionStates =\n      await this._program.account.position.fetchMultiple(positionAddresses);\n    const positionResult = userPositionAccounts\n      .map((account, index) => {\n        const positionState = positionStates[index];\n        if (!positionState) return null;\n\n        return {\n          positionNftAccount: account.positionNftAccount,\n          position: positionAddresses[index],\n          positionState,\n        };\n      })\n      .filter(Boolean);\n\n    // in-place sort\n    positionResult.sort((a, b) => {\n      const totalLiquidityA = a.positionState.vestedLiquidity\n        .add(a.positionState.permanentLockedLiquidity)\n        .add(a.positionState.unlockedLiquidity);\n\n      const totalLiquidityB = b.positionState.vestedLiquidity\n        .add(b.positionState.permanentLockedLiquidity)\n        .add(b.positionState.unlockedLiquidity);\n\n      return totalLiquidityB.cmp(totalLiquidityA);\n    });\n\n    return positionResult;\n  }\n\n  /**\n   * Retrieves all vesting accounts associated with a position.\n   * @param position - Public key of the position.\n   * @returns Array of vesting account public keys and their states.\n   */\n  async getAllVestingsByPosition(position: PublicKey): Promise<\n    Array<{\n      publicKey: PublicKey;\n      account: VestingState;\n    }>\n  > {\n    const vestings = await this._program.account.vesting.all([\n      vestingByPositionFilter(position),\n    ]);\n\n    return vestings;\n  }\n\n  /**\n   * Checks if a position has any locked liquidity.\n   * @param position - Position state.\n   * @returns True if the position has locked liquidity, false otherwise.\n   */\n  isLockedPosition(position: PositionState): boolean {\n    const totalLockedLiquidity = position.vestedLiquidity.add(\n      position.permanentLockedLiquidity,\n    );\n\n    return totalLockedLiquidity.gtn(0);\n  }\n\n  /**\n   * Checks if a position is permanently locked.\n   * @param positionState - Position state.\n   * @returns True if the position is permanently locked, false otherwise.\n   */\n  isPermanentLockedPosition(positionState: PositionState): boolean {\n    return positionState.permanentLockedLiquidity.gtn(0);\n  }\n\n  /**\n   * Checks if a position can be unlocked based on its locking state and vesting schedules.\n   *\n   * This method evaluates whether a position is eligible for operations that require\n   * unlocked liquidity, such as removing all liquidity or closing the position. It checks both\n   * permanent locks and time-based vesting schedules.\n   *\n   * @private\n   * @param {PositionState} positionState - The current state of the position\n   * @param {Array<{account: PublicKey; vestingState: VestingState}>} vestings - Array of vesting accounts and their states\n   * @param {BN} currentPoint - Current timestamp or slot number (depending on activation type of pool)\n   *\n   * @returns {Object} Result object containing unlock status and reason\n   * @returns {boolean} result.canUnlock - Whether the position can be unlocked\n   * @returns {string|undefined} result.reason - Reason why position cannot be unlocked (if applicable)\n   */\n  canUnlockPosition(\n    positionState: PositionState,\n    vestings: Array<{ account: PublicKey; vestingState: VestingState }>,\n    currentPoint: BN,\n  ): { canUnlock: boolean; reason?: string } {\n    if (vestings.length > 0) {\n      // Check if permanently locked\n      if (this.isPermanentLockedPosition(positionState)) {\n        return {\n          canUnlock: false,\n          reason: \"Position is permanently locked\",\n        };\n      }\n\n      // Check each vesting\n      // We expect that should have only one vesting per position\n      for (const vesting of vestings) {\n        if (!isVestingComplete(vesting.vestingState, currentPoint)) {\n          return {\n            canUnlock: false,\n            reason: \"Position has incomplete vesting schedule\",\n          };\n        }\n      }\n    }\n\n    return { canUnlock: true };\n  }\n\n  /**\n   * Checks if a pool exists.\n   * @param pool - Public key of the pool.\n   * @returns True if the pool exists, false otherwise.\n   */\n  async isPoolExist(pool: PublicKey): Promise<boolean> {\n    const poolState = await this._program.account.pool.fetchNullable(pool);\n    return poolState !== null;\n  }\n\n  /**\n   * Computes the liquidity delta based on the provided token amounts and sqrt price\n   *\n   * @param {LiquidityDeltaParams} params - The parameters for liquidity calculation\n   * @returns {Promise<BN>} - The computed liquidity delta in Q64 value.\n   */\n  getLiquidityDelta(params: LiquidityDeltaParams): BN {\n    const {\n      maxAmountTokenA,\n      maxAmountTokenB,\n      sqrtMaxPrice,\n      sqrtMinPrice,\n      sqrtPrice,\n    } = params;\n\n    const liquidityDeltaFromAmountA = getLiquidityDeltaFromAmountA(\n      maxAmountTokenA,\n      sqrtPrice,\n      sqrtMaxPrice,\n    );\n\n    const liquidityDeltaFromAmountB = getLiquidityDeltaFromAmountB(\n      maxAmountTokenB,\n      sqrtMinPrice,\n      sqrtPrice,\n    );\n\n    return min(liquidityDeltaFromAmountA, liquidityDeltaFromAmountB);\n  }\n\n  /**\n   * Calculates swap quote based on input amount and pool state.\n   * @param params - Swap parameters including input amount, pool state, slippage, etc.\n   * @returns Swap quote including expected output amount, fee, and price impact.\n   */\n  getQuote(params: GetQuoteParams): {\n    swapInAmount: BN;\n    consumedInAmount: BN;\n    swapOutAmount: BN;\n    minSwapOutAmount: BN;\n    totalFee: BN;\n    priceImpact: Decimal;\n  } {\n    const {\n      inAmount,\n      inputTokenMint,\n      slippage,\n      poolState,\n      currentTime,\n      currentSlot,\n      inputTokenInfo,\n      outputTokenInfo,\n      tokenADecimal,\n      tokenBDecimal,\n      hasReferral,\n    } = params;\n    const { activationType } = poolState;\n\n    const aToB = poolState.tokenAMint.equals(inputTokenMint);\n\n    // because for a DAMM v2 pool, the activation type can either be slot (0) or timestamp (1).\n    // if it is slot, we use the currentSlot from blockchain slot.\n    // if it is timestamp, we use the currentTime from blockTime.\n    const currentPoint = activationType\n      ? new BN(currentTime)\n      : new BN(currentSlot);\n\n    const swapResult = swapQuoteExactInput(\n      poolState,\n      currentPoint,\n      inAmount,\n      slippage,\n      aToB,\n      hasReferral,\n      tokenADecimal,\n      tokenBDecimal,\n      inputTokenInfo,\n      outputTokenInfo,\n    );\n\n    return {\n      swapInAmount: inAmount,\n      consumedInAmount: swapResult.includedFeeInputAmount,\n      swapOutAmount: swapResult.outputAmount,\n      minSwapOutAmount: swapResult.minimumAmountOut,\n      totalFee: swapResult.tradingFee\n        .add(swapResult.protocolFee)\n        .add(swapResult.partnerFee)\n        .add(swapResult.referralFee),\n      priceImpact: swapResult.priceImpact,\n    };\n  }\n\n  /**\n   * Calculates the expected output amount or input amount for a swap depending on the swap mode.\n   * @param params GetQuote2Params\n   * @returns Quote2Result\n   */\n  getQuote2(params: GetQuote2Params): Quote2Result {\n    const {\n      inputTokenMint,\n      slippage,\n      poolState,\n      currentPoint,\n      inputTokenInfo,\n      outputTokenInfo,\n      hasReferral,\n      tokenADecimal,\n      tokenBDecimal,\n      swapMode,\n    } = params;\n\n    const aToB = poolState.tokenAMint.equals(inputTokenMint);\n\n    switch (swapMode) {\n      case SwapMode.ExactIn:\n        if (\"amountIn\" in params) {\n          return swapQuoteExactInput(\n            poolState,\n            currentPoint,\n            params.amountIn,\n            slippage,\n            aToB,\n            hasReferral,\n            tokenADecimal,\n            tokenBDecimal,\n            inputTokenInfo,\n            outputTokenInfo,\n          );\n        }\n        throw new Error(\"amountIn is required for ExactIn swap mode\");\n\n      case SwapMode.ExactOut:\n        if (\"amountOut\" in params) {\n          return swapQuoteExactOutput(\n            poolState,\n            currentPoint,\n            params.amountOut,\n            slippage,\n            aToB,\n            hasReferral,\n            tokenADecimal,\n            tokenBDecimal,\n            inputTokenInfo,\n            outputTokenInfo,\n          );\n        }\n        throw new Error(\"outAmount is required for ExactOut swap mode\");\n\n      case SwapMode.PartialFill:\n        if (\"amountIn\" in params) {\n          return swapQuotePartialInput(\n            poolState,\n            currentPoint,\n            params.amountIn,\n            slippage,\n            aToB,\n            hasReferral,\n            tokenADecimal,\n            tokenBDecimal,\n            inputTokenInfo,\n            outputTokenInfo,\n          );\n        }\n        throw new Error(\"amountIn is required for PartialFill swap mode\");\n\n      default:\n        throw new Error(`Unsupported swap mode: ${swapMode}`);\n    }\n  }\n\n  /**\n   * Calculates the deposit quote for liquidity pool.\n   *\n   * @param {GetDepositQuoteParams} params - The parameters for calculating the deposit quote.\n   *\n   * @returns {Promise<Object>} Deposit quote results\n   * @returns {BN} returns.actualInputAmount - The actual amount used as input (after deducting transfer fees).\n   * @returns {BN} returns.outputAmount - The calculated corresponding amount of the other token.\n   * @returns {BN} returns.liquidityDelta - The amount of liquidity that will be added to the pool.\n   */\n  getDepositQuote(params: GetDepositQuoteParams): DepositQuote {\n    const {\n      inAmount,\n      isTokenA,\n      inputTokenInfo,\n      outputTokenInfo,\n      minSqrtPrice,\n      maxSqrtPrice,\n      sqrtPrice,\n    } = params;\n\n    const actualAmountIn = inputTokenInfo\n      ? calculateTransferFeeExcludedAmount(\n          inAmount,\n          inputTokenInfo.mint,\n          inputTokenInfo.currentEpoch,\n        ).amount\n      : inAmount;\n\n    const { liquidityDelta, rawAmount } = isTokenA\n      ? {\n          liquidityDelta: getLiquidityDeltaFromAmountA(\n            actualAmountIn,\n            sqrtPrice,\n            maxSqrtPrice,\n          ),\n          rawAmount: (delta: BN) =>\n            getAmountBFromLiquidityDelta(\n              minSqrtPrice,\n              sqrtPrice,\n              delta,\n              Rounding.Up,\n            ),\n        }\n      : {\n          liquidityDelta: getLiquidityDeltaFromAmountB(\n            actualAmountIn,\n            minSqrtPrice,\n            sqrtPrice,\n          ),\n          rawAmount: (delta: BN) =>\n            getAmountAFromLiquidityDelta(\n              sqrtPrice,\n              maxSqrtPrice,\n              delta,\n              Rounding.Up,\n            ),\n        };\n\n    const rawOutputAmount = new BN(rawAmount(liquidityDelta));\n    const outputAmount = outputTokenInfo\n      ? calculateTransferFeeIncludedAmount(\n          rawOutputAmount,\n          outputTokenInfo.mint,\n          outputTokenInfo.currentEpoch,\n        ).amount\n      : rawOutputAmount;\n\n    return {\n      actualInputAmount: actualAmountIn,\n      consumedInputAmount: inAmount,\n      liquidityDelta,\n      outputAmount,\n    };\n  }\n\n  /**\n   * Calculates the withdrawal quote for removing liquidity from a concentrated liquidity pool.\n   *\n   * @param {GetWithdrawQuoteParams} params - The parameters for calculating the withdraw quote\n   *\n   * @param {Object|null} params.tokenATokenInfo - must provide if token a is token2022\n   * @param {Object|null} params.tokenBTokenInfo - must provide if token b is token2022\n   *\n   * @returns {Promise<Object>} Withdrawal quote results\n   * @returns {BN} returns.liquidityDelta - The amount of liquidity that will be removed from the pool\n   * @returns {BN} returns.outAmountA - The calculated amount of token A to be received (after deducting transfer fees)\n   * @returns {BN} returns.outAmountB - The calculated amount of token B to be received (after deducting transfer fees)\n   */\n  getWithdrawQuote(params: GetWithdrawQuoteParams): WithdrawQuote {\n    const {\n      liquidityDelta,\n      sqrtPrice,\n      maxSqrtPrice,\n      minSqrtPrice,\n      tokenATokenInfo,\n      tokenBTokenInfo,\n    } = params;\n    const amountA = getAmountAFromLiquidityDelta(\n      sqrtPrice,\n      maxSqrtPrice,\n      liquidityDelta,\n      Rounding.Down,\n    );\n    const amountB = getAmountBFromLiquidityDelta(\n      minSqrtPrice,\n      sqrtPrice,\n      liquidityDelta,\n      Rounding.Down,\n    );\n\n    return {\n      liquidityDelta,\n      outAmountA: tokenATokenInfo\n        ? calculateTransferFeeExcludedAmount(\n            amountA,\n            tokenATokenInfo.mint,\n            tokenATokenInfo.currentEpoch,\n          ).amount\n        : amountA,\n      outAmountB: tokenBTokenInfo\n        ? calculateTransferFeeExcludedAmount(\n            amountB,\n            tokenBTokenInfo.mint,\n            tokenBTokenInfo.currentEpoch,\n          ).amount\n        : amountB,\n    };\n  }\n\n  /**\n   * Calculates liquidity and corresponding token amounts for token A single-sided pool creation\n   * Only supports initialization where initial price equals min sqrt price\n   * @param params Parameters for single-sided pool creation\n   * @returns Calculated liquidity delta\n   */\n  preparePoolCreationSingleSide(params: PreparePoolCreationSingleSide): BN {\n    const {\n      tokenAAmount,\n      initSqrtPrice,\n      minSqrtPrice,\n      maxSqrtPrice,\n      tokenAInfo,\n    } = params;\n\n    if (!initSqrtPrice.eq(minSqrtPrice)) {\n      throw new Error(\"Only support single side for base token.\");\n    }\n\n    const actualAmountIn = tokenAInfo\n      ? tokenAAmount.sub(\n          calculateTransferFeeIncludedAmount(\n            tokenAAmount,\n            tokenAInfo.mint,\n            tokenAInfo.currentEpoch,\n          ).transferFee,\n        )\n      : tokenAAmount;\n\n    const liquidityDelta = getLiquidityDeltaFromAmountA(\n      actualAmountIn,\n      initSqrtPrice,\n      maxSqrtPrice,\n    );\n\n    return liquidityDelta;\n  }\n\n  /**\n   * Prepares parameters required for pool creation, including initial sqrt price and liquidity.\n   * @private\n   * @param {PreparePoolCreationParams} params - Initial token amounts for pool creation.\n   * @returns init sqrt price and liquidity in Q64 format.\n   */\n  preparePoolCreationParams(\n    params: PreparePoolCreationParams,\n  ): PreparedPoolCreation {\n    const {\n      tokenAAmount,\n      tokenBAmount,\n      minSqrtPrice,\n      maxSqrtPrice,\n      tokenAInfo,\n      tokenBInfo,\n    } = params;\n\n    if (tokenAAmount.eq(new BN(0)) && tokenBAmount.eq(new BN(0))) {\n      throw new Error(\"Invalid input amount\");\n    }\n\n    const actualAmountAIn = tokenAInfo\n      ? tokenAAmount.sub(\n          calculateTransferFeeIncludedAmount(\n            tokenAAmount,\n            tokenAInfo.mint,\n            tokenAInfo.currentEpoch,\n          ).transferFee,\n        )\n      : tokenAAmount;\n\n    const actualAmountBIn = tokenBInfo\n      ? tokenBAmount.sub(\n          calculateTransferFeeIncludedAmount(\n            tokenBAmount,\n            tokenBInfo.mint,\n            tokenBInfo.currentEpoch,\n          ).transferFee,\n        )\n      : tokenBAmount;\n\n    const initSqrtPrice = calculateInitSqrtPrice(\n      tokenAAmount,\n      tokenBAmount,\n      minSqrtPrice,\n      maxSqrtPrice,\n    );\n\n    const liquidityDeltaFromAmountA = getLiquidityDeltaFromAmountA(\n      actualAmountAIn,\n      initSqrtPrice,\n      maxSqrtPrice,\n    );\n\n    const liquidityDeltaFromAmountB = getLiquidityDeltaFromAmountB(\n      actualAmountBIn,\n      minSqrtPrice,\n      initSqrtPrice,\n    );\n\n    const liquidityDelta = min(\n      liquidityDeltaFromAmountA,\n      liquidityDeltaFromAmountB,\n    );\n\n    return {\n      initSqrtPrice,\n      liquidityDelta,\n    };\n  }\n\n  //// ANCHOR: MAIN ENDPOINT //////\n  /**\n   * Builds a transaction to create a permissionless pool.\n   * @param params - Parameters for pool creation.\n   * @returns Transaction builder.\n   */\n  async createPool(params: CreatePoolParams): TxBuilder {\n    const {\n      payer,\n      creator,\n      config,\n      positionNft,\n      tokenAMint,\n      tokenBMint,\n      initSqrtPrice,\n      liquidityDelta,\n      activationPoint,\n      tokenAAmount,\n      tokenBAmount,\n      tokenAProgram,\n      tokenBProgram,\n      isLockLiquidity,\n    } = params;\n\n    const pool = derivePoolAddress(config, tokenAMint, tokenBMint);\n    const {\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      payerTokenA,\n      payerTokenB,\n      preInstructions,\n      tokenBadgeAccounts,\n    } = await this.prepareCreatePoolParams({\n      pool,\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount,\n      payer,\n      positionNft,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstruction: TransactionInstruction[] = [];\n\n    if (isLockLiquidity) {\n      const permanentLockIx = await this._program.methods\n        .permanentLockPosition(liquidityDelta)\n        .accountsPartial({\n          position,\n          positionNftAccount,\n          pool: pool,\n          owner: creator,\n        })\n        .instruction();\n      postInstruction.push(permanentLockIx);\n    }\n\n    const tx = await this._program.methods\n      .initializePool({\n        liquidity: liquidityDelta,\n        sqrtPrice: initSqrtPrice,\n        activationPoint: activationPoint,\n      })\n      .accountsPartial({\n        creator,\n        positionNftAccount,\n        positionNftMint: positionNft,\n        payer,\n        config,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        payerTokenA,\n        payerTokenB,\n        token2022Program: TOKEN_2022_PROGRAM_ID,\n        tokenAProgram,\n        tokenBProgram,\n        systemProgram: SystemProgram.programId,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstruction)\n      .remainingAccounts(tokenBadgeAccounts)\n      .transaction();\n\n    return tx;\n  }\n\n  /**\n   * Builds a transaction to create a customizable pool.\n   * @param params - Parameters for customizable pool creation.\n   * @returns Transaction and related addresses.\n   */\n  async createCustomPool(params: InitializeCustomizeablePoolParams): Promise<{\n    tx: Transaction;\n    pool: PublicKey;\n    position: PublicKey;\n  }> {\n    const {\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount,\n      sqrtMinPrice,\n      sqrtMaxPrice,\n      liquidityDelta,\n      initSqrtPrice,\n      payer,\n      creator,\n      positionNft,\n      poolFees,\n      hasAlphaVault,\n      collectFeeMode,\n      activationPoint,\n      activationType,\n      tokenAProgram,\n      tokenBProgram,\n      isLockLiquidity,\n    } = params;\n    const pool = deriveCustomizablePoolAddress(tokenAMint, tokenBMint);\n    const {\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      payerTokenA,\n      payerTokenB,\n      preInstructions,\n      tokenBadgeAccounts,\n    } = await this.prepareCreatePoolParams({\n      pool,\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount: tokenBMint.equals(NATIVE_MINT)\n        ? max(tokenBAmount, new BN(1))\n        : tokenBAmount,\n      payer,\n      positionNft,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstruction: TransactionInstruction[] = [];\n\n    if (isLockLiquidity) {\n      const permanentLockIx = await this._program.methods\n        .permanentLockPosition(liquidityDelta)\n        .accountsPartial({\n          position,\n          positionNftAccount,\n          pool: pool,\n          owner: creator,\n        })\n        .instruction();\n      postInstruction.push(permanentLockIx);\n    }\n\n    const transaction = await this._program.methods\n      .initializeCustomizablePool({\n        poolFees,\n        sqrtMinPrice,\n        sqrtMaxPrice,\n        hasAlphaVault,\n        liquidity: liquidityDelta,\n        sqrtPrice: initSqrtPrice,\n        activationType,\n        collectFeeMode,\n        activationPoint,\n      })\n      .accountsPartial({\n        creator,\n        positionNftAccount,\n        positionNftMint: positionNft,\n        payer: payer,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        payerTokenA,\n        payerTokenB,\n        token2022Program: TOKEN_2022_PROGRAM_ID,\n        tokenAProgram,\n        tokenBProgram,\n        systemProgram: SystemProgram.programId,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstruction)\n      .remainingAccounts(tokenBadgeAccounts)\n      .transaction();\n\n    return { tx: transaction, pool, position };\n  }\n\n  /**\n   * Builds a transaction to create a customizable pool with dynamic config.\n   * @param params InitializeCustomizeablePoolWithDynamicConfigParams\n   * @returns Transaction and related addresses.\n   */\n  async createCustomPoolWithDynamicConfig(\n    params: InitializeCustomizeablePoolWithDynamicConfigParams,\n  ): Promise<{\n    tx: Transaction;\n    pool: PublicKey;\n    position: PublicKey;\n  }> {\n    const {\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount,\n      sqrtMinPrice,\n      sqrtMaxPrice,\n      liquidityDelta,\n      initSqrtPrice,\n      payer,\n      config,\n      poolCreatorAuthority,\n      creator,\n      positionNft,\n      poolFees,\n      hasAlphaVault,\n      collectFeeMode,\n      activationPoint,\n      activationType,\n      tokenAProgram,\n      tokenBProgram,\n      isLockLiquidity,\n    } = params;\n\n    const pool = derivePoolAddress(config, tokenAMint, tokenBMint);\n    const {\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      payerTokenA,\n      payerTokenB,\n      preInstructions,\n      tokenBadgeAccounts,\n    } = await this.prepareCreatePoolParams({\n      pool,\n      tokenAMint,\n      tokenBMint,\n      tokenAAmount,\n      tokenBAmount,\n      payer,\n      positionNft,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstruction: TransactionInstruction[] = [];\n\n    if (isLockLiquidity) {\n      const permanentLockIx = await this._program.methods\n        .permanentLockPosition(liquidityDelta)\n        .accountsPartial({\n          position,\n          positionNftAccount,\n          pool: pool,\n          owner: creator,\n        })\n        .instruction();\n      postInstruction.push(permanentLockIx);\n    }\n\n    const transaction = await this._program.methods\n      .initializePoolWithDynamicConfig({\n        poolFees,\n        sqrtMinPrice,\n        sqrtMaxPrice,\n        hasAlphaVault,\n        liquidity: liquidityDelta,\n        sqrtPrice: initSqrtPrice,\n        activationType,\n        collectFeeMode,\n        activationPoint,\n      })\n      .accountsPartial({\n        creator,\n        positionNftAccount,\n        positionNftMint: positionNft,\n        payer: payer,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        poolCreatorAuthority: poolCreatorAuthority,\n        config: config,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        payerTokenA,\n        payerTokenB,\n        token2022Program: TOKEN_2022_PROGRAM_ID,\n        tokenAProgram,\n        tokenBProgram,\n        systemProgram: SystemProgram.programId,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstruction)\n      .remainingAccounts(tokenBadgeAccounts)\n      .transaction();\n\n    return { tx: transaction, pool, position };\n  }\n\n  /**\n   * Builds a transaction to create a position.\n   * @param {CreatePositionParams} params - Parameters for position creation.\n   * @returns Transaction builder.\n   */\n  async createPosition(params: CreatePositionParams): TxBuilder {\n    const { ix } = await this.buildCreatePositionInstruction(params);\n    return new Transaction().add(ix);\n  }\n\n  /**\n   * Builds a transaction to add liquidity to an existing position.\n   * @param {AddLiquidityParams} params - Parameters for adding liquidity.\n   * @returns Transaction builder.\n   */\n  async addLiquidity(params: AddLiquidityParams): TxBuilder {\n    const {\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      liquidityDelta,\n      maxAmountTokenA,\n      maxAmountTokenB,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    if (tokenAMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        owner,\n        tokenAAccount,\n        BigInt(maxAmountTokenA.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    if (tokenBMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        owner,\n        tokenBAccount,\n        BigInt(maxAmountTokenB.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    const addLiquidityInstruction = await this.buildAddLiquidityInstruction({\n      pool,\n      position,\n      positionNftAccount,\n      owner,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      liquidityDelta,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n    });\n\n    const transaction = new Transaction();\n    transaction.add(\n      ...(preInstructions.length > 0 ? preInstructions : []),\n      addLiquidityInstruction,\n      ...(postInstructions.length > 0 ? postInstructions : []),\n    );\n\n    return transaction;\n  }\n\n  /**\n   * Creates a new position and add liquidity to position it in a single transaction.\n   * Handles both native SOL and other tokens, automatically wrapping/unwrapping SOL as needed.\n   *\n   * @param {CreatePositionAndAddLiquidity} params - Parameters for creating position and adding liquidity\n   *\n   * @returns {Transaction} A transaction that creates a position and adds liquidity\n   *\n   **/\n  async createPositionAndAddLiquidity(\n    params: CreatePositionAndAddLiquidity,\n  ): TxBuilder {\n    const {\n      owner,\n      pool,\n      positionNft,\n      liquidityDelta,\n      maxAmountTokenA,\n      maxAmountTokenB,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const tokenAVault = deriveTokenVaultAddress(tokenAMint, pool);\n    const tokenBVault = deriveTokenVaultAddress(tokenBMint, pool);\n\n    if (tokenAMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        owner,\n        tokenAAccount,\n        BigInt(maxAmountTokenA.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    if (tokenBMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        owner,\n        tokenBAccount,\n        BigInt(maxAmountTokenB.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    const {\n      ix: createPositionIx,\n      position,\n      positionNftAccount,\n    } = await this.buildCreatePositionInstruction({\n      owner,\n      payer: owner,\n      pool,\n      positionNft,\n    });\n\n    const addLiquidityInstruction = await this.buildAddLiquidityInstruction({\n      pool,\n      position,\n      positionNftAccount,\n      owner,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      liquidityDelta,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n    });\n\n    const transaction = new Transaction();\n    transaction.add(createPositionIx);\n    transaction.add(\n      ...(preInstructions.length > 0 ? preInstructions : []),\n      addLiquidityInstruction,\n      ...(postInstructions.length > 0 ? postInstructions : []),\n    );\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to remove liquidity from a position.\n   * @param {RemoveLiquidityParams} params - Parameters for removing liquidity.\n   * @returns Transaction builder.\n   */\n  async removeLiquidity(params: RemoveLiquidityParams): TxBuilder {\n    const {\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      liquidityDelta,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      vestings,\n    } = params;\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    if (vestings.length > 0) {\n      const refreshVestingInstruction =\n        await this.buildRefreshVestingInstruction({\n          owner,\n          position,\n          positionNftAccount,\n          pool,\n          vestingAccounts: vestings.map((item) => item.account),\n        });\n      refreshVestingInstruction &&\n        preInstructions.push(refreshVestingInstruction);\n    }\n\n    return await this._program.methods\n      .removeLiquidity({\n        liquidityDelta,\n        tokenAAmountThreshold,\n        tokenBAmountThreshold,\n      })\n      .accountsPartial({\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        positionNftAccount,\n        owner,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        tokenAProgram,\n        tokenBProgram,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to remove liquidity from a position.\n   * @param {RemoveLiquidityParams} params - Parameters for removing liquidity.\n   * @returns Transaction builder.\n   */\n  async removeAllLiquidity(params: RemoveAllLiquidityParams): TxBuilder {\n    const {\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      vestings,\n    } = params;\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    if (vestings.length > 0) {\n      const refreshVestingInstruction =\n        await this.buildRefreshVestingInstruction({\n          owner,\n          position,\n          positionNftAccount,\n          pool,\n          vestingAccounts: vestings.map((item) => item.account),\n        });\n      refreshVestingInstruction &&\n        preInstructions.push(refreshVestingInstruction);\n    }\n\n    const removeAllLiquidityInstruction =\n      await this.buildRemoveAllLiquidityInstruction({\n        poolAuthority: this.poolAuthority,\n        owner,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAAmountThreshold,\n        tokenBAmountThreshold,\n        tokenAMint,\n        tokenBMint,\n        tokenAVault,\n        tokenBVault,\n        tokenAProgram,\n        tokenBProgram,\n      });\n\n    const transaction = new Transaction();\n    transaction.add(\n      ...(preInstructions.length > 0 ? preInstructions : []),\n      removeAllLiquidityInstruction,\n      ...(postInstructions.length > 0 ? postInstructions : []),\n    );\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to perform a swap in the pool.\n   * @param {SwapParams} params - Parameters for swapping tokens.\n   * @returns Transaction builder.\n   */\n  async swap(params: SwapParams): TxBuilder {\n    const {\n      payer,\n      pool,\n      inputTokenMint,\n      outputTokenMint,\n      amountIn,\n      minimumAmountOut,\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n      referralTokenAccount,\n      receiver,\n    } = params;\n\n    const [inputTokenProgram, outputTokenProgram] = inputTokenMint.equals(\n      tokenAMint,\n    )\n      ? [tokenAProgram, tokenBProgram]\n      : [tokenBProgram, tokenAProgram];\n\n    const tradeDirection = inputTokenMint.equals(tokenAMint)\n      ? TradeDirection.AtoB\n      : TradeDirection.BtoA;\n\n    const {\n      tokenAAta: inputTokenAccount,\n      tokenBAta: outputTokenAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer,\n      tokenAOwner: receiver ?? payer,\n      tokenBOwner: receiver ?? payer,\n      tokenAMint: inputTokenMint,\n      tokenBMint: outputTokenMint,\n      tokenAProgram: inputTokenProgram,\n      tokenBProgram: outputTokenProgram,\n    });\n\n    if (inputTokenMint.equals(NATIVE_MINT)) {\n      const wrapSOLIx = wrapSOLInstruction(\n        receiver ?? payer,\n        inputTokenAccount,\n        BigInt(amountIn.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(receiver ?? payer);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    let { poolState } = params;\n    poolState = poolState ?? (await this.fetchPoolState(pool));\n\n    const data = Buffer.from(poolState.poolFees.baseFee.baseFeeInfo.data);\n    const modeIndex = data.readUInt8(8); // offset 8 for poolFees pod format\n    const baseFeeMode = modeIndex as BaseFeeMode;\n\n    // check if rate limiter is applied\n    let rateLimiterApplied = false;\n    if (baseFeeMode === BaseFeeMode.RateLimiter) {\n      const currentPoint = await getCurrentPoint(\n        this._program.provider.connection,\n        poolState.activationType,\n      );\n\n      const rateLimiterPoolFees = decodePodAlignedFeeRateLimiter(data);\n\n      rateLimiterApplied = isRateLimiterApplied(\n        rateLimiterPoolFees.referenceAmount,\n        rateLimiterPoolFees.maxLimiterDuration,\n        rateLimiterPoolFees.maxFeeBps,\n        rateLimiterPoolFees.feeIncrementBps,\n        currentPoint,\n        poolState.activationPoint,\n        tradeDirection,\n      );\n    }\n\n    // add remaining accounts if rate limiter is applied\n    const remainingAccounts = rateLimiterApplied\n      ? [\n          {\n            isSigner: false,\n            isWritable: false,\n            pubkey: SYSVAR_INSTRUCTIONS_PUBKEY,\n          },\n        ]\n      : [];\n\n    return await this._program.methods\n      .swap({\n        amountIn,\n        minimumAmountOut,\n      })\n      .accountsPartial({\n        poolAuthority: this.poolAuthority,\n        pool,\n        payer: receiver ?? payer,\n        inputTokenAccount,\n        outputTokenAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n        referralTokenAccount,\n      })\n      .remainingAccounts(remainingAccounts)\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to perform a swap in the pool.\n   * @param params Swap2Params\n   * @returns Transaction builder.\n   */\n  async swap2(params: Swap2Params): TxBuilder {\n    const {\n      payer,\n      pool,\n      inputTokenMint,\n      outputTokenMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n      referralTokenAccount,\n      swapMode,\n      receiver,\n    } = params;\n\n    const [inputTokenProgram, outputTokenProgram] = inputTokenMint.equals(\n      tokenAMint,\n    )\n      ? [tokenAProgram, tokenBProgram]\n      : [tokenBProgram, tokenAProgram];\n\n    const tradeDirection = inputTokenMint.equals(tokenAMint)\n      ? TradeDirection.AtoB\n      : TradeDirection.BtoA;\n\n    const {\n      tokenAAta: inputTokenAccount,\n      tokenBAta: outputTokenAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer,\n      tokenAOwner: receiver ?? payer,\n      tokenBOwner: receiver ?? payer,\n      tokenAMint: inputTokenMint,\n      tokenBMint: outputTokenMint,\n      tokenAProgram: inputTokenProgram,\n      tokenBProgram: outputTokenProgram,\n    });\n\n    let amount0: BN;\n    let amount1: BN;\n\n    if (swapMode === SwapMode.ExactOut) {\n      amount0 = params.amountOut;\n      amount1 = params.maximumAmountIn;\n    } else {\n      amount0 = params.amountIn;\n      amount1 = params.minimumAmountOut;\n    }\n\n    if (inputTokenMint.equals(NATIVE_MINT)) {\n      const amount =\n        swapMode === SwapMode.ExactIn || swapMode === SwapMode.PartialFill\n          ? amount0\n          : amount1;\n      const wrapSOLIx = wrapSOLInstruction(\n        receiver ?? payer,\n        inputTokenAccount,\n        BigInt(amount.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(receiver ?? payer);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    let { poolState } = params;\n    poolState = poolState ?? (await this.fetchPoolState(pool));\n\n    const data = Buffer.from(poolState.poolFees.baseFee.baseFeeInfo.data);\n    const modeIndex = data.readUInt8(8); // offset 8 for poolFees pod format\n    const baseFeeMode = modeIndex as BaseFeeMode;\n\n    // check if rate limiter is applied\n    let rateLimiterApplied = false;\n    if (baseFeeMode === BaseFeeMode.RateLimiter) {\n      const currentPoint = await getCurrentPoint(\n        this._program.provider.connection,\n        poolState.activationType,\n      );\n\n      const rateLimiterPoolFees = decodePodAlignedFeeRateLimiter(data);\n\n      rateLimiterApplied = isRateLimiterApplied(\n        rateLimiterPoolFees.referenceAmount,\n        rateLimiterPoolFees.maxLimiterDuration,\n        rateLimiterPoolFees.maxFeeBps,\n        rateLimiterPoolFees.feeIncrementBps,\n        currentPoint,\n        poolState.activationPoint,\n        tradeDirection,\n      );\n    }\n\n    // add remaining accounts if rate limiter is applied\n    const remainingAccounts = rateLimiterApplied\n      ? [\n          {\n            isSigner: false,\n            isWritable: false,\n            pubkey: SYSVAR_INSTRUCTIONS_PUBKEY,\n          },\n        ]\n      : [];\n\n    return await this._program.methods\n      .swap2({\n        amount0,\n        amount1,\n        swapMode,\n      })\n      .accountsPartial({\n        poolAuthority: this.poolAuthority,\n        pool,\n        payer: receiver ?? payer,\n        inputTokenAccount,\n        outputTokenAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n        referralTokenAccount,\n      })\n      .remainingAccounts(remainingAccounts)\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to lock a position with vesting schedule.\n   * @param {LockPositionParams} params - Locking parameters.\n   * @returns Transaction builder.\n   */\n  async lockPosition(params: LockPositionParams): TxBuilder {\n    const {\n      owner,\n      pool,\n      payer,\n      vestingAccount,\n      position,\n      positionNftAccount,\n      cliffPoint,\n      periodFrequency,\n      cliffUnlockLiquidity,\n      liquidityPerPeriod,\n      numberOfPeriod,\n    } = params;\n    const lockPositionParams = {\n      cliffPoint,\n      periodFrequency,\n      cliffUnlockLiquidity,\n      liquidityPerPeriod,\n      numberOfPeriod,\n    };\n    return await this._program.methods\n      .lockPosition(lockPositionParams)\n      .accountsPartial({\n        position,\n        positionNftAccount,\n        vesting: vestingAccount,\n        pool: pool,\n        owner: owner,\n        payer: payer,\n        systemProgram: SystemProgram.programId,\n      })\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to permanently lock a position.\n   * @param {PermanentLockParams} params - Parameters for permanent locking.\n   * @returns Transaction builder.\n   */\n  async permanentLockPosition(params: PermanentLockParams): TxBuilder {\n    const { owner, position, positionNftAccount, pool, unlockedLiquidity } =\n      params;\n\n    return await this._program.methods\n      .permanentLockPosition(unlockedLiquidity)\n      .accountsPartial({\n        position,\n        positionNftAccount,\n        pool: pool,\n        owner: owner,\n      })\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to refresh vesting status of a position.\n   * @param {RefreshVestingParams} params - Refresh vesting parameters.\n   * @returns Transaction builder.\n   */\n  async refreshVesting(params: RefreshVestingParams): TxBuilder {\n    const instruction = await this.buildRefreshVestingInstruction(params);\n\n    return new Transaction().add(instruction);\n  }\n\n  /**\n   * Builds a transaction to close a position.\n   * @param params ClosePositionParams\n   * @returns Transaction builder.\n   */\n  async closePosition(params: ClosePositionParams): TxBuilder {\n    const { owner, pool, position, positionNftMint, positionNftAccount } =\n      params;\n\n    const instruction = await this.buildClosePositionInstruction({\n      owner,\n      poolAuthority: this.poolAuthority,\n      pool,\n      position,\n      positionNftMint,\n      positionNftAccount,\n    });\n\n    return new Transaction().add(instruction);\n  }\n\n  /**\n   * Builds a transaction to remove all liquidity from a position and close it.\n   * This combines several operations in a single transaction:\n   * 1. Claims any accumulated fees\n   * 2. Removes all liquidity\n   * 3. Closes the position\n   *\n   * @param {RemoveAllLiquidityAndClosePositionParams} params - Combined parameters\n   * @returns {TxBuilder} Transaction builder with all required instructions\n   * @throws {Error} If the position is locked or cannot be closed\n   */\n  async removeAllLiquidityAndClosePosition(\n    params: RemoveAllLiquidityAndClosePositionParams,\n  ): TxBuilder {\n    const {\n      owner,\n      position,\n      positionNftAccount,\n      positionState,\n      poolState,\n      tokenAAmountThreshold,\n      tokenBAmountThreshold,\n      vestings,\n      currentPoint,\n    } = params;\n\n    const { pool } = positionState;\n    const { tokenAMint, tokenBMint } = poolState;\n\n    const { canUnlock, reason } = this.canUnlockPosition(\n      positionState,\n      vestings,\n      currentPoint,\n    );\n\n    if (!canUnlock) {\n      throw new Error(`Cannot remove liquidity: ${reason}`);\n    }\n\n    const tokenAProgram = getTokenProgram(poolState.tokenAFlag);\n    const tokenBProgram = getTokenProgram(poolState.tokenBFlag);\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    // 1. refresh vesting if vesting account provided\n    if (vestings.length > 0) {\n      const refreshVestingInstruction =\n        await this.buildRefreshVestingInstruction({\n          owner,\n          position,\n          positionNftAccount,\n          pool,\n          vestingAccounts: vestings.map((item) => item.account),\n        });\n\n      refreshVestingInstruction &&\n        preInstructions.push(refreshVestingInstruction);\n    }\n\n    const transaction = new Transaction();\n\n    if (preInstructions.length > 0) {\n      transaction.add(...preInstructions);\n    }\n\n    // 2. claim fee, remove liquidity and close position\n    const liquidatePositionInstructions =\n      await this.buildLiquidatePositionInstruction({\n        owner,\n        position,\n        positionNftAccount,\n        positionState,\n        poolState,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAAmountThreshold,\n        tokenBAmountThreshold,\n      });\n\n    transaction.add(...liquidatePositionInstructions);\n\n    if (postInstructions.length > 0) {\n      transaction.add(...postInstructions);\n    }\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to merge liquidity from one position into another.\n   * This process:\n   * 1. Claims fees from the source position\n   * 2. Removes all liquidity from the source position\n   * 3. Adds that liquidity to the target position\n   * 4. Closes the source position\n   *\n   * @param {MergePositionParams} params - Parameters for merging positions\n   * @returns {TxBuilder} Transaction builder with all required instructions\n   * @throws {Error} If either position is locked or incompatible\n   */\n  async mergePosition(params: MergePositionParams): TxBuilder {\n    const {\n      owner,\n      positionA,\n      positionB,\n      positionBState,\n      poolState,\n      positionBNftAccount,\n      positionANftAccount,\n      tokenAAmountAddLiquidityThreshold,\n      tokenBAmountAddLiquidityThreshold,\n      tokenAAmountRemoveLiquidityThreshold,\n      tokenBAmountRemoveLiquidityThreshold,\n      positionBVestings,\n      currentPoint,\n    } = params;\n\n    const { canUnlock, reason } = this.canUnlockPosition(\n      positionBState,\n      positionBVestings,\n      currentPoint,\n    );\n\n    if (!canUnlock) {\n      throw new Error(`Cannot remove liquidity: ${reason}`);\n    }\n\n    const pool = positionBState.pool;\n    const { tokenAMint, tokenBMint, tokenAVault, tokenBVault } = poolState;\n\n    const tokenAProgram = getTokenProgram(poolState.tokenAFlag);\n    const tokenBProgram = getTokenProgram(poolState.tokenBFlag);\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstructions,\n    } = await this.prepareTokenAccounts({\n      payer: owner,\n      tokenAOwner: owner,\n      tokenBOwner: owner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    let positionBLiquidityDelta = positionBState.unlockedLiquidity;\n    // 1. refresh vesting position B if vesting account provided\n    if (positionBVestings.length > 0) {\n      // accumulate all liquidity delta of position b (unlocked + available vesting)\n      const totalAvailableVestingLiquidity = positionBVestings.reduce(\n        (total, position) => {\n          const available = getAvailableVestingLiquidity(\n            position.vestingState,\n            currentPoint,\n          );\n          return total.add(available);\n        },\n        new BN(0),\n      );\n\n      positionBLiquidityDelta = positionBLiquidityDelta.add(\n        totalAvailableVestingLiquidity,\n      );\n\n      const refreshVestingInstruction =\n        await this.buildRefreshVestingInstruction({\n          owner,\n          position: positionB,\n          positionNftAccount: positionBNftAccount,\n          pool,\n          vestingAccounts: positionBVestings.map((item) => item.account),\n        });\n      refreshVestingInstruction &&\n        preInstructions.push(refreshVestingInstruction);\n    }\n\n    // recalculate liquidity delta\n    const tokenAWithdrawAmount = getAmountAFromLiquidityDelta(\n      poolState.sqrtPrice,\n      poolState.sqrtMaxPrice,\n      positionBLiquidityDelta,\n      Rounding.Down,\n    );\n\n    const tokenBWithdrawAmount = getAmountBFromLiquidityDelta(\n      poolState.sqrtMinPrice,\n      poolState.sqrtPrice,\n      positionBLiquidityDelta,\n      Rounding.Down,\n    );\n\n    const newLiquidityDelta = this.getLiquidityDelta({\n      maxAmountTokenA: tokenAWithdrawAmount,\n      maxAmountTokenB: tokenBWithdrawAmount,\n      sqrtMaxPrice: poolState.sqrtMaxPrice,\n      sqrtMinPrice: poolState.sqrtMinPrice,\n      sqrtPrice: poolState.sqrtPrice,\n    });\n\n    const transaction = new Transaction();\n\n    if (preInstructions.length > 0) {\n      transaction.add(...preInstructions);\n    }\n\n    // 2. claim fee, remove liquidity and close position\n    const liquidatePositionInstructions =\n      await this.buildLiquidatePositionInstruction({\n        owner,\n        position: positionB,\n        positionNftAccount: positionBNftAccount,\n        positionState: positionBState,\n        poolState,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAAmountThreshold: tokenAAmountRemoveLiquidityThreshold,\n        tokenBAmountThreshold: tokenBAmountRemoveLiquidityThreshold,\n      });\n\n    transaction.add(...liquidatePositionInstructions);\n\n    // 3. add liquidity from position B to positon A\n    const addLiquidityInstruction = await this.buildAddLiquidityInstruction({\n      pool,\n      position: positionA,\n      positionNftAccount: positionANftAccount,\n      owner,\n      tokenAAccount,\n      tokenBAccount,\n      tokenAMint,\n      tokenBMint,\n      tokenAVault,\n      tokenBVault,\n      tokenAProgram,\n      tokenBProgram,\n      liquidityDelta: newLiquidityDelta,\n      tokenAAmountThreshold: tokenAAmountAddLiquidityThreshold,\n      tokenBAmountThreshold: tokenBAmountAddLiquidityThreshold,\n    });\n\n    transaction.add(addLiquidityInstruction);\n\n    if (\n      [tokenAMint.toBase58(), tokenBMint.toBase58()].includes(\n        NATIVE_MINT.toBase58(),\n      )\n    ) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner);\n      closeWrappedSOLIx && transaction.add(closeWrappedSOLIx);\n    }\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to initialize a reward for a pool.\n   * @param params InitializeRewardParams\n   * @returns Transaction builder.\n   */\n  async initializeReward(params: InitializeRewardParams): TxBuilder {\n    const {\n      rewardIndex,\n      rewardDuration,\n      funder,\n      pool,\n      creator,\n      payer,\n      rewardMint,\n      rewardMintProgram,\n    } = params;\n\n    const rewardVault = deriveRewardVaultAddress(pool, rewardIndex);\n    const tokenBadge = deriveTokenBadgeAddress(rewardMint);\n    const operator = deriveOperatorAddress(creator);\n    const remainingAccounts: AccountMeta[] = [];\n\n    const [tokenBadgeInfo, operatorInfo] = await Promise.all([\n      this._program.provider.connection.getAccountInfo(tokenBadge),\n      this._program.provider.connection.getAccountInfo(operator),\n    ]);\n\n    if (tokenBadgeInfo) {\n      remainingAccounts.push({\n        pubkey: tokenBadge,\n        isSigner: false,\n        isWritable: false,\n      });\n    } else {\n      remainingAccounts.push({\n        pubkey: CP_AMM_PROGRAM_ID,\n        isSigner: false,\n        isWritable: false,\n      });\n    }\n\n    if (operatorInfo) {\n      remainingAccounts.push({\n        pubkey: operator,\n        isSigner: false,\n        isWritable: false,\n      });\n    }\n\n    return await this._program.methods\n      .initializeReward(rewardIndex, rewardDuration, funder)\n      .accountsPartial({\n        poolAuthority: this.poolAuthority,\n        pool,\n        rewardVault,\n        rewardMint,\n        signer: creator,\n        payer,\n        tokenProgram: rewardMintProgram,\n      })\n      .remainingAccounts(remainingAccounts)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to initialize and fund a reward for a pool.\n   * @param params InitializeAndFundReward\n   * @returns Transaction builder.\n   */\n  async initializeAndFundReward(params: InitializeAndFundReward): TxBuilder {\n    const {\n      rewardIndex,\n      rewardDuration,\n      pool,\n      creator,\n      payer,\n      rewardMint,\n      carryForward,\n      amount,\n      rewardMintProgram,\n    } = params;\n\n    const rewardVault = deriveRewardVaultAddress(pool, rewardIndex);\n\n    const initializeRewardTx = await this.initializeReward({\n      rewardIndex,\n      rewardDuration,\n      funder: payer,\n      pool,\n      creator,\n      payer,\n      rewardMint,\n      rewardMintProgram,\n    });\n\n    // fund reward\n    const fundRewardTx = await this.fundReward({\n      rewardIndex,\n      carryForward,\n      pool,\n      funder: payer,\n      amount,\n      rewardMint,\n      rewardVault,\n      rewardMintProgram,\n    });\n\n    return new Transaction().add(initializeRewardTx).add(fundRewardTx);\n  }\n\n  /**\n   * Builds a transaction to update reward duration.\n   * @param {UpdateRewardDurationParams} params - Parameters including pool and new duration.\n   * @returns Transaction builder.\n   */\n  async updateRewardDuration(params: UpdateRewardDurationParams): TxBuilder {\n    const { pool, signer, rewardIndex, newDuration } = params;\n    return await this._program.methods\n      .updateRewardDuration(rewardIndex, newDuration)\n      .accountsPartial({\n        pool,\n        signer,\n      })\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to update reward funder address.\n   * @param {UpdateRewardFunderParams} params - Parameters including pool and new funder address.\n   * @returns Transaction builder.\n   */\n  async updateRewardFunder(params: UpdateRewardFunderParams): TxBuilder {\n    const { pool, signer, rewardIndex, newFunder } = params;\n    return await this._program.methods\n      .updateRewardFunder(rewardIndex, newFunder)\n      .accountsPartial({\n        pool,\n        signer,\n      })\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to fund rewards in a pool.\n   * @param {FundRewardParams} params - Funding parameters.\n   * @returns Transaction builder.\n   */\n  async fundReward(params: FundRewardParams): TxBuilder {\n    const {\n      funder,\n      rewardIndex,\n      pool,\n      carryForward,\n      amount,\n      rewardMint,\n      rewardVault,\n      rewardMintProgram,\n    } = params;\n\n    const preInstructions: TransactionInstruction[] = [];\n\n    const { ataPubkey: funderTokenAccount, ix: createFunderTokenAccountIx } =\n      await getOrCreateATAInstruction(\n        this._program.provider.connection,\n        rewardMint,\n        funder,\n        funder,\n        true,\n        rewardMintProgram,\n      );\n\n    createFunderTokenAccountIx &&\n      preInstructions.push(createFunderTokenAccountIx);\n\n    if (rewardMint.equals(NATIVE_MINT) && !amount.isZero()) {\n      const wrapSOLIx = wrapSOLInstruction(\n        funder,\n        funderTokenAccount,\n        BigInt(amount.toString()),\n      );\n\n      preInstructions.push(...wrapSOLIx);\n    }\n\n    return await this._program.methods\n      .fundReward(rewardIndex, amount, carryForward)\n      .accountsPartial({\n        pool,\n        rewardVault,\n        rewardMint: rewardMint,\n        funderTokenAccount,\n        funder: funder,\n        tokenProgram: rewardMintProgram,\n      })\n      .preInstructions(preInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to withdraw ineligible rewards from a pool.\n   * @param {WithdrawIneligibleRewardParams} params - Parameters for withdrawal.\n   * @returns Transaction builder.\n   */\n  async withdrawIneligibleReward(\n    params: WithdrawIneligibleRewardParams,\n  ): TxBuilder {\n    const { rewardIndex, pool, funder } = params;\n    const poolState = await this.fetchPoolState(pool);\n\n    const rewardInfo = poolState.rewardInfos[rewardIndex];\n    const { mint, vault, rewardTokenFlag } = rewardInfo;\n    const tokenProgram = getTokenProgram(rewardTokenFlag);\n\n    const preInstructions: TransactionInstruction[] = [];\n    const postInstructions: TransactionInstruction[] = [];\n    const { ataPubkey: funderTokenAccount, ix: createFunderTokenAccountIx } =\n      await getOrCreateATAInstruction(\n        this._program.provider.connection,\n        mint,\n        funder,\n        funder,\n        true,\n        tokenProgram,\n      );\n    createFunderTokenAccountIx &&\n      preInstructions.push(createFunderTokenAccountIx);\n\n    if (mint.equals(NATIVE_MINT)) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(funder);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n\n    return await this._program.methods\n      .withdrawIneligibleReward(rewardIndex)\n      .accountsPartial({\n        pool,\n        rewardVault: vault,\n        rewardMint: mint,\n        poolAuthority: this.poolAuthority,\n        funderTokenAccount,\n        funder: funder,\n        tokenProgram,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to claim partner fee rewards.\n   * @param {ClaimPartnerFeeParams} params - Claim parameters including amounts and partner address.\n   * @returns Transaction builder.\n   */\n  async claimPartnerFee(params: ClaimPartnerFeeParams): TxBuilder {\n    const {\n      feePayer,\n      receiver,\n      tempWSolAccount,\n      partner,\n      pool,\n      maxAmountA,\n      maxAmountB,\n    } = params;\n    const poolState = await this.fetchPoolState(pool);\n    const {\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAFlag,\n      tokenBFlag,\n    } = poolState;\n\n    const tokenAProgram = getTokenProgram(tokenAFlag);\n    const tokenBProgram = getTokenProgram(tokenBFlag);\n\n    const payer = feePayer ?? partner;\n    const { tokenAAccount, tokenBAccount, preInstructions, postInstructions } =\n      await this.setupFeeClaimAccounts({\n        payer,\n        owner: partner,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n        receiver,\n        tempWSolAccount,\n      });\n\n    return await this._program.methods\n      .claimPartnerFee(maxAmountA, maxAmountB)\n      .accountsPartial({\n        poolAuthority: this.poolAuthority,\n        pool,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        partner,\n        tokenAProgram,\n        tokenBProgram,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to claim position fee rewards.\n   * @param {ClaimPositionFeeParams} params - Parameters for claiming position fee.\n   * @returns Transaction builder.\n   */\n  async claimPositionFee(params: ClaimPositionFeeParams): TxBuilder {\n    const {\n      receiver,\n      tempWSolAccount,\n      feePayer,\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n\n    const payer = feePayer ?? owner;\n    const { tokenAAccount, tokenBAccount, preInstructions, postInstructions } =\n      await this.setupFeeClaimAccounts({\n        payer,\n        owner,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n        receiver,\n        tempWSolAccount,\n      });\n    const claimPositionFeeInstruction =\n      await this.buildClaimPositionFeeInstruction({\n        owner,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n      });\n\n    const transaction = new Transaction();\n    transaction.add(\n      ...(preInstructions.length > 0 ? preInstructions : []),\n      claimPositionFeeInstruction,\n      ...(postInstructions.length > 0 ? postInstructions : []),\n    );\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to claim position fee rewards.\n   * @param {ClaimPositionFeeParams2} params - Parameters for claiming position fee.\n   * @returns Transaction builder.\n   */\n  async claimPositionFee2(params: ClaimPositionFeeParams2): TxBuilder {\n    const {\n      receiver,\n      feePayer,\n      owner,\n      pool,\n      position,\n      positionNftAccount,\n      tokenAVault,\n      tokenBVault,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    } = params;\n\n    const payer = feePayer ?? owner;\n\n    let tokenAOwner = receiver;\n    let tokenBOwner = receiver;\n\n    if (tokenAMint.equals(NATIVE_MINT)) {\n      tokenAOwner = owner;\n    }\n\n    if (tokenBMint.equals(NATIVE_MINT)) {\n      tokenBOwner = owner;\n    }\n\n    const {\n      tokenAAta: tokenAAccount,\n      tokenBAta: tokenBAccount,\n      instructions: preInstruction,\n    } = await this.prepareTokenAccounts({\n      payer,\n      tokenAOwner,\n      tokenBOwner,\n      tokenAMint,\n      tokenBMint,\n      tokenAProgram,\n      tokenBProgram,\n    });\n\n    const postInstructions: TransactionInstruction[] = [];\n    if (tokenAMint.equals(NATIVE_MINT) || tokenBMint.equals(NATIVE_MINT)) {\n      // unwarp sol to receiver\n      const closeWrappedSOLIx = await unwrapSOLInstruction(owner, receiver);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n    const claimPositionFeeInstruction =\n      await this.buildClaimPositionFeeInstruction({\n        owner,\n        poolAuthority: this.poolAuthority,\n        pool,\n        position,\n        positionNftAccount,\n        tokenAAccount,\n        tokenBAccount,\n        tokenAVault,\n        tokenBVault,\n        tokenAMint,\n        tokenBMint,\n        tokenAProgram,\n        tokenBProgram,\n      });\n\n    const transaction = new Transaction();\n    transaction.add(\n      ...(preInstruction.length > 0 ? preInstruction : []),\n      claimPositionFeeInstruction,\n      ...(postInstructions.length > 0 ? postInstructions : []),\n    );\n\n    return transaction;\n  }\n\n  /**\n   * Builds a transaction to claim reward from a position.\n   * @param {ClaimRewardParams} params - Parameters for claiming reward.\n   * @returns Transaction builder.\n   */\n  async claimReward(params: ClaimRewardParams): TxBuilder {\n    const {\n      feePayer,\n      user,\n      position,\n      positionNftAccount,\n      rewardIndex,\n      poolState,\n      positionState,\n      isSkipReward,\n    } = params;\n\n    const rewardInfo = poolState.rewardInfos[rewardIndex];\n    const tokenProgram = getTokenProgram(rewardInfo.rewardTokenFlag);\n\n    const preInstructions: TransactionInstruction[] = [];\n    const postInstructions: TransactionInstruction[] = [];\n    const { ataPubkey: userTokenAccount, ix: createUserTokenAccountIx } =\n      await getOrCreateATAInstruction(\n        this._program.provider.connection,\n        rewardInfo.mint,\n        user,\n        feePayer ?? user,\n        true,\n        tokenProgram,\n      );\n    createUserTokenAccountIx && preInstructions.push(createUserTokenAccountIx);\n\n    if (rewardInfo.mint.equals(NATIVE_MINT)) {\n      const closeWrappedSOLIx = await unwrapSOLInstruction(user);\n      closeWrappedSOLIx && postInstructions.push(closeWrappedSOLIx);\n    }\n    const skipReward = isSkipReward ? 1 : 0;\n    return await this._program.methods\n      .claimReward(rewardIndex, skipReward)\n      .accountsPartial({\n        pool: positionState.pool,\n        positionNftAccount,\n        rewardVault: rewardInfo.vault,\n        rewardMint: rewardInfo.mint,\n        poolAuthority: this.poolAuthority,\n        position,\n        userTokenAccount,\n        owner: user,\n        tokenProgram,\n      })\n      .preInstructions(preInstructions)\n      .postInstructions(postInstructions)\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to split a position into two positions.\n   * @param params SplitPositionParams\n   * @returns Transaction builder.\n   */\n  async splitPosition(params: SplitPositionParams): TxBuilder {\n    const {\n      firstPositionOwner,\n      secondPositionOwner,\n      pool,\n      firstPosition,\n      firstPositionNftAccount,\n      secondPosition,\n      secondPositionNftAccount,\n      permanentLockedLiquidityPercentage,\n      unlockedLiquidityPercentage,\n      feeAPercentage,\n      feeBPercentage,\n      reward0Percentage,\n      reward1Percentage,\n    } = params;\n\n    return await this._program.methods\n      .splitPosition({\n        permanentLockedLiquidityPercentage,\n        unlockedLiquidityPercentage,\n        feeAPercentage,\n        feeBPercentage,\n        reward0Percentage,\n        reward1Percentage,\n        padding: new Array(16).fill(0),\n      })\n      .accountsPartial({\n        pool,\n        firstPosition,\n        firstPositionNftAccount,\n        secondPosition,\n        secondPositionNftAccount,\n        firstOwner: firstPositionOwner,\n        secondOwner: secondPositionOwner,\n      })\n      .transaction();\n  }\n\n  /**\n   * Builds a transaction to split a position into two positions.\n   * @param params SplitPosition2Params\n   * @returns Transaction builder.\n   */\n  async splitPosition2(params: SplitPosition2Params): TxBuilder {\n    const {\n      firstPositionOwner,\n      secondPositionOwner,\n      pool,\n      firstPosition,\n      firstPositionNftAccount,\n      secondPosition,\n      secondPositionNftAccount,\n      numerator,\n    } = params;\n\n    return await this._program.methods\n      .splitPosition2(numerator)\n      .accountsPartial({\n        pool,\n        firstPosition,\n        firstPositionNftAccount,\n        secondPosition,\n        secondPositionNftAccount,\n        firstOwner: firstPositionOwner,\n        secondOwner: secondPositionOwner,\n      })\n      .transaction();\n  }\n}\n","{\n  \"address\": \"cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG\",\n  \"metadata\": {\n    \"name\": \"cp_amm\",\n    \"version\": \"0.1.7\",\n    \"spec\": \"0.1.0\",\n    \"description\": \"Created with Anchor\"\n  },\n  \"instructions\": [\n    {\n      \"name\": \"add_liquidity\",\n      \"discriminator\": [\n        181,\n        157,\n        89,\n        67,\n        143,\n        182,\n        52,\n        72\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"docs\": [\n            \"The user token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"docs\": [\n            \"The user token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"AddLiquidityParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"claim_partner_fee\",\n      \"discriminator\": [\n        97,\n        206,\n        39,\n        105,\n        94,\n        94,\n        126,\n        148\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"docs\": [\n            \"The treasury token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"docs\": [\n            \"The treasury token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"partner\",\n          \"signer\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"max_amount_a\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"max_amount_b\",\n          \"type\": \"u64\"\n        }\n      ]\n    },\n    {\n      \"name\": \"claim_position_fee\",\n      \"discriminator\": [\n        180,\n        38,\n        154,\n        17,\n        133,\n        33,\n        162,\n        211\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"docs\": [\n            \"The user token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"docs\": [\n            \"The user token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"claim_protocol_fee\",\n      \"discriminator\": [\n        165,\n        228,\n        133,\n        48,\n        99,\n        249,\n        255,\n        33\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\",\n          \"docs\": [\n            \"Claim fee operator\"\n          ]\n        },\n        {\n          \"name\": \"signer\",\n          \"docs\": [\n            \"Operator\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"max_amount_a\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"max_amount_b\",\n          \"type\": \"u64\"\n        }\n      ]\n    },\n    {\n      \"name\": \"claim_reward\",\n      \"discriminator\": [\n        149,\n        95,\n        181,\n        242,\n        94,\n        90,\n        158,\n        162\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_vault\",\n          \"docs\": [\n            \"The vault token account for reward token\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_mint\"\n        },\n        {\n          \"name\": \"user_token_account\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        },\n        {\n          \"name\": \"skip_reward\",\n          \"type\": \"u8\"\n        }\n      ]\n    },\n    {\n      \"name\": \"close_config\",\n      \"discriminator\": [\n        145,\n        9,\n        72,\n        157,\n        95,\n        125,\n        61,\n        85\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"config\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"rent_receiver\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"close_operator_account\",\n      \"discriminator\": [\n        171,\n        9,\n        213,\n        74,\n        120,\n        23,\n        3,\n        29\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"operator\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"rent_receiver\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"close_position\",\n      \"discriminator\": [\n        123,\n        134,\n        81,\n        0,\n        49,\n        68,\n        98,\n        98\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"position_nft_mint\",\n          \"docs\": [\n            \"position_nft_mint\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"rent_receiver\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"Owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\",\n          \"docs\": [\n            \"Program to create NFT mint/token account and transfer for token22 account\"\n          ],\n          \"address\": \"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"close_token_badge\",\n      \"discriminator\": [\n        108,\n        146,\n        86,\n        110,\n        179,\n        254,\n        10,\n        104\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"token_badge\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"rent_receiver\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"create_config\",\n      \"docs\": [\n        \"OPERATOR FUNCTIONS /////\"\n      ],\n      \"discriminator\": [\n        201,\n        207,\n        243,\n        114,\n        75,\n        111,\n        47,\n        189\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"config\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  99,\n                  111,\n                  110,\n                  102,\n                  105,\n                  103\n                ]\n              },\n              {\n                \"kind\": \"arg\",\n                \"path\": \"index\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"index\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"config_parameters\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"StaticConfigParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"create_dynamic_config\",\n      \"discriminator\": [\n        81,\n        251,\n        122,\n        78,\n        66,\n        57,\n        208,\n        82\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"config\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  99,\n                  111,\n                  110,\n                  102,\n                  105,\n                  103\n                ]\n              },\n              {\n                \"kind\": \"arg\",\n                \"path\": \"index\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"index\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"config_parameters\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"DynamicConfigParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"create_operator_account\",\n      \"docs\": [\n        \"ADMIN FUNCTIONS /////\"\n      ],\n      \"discriminator\": [\n        221,\n        64,\n        246,\n        149,\n        240,\n        153,\n        229,\n        163\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"operator\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  111,\n                  112,\n                  101,\n                  114,\n                  97,\n                  116,\n                  111,\n                  114\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"whitelisted_address\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"whitelisted_address\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"permission\",\n          \"type\": \"u128\"\n        }\n      ]\n    },\n    {\n      \"name\": \"create_position\",\n      \"discriminator\": [\n        48,\n        215,\n        197,\n        153,\n        96,\n        203,\n        180,\n        133\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"owner\"\n        },\n        {\n          \"name\": \"position_nft_mint\",\n          \"docs\": [\n            \"position_nft_mint\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"position nft account\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110,\n                  95,\n                  110,\n                  102,\n                  116,\n                  95,\n                  97,\n                  99,\n                  99,\n                  111,\n                  117,\n                  110,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"Address paying to create the position. Can be anyone\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\",\n          \"docs\": [\n            \"Program to create NFT mint/token account and transfer for token22 account\"\n          ],\n          \"address\": \"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"create_token_badge\",\n      \"discriminator\": [\n        88,\n        206,\n        0,\n        91,\n        60,\n        175,\n        151,\n        118\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"token_badge\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  98,\n                  97,\n                  100,\n                  103,\n                  101\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_mint\"\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"dummy_ix\",\n      \"discriminator\": [\n        234,\n        95,\n        176,\n        185,\n        7,\n        42,\n        35,\n        159\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pod_aligned_fee_time_scheduler\"\n        },\n        {\n          \"name\": \"pod_aligned_fee_rate_limiter\"\n        },\n        {\n          \"name\": \"pod_aligned_fee_market_cap_scheduler\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"_ixs\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"DummyParams\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"fund_reward\",\n      \"discriminator\": [\n        188,\n        50,\n        249,\n        165,\n        93,\n        151,\n        38,\n        63\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_vault\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_mint\"\n        },\n        {\n          \"name\": \"funder_token_account\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"funder\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        },\n        {\n          \"name\": \"amount\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"carry_forward\",\n          \"type\": \"bool\"\n        }\n      ]\n    },\n    {\n      \"name\": \"initialize_customizable_pool\",\n      \"discriminator\": [\n        20,\n        161,\n        241,\n        24,\n        189,\n        221,\n        180,\n        2\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"creator\"\n        },\n        {\n          \"name\": \"position_nft_mint\",\n          \"docs\": [\n            \"position_nft_mint\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"position nft account\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110,\n                  95,\n                  110,\n                  102,\n                  116,\n                  95,\n                  97,\n                  99,\n                  99,\n                  111,\n                  117,\n                  110,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"Address paying to create the pool. Can be anyone\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"docs\": [\n            \"Initialize an account to store the pool state\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"Token a mint\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"Token b mint\"\n          ]\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"Token a vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_a_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"Token b vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_b_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer_token_a\",\n          \"docs\": [\n            \"payer token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"payer_token_b\",\n          \"docs\": [\n            \"creator token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_2022_program\",\n          \"docs\": [\n            \"Program to create NFT mint/token account and transfer for token22 account\"\n          ],\n          \"address\": \"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"InitializeCustomizablePoolParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"initialize_pool\",\n      \"docs\": [\n        \"USER FUNCTIONS ////\"\n      ],\n      \"discriminator\": [\n        95,\n        180,\n        10,\n        172,\n        84,\n        174,\n        232,\n        40\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"creator\"\n        },\n        {\n          \"name\": \"position_nft_mint\",\n          \"docs\": [\n            \"position_nft_mint\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"position nft account\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110,\n                  95,\n                  110,\n                  102,\n                  116,\n                  95,\n                  97,\n                  99,\n                  99,\n                  111,\n                  117,\n                  110,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"Address paying to create the pool. Can be anyone\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"config\",\n          \"docs\": [\n            \"Which config the pool belongs to.\"\n          ]\n        },\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"docs\": [\n            \"Initialize an account to store the pool state\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"Token a mint\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"Token b mint\"\n          ]\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"Token a vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_a_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"Token b vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_b_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer_token_a\",\n          \"docs\": [\n            \"payer token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"payer_token_b\",\n          \"docs\": [\n            \"creator token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_2022_program\",\n          \"docs\": [\n            \"Program to create NFT mint/token account and transfer for token22 account\"\n          ],\n          \"address\": \"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"InitializePoolParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"initialize_pool_with_dynamic_config\",\n      \"discriminator\": [\n        149,\n        82,\n        72,\n        197,\n        253,\n        252,\n        68,\n        15\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"creator\"\n        },\n        {\n          \"name\": \"position_nft_mint\",\n          \"docs\": [\n            \"position_nft_mint\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"position nft account\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110,\n                  95,\n                  110,\n                  102,\n                  116,\n                  95,\n                  97,\n                  99,\n                  99,\n                  111,\n                  117,\n                  110,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"Address paying to create the pool. Can be anyone\"\n          ],\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"pool_creator_authority\",\n          \"signer\": true,\n          \"relations\": [\n            \"config\"\n          ]\n        },\n        {\n          \"name\": \"config\",\n          \"docs\": [\n            \"Which config the pool belongs to.\"\n          ]\n        },\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"docs\": [\n            \"Initialize an account to store the pool state\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  112,\n                  111,\n                  115,\n                  105,\n                  116,\n                  105,\n                  111,\n                  110\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"position_nft_mint\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"Token a mint\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"Token b mint\"\n          ]\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"Token a vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_a_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"Token b vault for the pool\"\n          ],\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  116,\n                  111,\n                  107,\n                  101,\n                  110,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"token_b_mint\"\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"payer_token_a\",\n          \"docs\": [\n            \"payer token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"payer_token_b\",\n          \"docs\": [\n            \"creator token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Program to create mint account and mint tokens\"\n          ]\n        },\n        {\n          \"name\": \"token_2022_program\",\n          \"docs\": [\n            \"Program to create NFT mint/token account and transfer for token22 account\"\n          ],\n          \"address\": \"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb\"\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"InitializeCustomizablePoolParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"initialize_reward\",\n      \"discriminator\": [\n        95,\n        135,\n        192,\n        196,\n        242,\n        129,\n        230,\n        68\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_vault\",\n          \"writable\": true,\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  114,\n                  101,\n                  119,\n                  97,\n                  114,\n                  100,\n                  95,\n                  118,\n                  97,\n                  117,\n                  108,\n                  116\n                ]\n              },\n              {\n                \"kind\": \"account\",\n                \"path\": \"pool\"\n              },\n              {\n                \"kind\": \"arg\",\n                \"path\": \"reward_index\"\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"reward_mint\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\"\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        },\n        {\n          \"name\": \"reward_duration\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"funder\",\n          \"type\": \"pubkey\"\n        }\n      ]\n    },\n    {\n      \"name\": \"lock_position\",\n      \"discriminator\": [\n        227,\n        62,\n        2,\n        252,\n        247,\n        10,\n        171,\n        185\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"vesting\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"payer\",\n          \"writable\": true,\n          \"signer\": true\n        },\n        {\n          \"name\": \"system_program\",\n          \"address\": \"11111111111111111111111111111111\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"VestingParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"permanent_lock_position\",\n      \"discriminator\": [\n        165,\n        176,\n        125,\n        6,\n        231,\n        171,\n        186,\n        213\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"permanent_lock_liquidity\",\n          \"type\": \"u128\"\n        }\n      ]\n    },\n    {\n      \"name\": \"refresh_vesting\",\n      \"discriminator\": [\n        9,\n        94,\n        216,\n        14,\n        116,\n        204,\n        247,\n        0\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\"\n        }\n      ],\n      \"args\": []\n    },\n    {\n      \"name\": \"remove_all_liquidity\",\n      \"discriminator\": [\n        10,\n        51,\n        61,\n        35,\n        112,\n        105,\n        24,\n        85\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"docs\": [\n            \"The user token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"docs\": [\n            \"The user token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"token_a_amount_threshold\",\n          \"type\": \"u64\"\n        },\n        {\n          \"name\": \"token_b_amount_threshold\",\n          \"type\": \"u64\"\n        }\n      ]\n    },\n    {\n      \"name\": \"remove_liquidity\",\n      \"discriminator\": [\n        80,\n        85,\n        209,\n        72,\n        24,\n        206,\n        177,\n        108\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"position\"\n          ]\n        },\n        {\n          \"name\": \"position\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_account\",\n          \"docs\": [\n            \"The user token a account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_b_account\",\n          \"docs\": [\n            \"The user token b account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ],\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"position_nft_account\",\n          \"docs\": [\n            \"The token account for nft\"\n          ]\n        },\n        {\n          \"name\": \"owner\",\n          \"docs\": [\n            \"owner of position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"RemoveLiquidityParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"set_pool_status\",\n      \"discriminator\": [\n        112,\n        87,\n        135,\n        223,\n        83,\n        204,\n        132,\n        53\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"status\",\n          \"type\": \"u8\"\n        }\n      ]\n    },\n    {\n      \"name\": \"split_position\",\n      \"discriminator\": [\n        172,\n        241,\n        221,\n        138,\n        161,\n        29,\n        253,\n        42\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"first_position\",\n            \"second_position\"\n          ]\n        },\n        {\n          \"name\": \"first_position\",\n          \"docs\": [\n            \"The first position\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"first_position_nft_account\",\n          \"docs\": [\n            \"The token account for position nft\"\n          ]\n        },\n        {\n          \"name\": \"second_position\",\n          \"docs\": [\n            \"The second position\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"second_position_nft_account\",\n          \"docs\": [\n            \"The token account for position nft\"\n          ]\n        },\n        {\n          \"name\": \"first_owner\",\n          \"docs\": [\n            \"Owner of first position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"second_owner\",\n          \"docs\": [\n            \"Owner of second position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"SplitPositionParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"split_position2\",\n      \"discriminator\": [\n        221,\n        147,\n        228,\n        207,\n        140,\n        212,\n        17,\n        119\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true,\n          \"relations\": [\n            \"first_position\",\n            \"second_position\"\n          ]\n        },\n        {\n          \"name\": \"first_position\",\n          \"docs\": [\n            \"The first position\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"first_position_nft_account\",\n          \"docs\": [\n            \"The token account for position nft\"\n          ]\n        },\n        {\n          \"name\": \"second_position\",\n          \"docs\": [\n            \"The second position\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"second_position_nft_account\",\n          \"docs\": [\n            \"The token account for position nft\"\n          ]\n        },\n        {\n          \"name\": \"first_owner\",\n          \"docs\": [\n            \"Owner of first position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"second_owner\",\n          \"docs\": [\n            \"Owner of second position\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"numerator\",\n          \"type\": \"u32\"\n        }\n      ]\n    },\n    {\n      \"name\": \"swap\",\n      \"discriminator\": [\n        248,\n        198,\n        158,\n        145,\n        225,\n        117,\n        135,\n        200\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"docs\": [\n            \"Pool account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"input_token_account\",\n          \"docs\": [\n            \"The user token account for input token\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"output_token_account\",\n          \"docs\": [\n            \"The user token account for output token\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ]\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"The user performing the swap\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"referral_token_account\",\n          \"docs\": [\n            \"referral token account\"\n          ],\n          \"writable\": true,\n          \"optional\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"_params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"SwapParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"swap2\",\n      \"discriminator\": [\n        65,\n        75,\n        63,\n        76,\n        235,\n        91,\n        91,\n        136\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"docs\": [\n            \"Pool account\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"input_token_account\",\n          \"docs\": [\n            \"The user token account for input token\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"output_token_account\",\n          \"docs\": [\n            \"The user token account for output token\"\n          ],\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_a_vault\",\n          \"docs\": [\n            \"The vault token account for input token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_b_vault\",\n          \"docs\": [\n            \"The vault token account for output token\"\n          ],\n          \"writable\": true,\n          \"relations\": [\n            \"pool\"\n          ]\n        },\n        {\n          \"name\": \"token_a_mint\",\n          \"docs\": [\n            \"The mint of token a\"\n          ]\n        },\n        {\n          \"name\": \"token_b_mint\",\n          \"docs\": [\n            \"The mint of token b\"\n          ]\n        },\n        {\n          \"name\": \"payer\",\n          \"docs\": [\n            \"The user performing the swap\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_a_program\",\n          \"docs\": [\n            \"Token a program\"\n          ]\n        },\n        {\n          \"name\": \"token_b_program\",\n          \"docs\": [\n            \"Token b program\"\n          ]\n        },\n        {\n          \"name\": \"referral_token_account\",\n          \"docs\": [\n            \"referral token account\"\n          ],\n          \"writable\": true,\n          \"optional\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"_params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"SwapParameters2\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"update_pool_fees\",\n      \"discriminator\": [\n        118,\n        217,\n        203,\n        179,\n        60,\n        8,\n        70,\n        89\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\"\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"params\",\n          \"type\": {\n            \"defined\": {\n              \"name\": \"UpdatePoolFeesParameters\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"update_reward_duration\",\n      \"discriminator\": [\n        138,\n        174,\n        196,\n        169,\n        213,\n        235,\n        254,\n        107\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        },\n        {\n          \"name\": \"new_duration\",\n          \"type\": \"u64\"\n        }\n      ]\n    },\n    {\n      \"name\": \"update_reward_funder\",\n      \"discriminator\": [\n        211,\n        28,\n        48,\n        32,\n        215,\n        160,\n        35,\n        23\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"signer\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        },\n        {\n          \"name\": \"new_funder\",\n          \"type\": \"pubkey\"\n        }\n      ]\n    },\n    {\n      \"name\": \"withdraw_ineligible_reward\",\n      \"discriminator\": [\n        148,\n        206,\n        42,\n        195,\n        247,\n        49,\n        103,\n        8\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_vault\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"reward_mint\"\n        },\n        {\n          \"name\": \"funder_token_account\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"funder\",\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\"\n        },\n        {\n          \"name\": \"event_authority\",\n          \"pda\": {\n            \"seeds\": [\n              {\n                \"kind\": \"const\",\n                \"value\": [\n                  95,\n                  95,\n                  101,\n                  118,\n                  101,\n                  110,\n                  116,\n                  95,\n                  97,\n                  117,\n                  116,\n                  104,\n                  111,\n                  114,\n                  105,\n                  116,\n                  121\n                ]\n              }\n            ]\n          }\n        },\n        {\n          \"name\": \"program\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"reward_index\",\n          \"type\": \"u8\"\n        }\n      ]\n    },\n    {\n      \"name\": \"zap_protocol_fee\",\n      \"discriminator\": [\n        213,\n        155,\n        187,\n        34,\n        56,\n        182,\n        91,\n        240\n      ],\n      \"accounts\": [\n        {\n          \"name\": \"pool_authority\",\n          \"address\": \"HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC\"\n        },\n        {\n          \"name\": \"pool\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_vault\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"token_mint\"\n        },\n        {\n          \"name\": \"receiver_token\",\n          \"writable\": true\n        },\n        {\n          \"name\": \"operator\",\n          \"docs\": [\n            \"zap claim fee operator\"\n          ]\n        },\n        {\n          \"name\": \"signer\",\n          \"docs\": [\n            \"Operator\"\n          ],\n          \"signer\": true\n        },\n        {\n          \"name\": \"token_program\",\n          \"docs\": [\n            \"Token program\"\n          ]\n        },\n        {\n          \"name\": \"sysvar_instructions\",\n          \"address\": \"Sysvar1nstructions1111111111111111111111111\"\n        }\n      ],\n      \"args\": [\n        {\n          \"name\": \"max_amount\",\n          \"type\": \"u64\"\n        }\n      ]\n    }\n  ],\n  \"accounts\": [\n    {\n      \"name\": \"Config\",\n      \"discriminator\": [\n        155,\n        12,\n        170,\n        224,\n        30,\n        250,\n        204,\n        130\n      ]\n    },\n    {\n      \"name\": \"Operator\",\n      \"discriminator\": [\n        219,\n        31,\n        188,\n        145,\n        69,\n        139,\n        204,\n        117\n      ]\n    },\n    {\n      \"name\": \"PodAlignedFeeMarketCapScheduler\",\n      \"discriminator\": [\n        251,\n        130,\n        208,\n        253,\n        245,\n        27,\n        145,\n        203\n      ]\n    },\n    {\n      \"name\": \"PodAlignedFeeRateLimiter\",\n      \"discriminator\": [\n        160,\n        219,\n        8,\n        251,\n        179,\n        7,\n        16,\n        117\n      ]\n    },\n    {\n      \"name\": \"PodAlignedFeeTimeScheduler\",\n      \"discriminator\": [\n        239,\n        132,\n        138,\n        213,\n        67,\n        154,\n        130,\n        70\n      ]\n    },\n    {\n      \"name\": \"Pool\",\n      \"discriminator\": [\n        241,\n        154,\n        109,\n        4,\n        17,\n        177,\n        109,\n        188\n      ]\n    },\n    {\n      \"name\": \"Position\",\n      \"discriminator\": [\n        170,\n        188,\n        143,\n        228,\n        122,\n        64,\n        247,\n        208\n      ]\n    },\n    {\n      \"name\": \"TokenBadge\",\n      \"discriminator\": [\n        116,\n        219,\n        204,\n        229,\n        249,\n        116,\n        255,\n        150\n      ]\n    },\n    {\n      \"name\": \"Vesting\",\n      \"discriminator\": [\n        100,\n        149,\n        66,\n        138,\n        95,\n        200,\n        128,\n        241\n      ]\n    }\n  ],\n  \"events\": [\n    {\n      \"name\": \"EvtClaimPartnerFee\",\n      \"discriminator\": [\n        118,\n        99,\n        77,\n        10,\n        226,\n        1,\n        1,\n        87\n      ]\n    },\n    {\n      \"name\": \"EvtClaimPositionFee\",\n      \"discriminator\": [\n        198,\n        182,\n        183,\n        52,\n        97,\n        12,\n        49,\n        56\n      ]\n    },\n    {\n      \"name\": \"EvtClaimProtocolFee\",\n      \"discriminator\": [\n        186,\n        244,\n        75,\n        251,\n        188,\n        13,\n        25,\n        33\n      ]\n    },\n    {\n      \"name\": \"EvtClaimReward\",\n      \"discriminator\": [\n        218,\n        86,\n        147,\n        200,\n        235,\n        188,\n        215,\n        231\n      ]\n    },\n    {\n      \"name\": \"EvtCloseConfig\",\n      \"discriminator\": [\n        36,\n        30,\n        239,\n        45,\n        58,\n        132,\n        14,\n        5\n      ]\n    },\n    {\n      \"name\": \"EvtClosePosition\",\n      \"discriminator\": [\n        20,\n        145,\n        144,\n        68,\n        143,\n        142,\n        214,\n        178\n      ]\n    },\n    {\n      \"name\": \"EvtCreateConfig\",\n      \"discriminator\": [\n        131,\n        207,\n        180,\n        174,\n        180,\n        73,\n        165,\n        54\n      ]\n    },\n    {\n      \"name\": \"EvtCreateDynamicConfig\",\n      \"discriminator\": [\n        231,\n        197,\n        13,\n        164,\n        248,\n        213,\n        133,\n        152\n      ]\n    },\n    {\n      \"name\": \"EvtCreatePosition\",\n      \"discriminator\": [\n        156,\n        15,\n        119,\n        198,\n        29,\n        181,\n        221,\n        55\n      ]\n    },\n    {\n      \"name\": \"EvtCreateTokenBadge\",\n      \"discriminator\": [\n        141,\n        120,\n        134,\n        116,\n        34,\n        28,\n        114,\n        160\n      ]\n    },\n    {\n      \"name\": \"EvtFundReward\",\n      \"discriminator\": [\n        104,\n        233,\n        237,\n        122,\n        199,\n        191,\n        121,\n        85\n      ]\n    },\n    {\n      \"name\": \"EvtInitializePool\",\n      \"discriminator\": [\n        228,\n        50,\n        246,\n        85,\n        203,\n        66,\n        134,\n        37\n      ]\n    },\n    {\n      \"name\": \"EvtInitializeReward\",\n      \"discriminator\": [\n        129,\n        91,\n        188,\n        3,\n        246,\n        52,\n        185,\n        249\n      ]\n    },\n    {\n      \"name\": \"EvtLiquidityChange\",\n      \"discriminator\": [\n        197,\n        171,\n        78,\n        127,\n        224,\n        211,\n        87,\n        13\n      ]\n    },\n    {\n      \"name\": \"EvtLockPosition\",\n      \"discriminator\": [\n        168,\n        63,\n        108,\n        83,\n        219,\n        82,\n        2,\n        200\n      ]\n    },\n    {\n      \"name\": \"EvtPermanentLockPosition\",\n      \"discriminator\": [\n        145,\n        143,\n        162,\n        218,\n        218,\n        80,\n        67,\n        11\n      ]\n    },\n    {\n      \"name\": \"EvtSetPoolStatus\",\n      \"discriminator\": [\n        100,\n        213,\n        74,\n        3,\n        95,\n        91,\n        228,\n        146\n      ]\n    },\n    {\n      \"name\": \"EvtSplitPosition2\",\n      \"discriminator\": [\n        165,\n        32,\n        203,\n        174,\n        72,\n        100,\n        233,\n        103\n      ]\n    },\n    {\n      \"name\": \"EvtSwap2\",\n      \"discriminator\": [\n        189,\n        66,\n        51,\n        168,\n        38,\n        80,\n        117,\n        153\n      ]\n    },\n    {\n      \"name\": \"EvtUpdatePoolFees\",\n      \"discriminator\": [\n        76,\n        165,\n        246,\n        102,\n        102,\n        217,\n        156,\n        44\n      ]\n    },\n    {\n      \"name\": \"EvtUpdateRewardDuration\",\n      \"discriminator\": [\n        149,\n        135,\n        65,\n        231,\n        129,\n        153,\n        65,\n        57\n      ]\n    },\n    {\n      \"name\": \"EvtUpdateRewardFunder\",\n      \"discriminator\": [\n        76,\n        154,\n        208,\n        13,\n        40,\n        115,\n        246,\n        146\n      ]\n    },\n    {\n      \"name\": \"EvtWithdrawIneligibleReward\",\n      \"discriminator\": [\n        248,\n        215,\n        184,\n        78,\n        31,\n        180,\n        179,\n        168\n      ]\n    }\n  ],\n  \"errors\": [\n    {\n      \"code\": 6000,\n      \"name\": \"MathOverflow\",\n      \"msg\": \"Math operation overflow\"\n    },\n    {\n      \"code\": 6001,\n      \"name\": \"InvalidFee\",\n      \"msg\": \"Invalid fee setup\"\n    },\n    {\n      \"code\": 6002,\n      \"name\": \"ExceededSlippage\",\n      \"msg\": \"Exceeded slippage tolerance\"\n    },\n    {\n      \"code\": 6003,\n      \"name\": \"PoolDisabled\",\n      \"msg\": \"Pool disabled\"\n    },\n    {\n      \"code\": 6004,\n      \"name\": \"ExceedMaxFeeBps\",\n      \"msg\": \"Exceeded max fee bps\"\n    },\n    {\n      \"code\": 6005,\n      \"name\": \"InvalidAdmin\",\n      \"msg\": \"Invalid admin\"\n    },\n    {\n      \"code\": 6006,\n      \"name\": \"AmountIsZero\",\n      \"msg\": \"Amount is zero\"\n    },\n    {\n      \"code\": 6007,\n      \"name\": \"TypeCastFailed\",\n      \"msg\": \"Type cast error\"\n    },\n    {\n      \"code\": 6008,\n      \"name\": \"UnableToModifyActivationPoint\",\n      \"msg\": \"Unable to modify activation point\"\n    },\n    {\n      \"code\": 6009,\n      \"name\": \"InvalidAuthorityToCreateThePool\",\n      \"msg\": \"Invalid authority to create the pool\"\n    },\n    {\n      \"code\": 6010,\n      \"name\": \"InvalidActivationType\",\n      \"msg\": \"Invalid activation type\"\n    },\n    {\n      \"code\": 6011,\n      \"name\": \"InvalidActivationPoint\",\n      \"msg\": \"Invalid activation point\"\n    },\n    {\n      \"code\": 6012,\n      \"name\": \"InvalidQuoteMint\",\n      \"msg\": \"Quote token must be SOL,USDC\"\n    },\n    {\n      \"code\": 6013,\n      \"name\": \"InvalidFeeCurve\",\n      \"msg\": \"Invalid fee curve\"\n    },\n    {\n      \"code\": 6014,\n      \"name\": \"InvalidPriceRange\",\n      \"msg\": \"Invalid Price Range\"\n    },\n    {\n      \"code\": 6015,\n      \"name\": \"PriceRangeViolation\",\n      \"msg\": \"Trade is over price range\"\n    },\n    {\n      \"code\": 6016,\n      \"name\": \"InvalidParameters\",\n      \"msg\": \"Invalid parameters\"\n    },\n    {\n      \"code\": 6017,\n      \"name\": \"InvalidCollectFeeMode\",\n      \"msg\": \"Invalid collect fee mode\"\n    },\n    {\n      \"code\": 6018,\n      \"name\": \"InvalidInput\",\n      \"msg\": \"Invalid input\"\n    },\n    {\n      \"code\": 6019,\n      \"name\": \"CannotCreateTokenBadgeOnSupportedMint\",\n      \"msg\": \"Cannot create token badge on supported mint\"\n    },\n    {\n      \"code\": 6020,\n      \"name\": \"InvalidTokenBadge\",\n      \"msg\": \"Invalid token badge\"\n    },\n    {\n      \"code\": 6021,\n      \"name\": \"InvalidMinimumLiquidity\",\n      \"msg\": \"Invalid minimum liquidity\"\n    },\n    {\n      \"code\": 6022,\n      \"name\": \"InvalidVestingInfo\",\n      \"msg\": \"Invalid vesting information\"\n    },\n    {\n      \"code\": 6023,\n      \"name\": \"InsufficientLiquidity\",\n      \"msg\": \"Insufficient liquidity\"\n    },\n    {\n      \"code\": 6024,\n      \"name\": \"InvalidVestingAccount\",\n      \"msg\": \"Invalid vesting account\"\n    },\n    {\n      \"code\": 6025,\n      \"name\": \"InvalidPoolStatus\",\n      \"msg\": \"Invalid pool status\"\n    },\n    {\n      \"code\": 6026,\n      \"name\": \"UnsupportNativeMintToken2022\",\n      \"msg\": \"Unsupported native mint token2022\"\n    },\n    {\n      \"code\": 6027,\n      \"name\": \"InvalidRewardIndex\",\n      \"msg\": \"Invalid reward index\"\n    },\n    {\n      \"code\": 6028,\n      \"name\": \"InvalidRewardDuration\",\n      \"msg\": \"Invalid reward duration\"\n    },\n    {\n      \"code\": 6029,\n      \"name\": \"RewardInitialized\",\n      \"msg\": \"Reward already initialized\"\n    },\n    {\n      \"code\": 6030,\n      \"name\": \"RewardUninitialized\",\n      \"msg\": \"Reward not initialized\"\n    },\n    {\n      \"code\": 6031,\n      \"name\": \"InvalidRewardVault\",\n      \"msg\": \"Invalid reward vault\"\n    },\n    {\n      \"code\": 6032,\n      \"name\": \"MustWithdrawnIneligibleReward\",\n      \"msg\": \"Must withdraw ineligible reward\"\n    },\n    {\n      \"code\": 6033,\n      \"name\": \"IdenticalRewardDuration\",\n      \"msg\": \"Reward duration is the same\"\n    },\n    {\n      \"code\": 6034,\n      \"name\": \"RewardCampaignInProgress\",\n      \"msg\": \"Reward campaign in progress\"\n    },\n    {\n      \"code\": 6035,\n      \"name\": \"IdenticalFunder\",\n      \"msg\": \"Identical funder\"\n    },\n    {\n      \"code\": 6036,\n      \"name\": \"InvalidFunder\",\n      \"msg\": \"Invalid funder\"\n    },\n    {\n      \"code\": 6037,\n      \"name\": \"RewardNotEnded\",\n      \"msg\": \"Reward not ended\"\n    },\n    {\n      \"code\": 6038,\n      \"name\": \"FeeInverseIsIncorrect\",\n      \"msg\": \"Fee inverse is incorrect\"\n    },\n    {\n      \"code\": 6039,\n      \"name\": \"PositionIsNotEmpty\",\n      \"msg\": \"Position is not empty\"\n    },\n    {\n      \"code\": 6040,\n      \"name\": \"InvalidPoolCreatorAuthority\",\n      \"msg\": \"Invalid pool creator authority\"\n    },\n    {\n      \"code\": 6041,\n      \"name\": \"InvalidConfigType\",\n      \"msg\": \"Invalid config type\"\n    },\n    {\n      \"code\": 6042,\n      \"name\": \"InvalidPoolCreator\",\n      \"msg\": \"Invalid pool creator\"\n    },\n    {\n      \"code\": 6043,\n      \"name\": \"RewardVaultFrozenSkipRequired\",\n      \"msg\": \"Reward vault is frozen, must skip reward to proceed\"\n    },\n    {\n      \"code\": 6044,\n      \"name\": \"InvalidSplitPositionParameters\",\n      \"msg\": \"Invalid parameters for split position\"\n    },\n    {\n      \"code\": 6045,\n      \"name\": \"UnsupportPositionHasVestingLock\",\n      \"msg\": \"Unsupported split position has vesting lock\"\n    },\n    {\n      \"code\": 6046,\n      \"name\": \"SamePosition\",\n      \"msg\": \"Same position\"\n    },\n    {\n      \"code\": 6047,\n      \"name\": \"InvalidBaseFeeMode\",\n      \"msg\": \"Invalid base fee mode\"\n    },\n    {\n      \"code\": 6048,\n      \"name\": \"InvalidFeeRateLimiter\",\n      \"msg\": \"Invalid fee rate limiter\"\n    },\n    {\n      \"code\": 6049,\n      \"name\": \"FailToValidateSingleSwapInstruction\",\n      \"msg\": \"Fail to validate single swap instruction in rate limiter\"\n    },\n    {\n      \"code\": 6050,\n      \"name\": \"InvalidFeeTimeScheduler\",\n      \"msg\": \"Invalid fee scheduler\"\n    },\n    {\n      \"code\": 6051,\n      \"name\": \"UndeterminedError\",\n      \"msg\": \"Undetermined error\"\n    },\n    {\n      \"code\": 6052,\n      \"name\": \"InvalidPoolVersion\",\n      \"msg\": \"Invalid pool version\"\n    },\n    {\n      \"code\": 6053,\n      \"name\": \"InvalidAuthority\",\n      \"msg\": \"Invalid authority to do that action\"\n    },\n    {\n      \"code\": 6054,\n      \"name\": \"InvalidPermission\",\n      \"msg\": \"Invalid permission\"\n    },\n    {\n      \"code\": 6055,\n      \"name\": \"InvalidFeeMarketCapScheduler\",\n      \"msg\": \"Invalid fee market cap scheduler\"\n    },\n    {\n      \"code\": 6056,\n      \"name\": \"CannotUpdateBaseFee\",\n      \"msg\": \"Cannot update base fee\"\n    },\n    {\n      \"code\": 6057,\n      \"name\": \"InvalidDynamicFeeParameters\",\n      \"msg\": \"Invalid dynamic fee parameters\"\n    },\n    {\n      \"code\": 6058,\n      \"name\": \"InvalidUpdatePoolFeesParameters\",\n      \"msg\": \"Invalid update pool fees parameters\"\n    },\n    {\n      \"code\": 6059,\n      \"name\": \"MissingOperatorAccount\",\n      \"msg\": \"Missing operator account\"\n    },\n    {\n      \"code\": 6060,\n      \"name\": \"IncorrectATA\",\n      \"msg\": \"Incorrect ATA\"\n    },\n    {\n      \"code\": 6061,\n      \"name\": \"InvalidZapOutParameters\",\n      \"msg\": \"Invalid zap out parameters\"\n    },\n    {\n      \"code\": 6062,\n      \"name\": \"InvalidWithdrawProtocolFeeZapAccounts\",\n      \"msg\": \"Invalid withdraw protocol fee zap accounts\"\n    },\n    {\n      \"code\": 6063,\n      \"name\": \"MintRestrictedFromZap\",\n      \"msg\": \"SOL,USDC protocol fee cannot be withdrawn via zap\"\n    },\n    {\n      \"code\": 6064,\n      \"name\": \"CpiDisabled\",\n      \"msg\": \"CPI disabled\"\n    },\n    {\n      \"code\": 6065,\n      \"name\": \"MissingZapOutInstruction\",\n      \"msg\": \"Missing zap out instruction\"\n    },\n    {\n      \"code\": 6066,\n      \"name\": \"InvalidZapAccounts\",\n      \"msg\": \"Invalid zap accounts\"\n    }\n  ],\n  \"types\": [\n    {\n      \"name\": \"AddLiquidityParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"liquidity_delta\",\n            \"docs\": [\n              \"delta liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"token_a_amount_threshold\",\n            \"docs\": [\n              \"maximum token a amount\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount_threshold\",\n            \"docs\": [\n              \"maximum token b amount\"\n            ],\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BaseFeeInfo\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"data\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BaseFeeParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"data\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                30\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BaseFeeStruct\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"base_fee_info\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BaseFeeInfo\"\n              }\n            }\n          },\n          {\n            \"name\": \"padding_1\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BorshFeeMarketCapScheduler\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"sqrt_price_step_bps\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"scheduler_expiration_duration\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                3\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BorshFeeRateLimiter\",\n      \"docs\": [\n        \"we denote reference_amount = x0, cliff_fee_numerator = c, fee_increment = i\",\n        \"if input_amount <= x0, then fee = input_amount * c\",\n        \"\",\n        \"if input_amount > x0, then input_amount = x0 + (a * x0 + b)\",\n        \"if a < max_index\",\n        \"then fee = x0 * c + x0 * (c + i) + .... + x0 * (c + i*a) + b * (c + i * (a+1))\",\n        \"then fee = x0 * (c + c*a + i*a*(a+1)/2) + b * (c + i * (a+1))\",\n        \"\",\n        \"if a >= max_index\",\n        \"if a = max_index + d, input_amount = x0 + max_index * x0 + (d * x0 + b)\",\n        \"then fee = x0 * (c + c*max_index + i*max_index*(max_index+1)/2) + (d * x0 + b) * MAX_FEE\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"fee_increment_bps\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"max_limiter_duration\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"max_fee_bps\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reference_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                3\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"BorshFeeTimeScheduler\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"period_frequency\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                3\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"Config\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"vault_config_key\",\n            \"docs\": [\n              \"Vault config key\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_creator_authority\",\n            \"docs\": [\n              \"Only pool_creator_authority can use the current config to initialize new pool. When it's Pubkey::default, it's a public config.\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_fees\",\n            \"docs\": [\n              \"Pool fee\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeesConfig\"\n              }\n            }\n          },\n          {\n            \"name\": \"activation_type\",\n            \"docs\": [\n              \"Activation type\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"docs\": [\n              \"Collect fee mode\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"config_type\",\n            \"docs\": [\n              \"Config type mode, 0 for static, 1 for dynamic\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"_padding_0\",\n            \"docs\": [\n              \"padding 0\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"index\",\n            \"docs\": [\n              \"config index\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"docs\": [\n              \"sqrt min price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"docs\": [\n              \"sqrt max price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"_padding_1\",\n            \"docs\": [\n              \"Fee curve point\",\n              \"Padding for further use\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u64\",\n                10\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"DummyParams\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"borsh_fee_time_scheduler_params\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BorshFeeTimeScheduler\"\n              }\n            }\n          },\n          {\n            \"name\": \"borsh_fee_rate_limiter_params\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BorshFeeRateLimiter\"\n              }\n            }\n          },\n          {\n            \"name\": \"borsh_fee_market_cap_scheduler_params\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BorshFeeMarketCapScheduler\"\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"DynamicConfigParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool_creator_authority\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"DynamicFeeConfig\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"initialized\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                7\n              ]\n            }\n          },\n          {\n            \"name\": \"max_volatility_accumulator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"variable_fee_control\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"bin_step\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"filter_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"decay_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"padding_1\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                8\n              ]\n            }\n          },\n          {\n            \"name\": \"bin_step_u128\",\n            \"type\": \"u128\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"DynamicFeeParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"bin_step\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"bin_step_u128\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"filter_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"decay_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"max_volatility_accumulator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"variable_fee_control\",\n            \"type\": \"u32\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"DynamicFeeStruct\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"initialized\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                7\n              ]\n            }\n          },\n          {\n            \"name\": \"max_volatility_accumulator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"variable_fee_control\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"bin_step\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"filter_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"decay_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"last_update_timestamp\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"bin_step_u128\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_price_reference\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"volatility_accumulator\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"volatility_reference\",\n            \"type\": \"u128\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtClaimPartnerFee\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtClaimPositionFee\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"fee_a_claimed\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"fee_b_claimed\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtClaimProtocolFee\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtClaimReward\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"mint_reward\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_index\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"total_reward\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtCloseConfig\",\n      \"docs\": [\n        \"Close config\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"config\",\n            \"docs\": [\n              \"Config pubkey\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"admin\",\n            \"docs\": [\n              \"admin pk\"\n            ],\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtClosePosition\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position_nft_mint\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtCreateConfig\",\n      \"docs\": [\n        \"Create static config\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool_fees\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeeParameters\"\n              }\n            }\n          },\n          {\n            \"name\": \"vault_config_key\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_creator_authority\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"activation_type\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"index\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"config\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtCreateDynamicConfig\",\n      \"docs\": [\n        \"Create dynamic config\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"config\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_creator_authority\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"index\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtCreatePosition\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position_nft_mint\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtCreateTokenBadge\",\n      \"docs\": [\n        \"Create token badge\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"token_mint\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtFundReward\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"funder\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"mint_reward\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_index\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"transfer_fee_excluded_amount_in\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_duration_end\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"pre_reward_rate\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"post_reward_rate\",\n            \"type\": \"u128\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtInitializePool\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_a_mint\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_b_mint\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"creator\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"payer\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"alpha_vault\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_fees\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeeParameters\"\n              }\n            }\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"activation_type\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"activation_point\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_a_flag\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"token_b_flag\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"token_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_amount_a\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_amount_b\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"pool_type\",\n            \"type\": \"u8\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtInitializeReward\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_mint\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"funder\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"creator\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_index\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"reward_duration\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtLiquidityChange\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"transfer_fee_included_token_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"transfer_fee_included_token_b_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reserve_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reserve_b_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"liquidity_delta\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"token_a_amount_threshold\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount_threshold\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"change_type\",\n            \"type\": \"u8\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtLockPosition\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"vesting\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"cliff_point\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"period_frequency\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"cliff_unlock_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"liquidity_per_period\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtPermanentLockPosition\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"lock_liquidity_amount\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"total_permanent_locked_liquidity\",\n            \"type\": \"u128\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtSetPoolStatus\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"status\",\n            \"type\": \"u8\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtSplitPosition2\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"first_owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"second_owner\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"first_position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"second_position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"current_sqrt_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"amount_splits\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SplitAmountInfo\"\n              }\n            }\n          },\n          {\n            \"name\": \"first_position_info\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SplitPositionInfo\"\n              }\n            }\n          },\n          {\n            \"name\": \"second_position_info\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SplitPositionInfo\"\n              }\n            }\n          },\n          {\n            \"name\": \"split_position_parameters\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SplitPositionParameters2\"\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtSwap2\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"trade_direction\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"has_referral\",\n            \"type\": \"bool\"\n          },\n          {\n            \"name\": \"params\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SwapParameters2\"\n              }\n            }\n          },\n          {\n            \"name\": \"swap_result\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"SwapResult2\"\n              }\n            }\n          },\n          {\n            \"name\": \"included_transfer_fee_amount_in\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"included_transfer_fee_amount_out\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"excluded_transfer_fee_amount_out\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"current_timestamp\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reserve_a_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reserve_b_amount\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtUpdatePoolFees\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"operator\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"params\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"UpdatePoolFeesParameters\"\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtUpdateRewardDuration\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_index\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"old_reward_duration\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"new_reward_duration\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtUpdateRewardFunder\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_index\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"old_funder\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"new_funder\",\n            \"type\": \"pubkey\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"EvtWithdrawIneligibleReward\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_mint\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"amount\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"InitializeCustomizablePoolParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool_fees\",\n            \"docs\": [\n              \"pool fees\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeeParameters\"\n              }\n            }\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"docs\": [\n              \"sqrt min price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"docs\": [\n              \"sqrt max price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"has_alpha_vault\",\n            \"docs\": [\n              \"has alpha vault\"\n            ],\n            \"type\": \"bool\"\n          },\n          {\n            \"name\": \"liquidity\",\n            \"docs\": [\n              \"initialize liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_price\",\n            \"docs\": [\n              \"The init price of the pool as a sqrt(token_b/token_a) Q64.64 value. Market cap fee scheduler minimum price will be derived from this value\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"activation_type\",\n            \"docs\": [\n              \"activation type\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"docs\": [\n              \"collect fee mode\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"activation_point\",\n            \"docs\": [\n              \"activation point\"\n            ],\n            \"type\": {\n              \"option\": \"u64\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"InitializePoolParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"liquidity\",\n            \"docs\": [\n              \"initialize liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_price\",\n            \"docs\": [\n              \"The init price of the pool as a sqrt(token_b/token_a) Q64.64 value\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"activation_point\",\n            \"docs\": [\n              \"activation point\"\n            ],\n            \"type\": {\n              \"option\": \"u64\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"Operator\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"whitelisted_address\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"permission\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u64\",\n                2\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PodAlignedFeeMarketCapScheduler\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"sqrt_price_step_bps\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"scheduler_expiration_duration\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PodAlignedFeeRateLimiter\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"fee_increment_bps\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"max_limiter_duration\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"max_fee_bps\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reference_amount\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PodAlignedFeeTimeScheduler\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"base_fee_mode\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"period_frequency\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reduction_factor\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"Pool\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool_fees\",\n            \"docs\": [\n              \"Pool fee\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeesStruct\"\n              }\n            }\n          },\n          {\n            \"name\": \"token_a_mint\",\n            \"docs\": [\n              \"token a mint\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_b_mint\",\n            \"docs\": [\n              \"token b mint\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_a_vault\",\n            \"docs\": [\n              \"token a vault\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"token_b_vault\",\n            \"docs\": [\n              \"token b vault\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"whitelisted_vault\",\n            \"docs\": [\n              \"Whitelisted vault to be able to buy pool before activation_point\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"partner\",\n            \"docs\": [\n              \"partner\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"liquidity\",\n            \"docs\": [\n              \"liquidity share\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"_padding\",\n            \"docs\": [\n              \"padding, previous reserve amount, be careful to use that field\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"protocol_a_fee\",\n            \"docs\": [\n              \"protocol a fee\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"protocol_b_fee\",\n            \"docs\": [\n              \"protocol b fee\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"partner_a_fee\",\n            \"docs\": [\n              \"partner a fee\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"partner_b_fee\",\n            \"docs\": [\n              \"partner b fee\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"docs\": [\n              \"min price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"docs\": [\n              \"max price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_price\",\n            \"docs\": [\n              \"current price\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"activation_point\",\n            \"docs\": [\n              \"Activation point, can be slot or timestamp\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"activation_type\",\n            \"docs\": [\n              \"Activation type, 0 means by slot, 1 means by timestamp\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"pool_status\",\n            \"docs\": [\n              \"pool status, 0: enable, 1 disable\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"token_a_flag\",\n            \"docs\": [\n              \"token a flag\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"token_b_flag\",\n            \"docs\": [\n              \"token b flag\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"docs\": [\n              \"0 is collect fee in both token, 1 only collect fee only in token b\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"pool_type\",\n            \"docs\": [\n              \"pool type\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"version\",\n            \"docs\": [\n              \"pool version, 0: max_fee is still capped at 50%, 1: max_fee is capped at 99%\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"_padding_0\",\n            \"docs\": [\n              \"padding\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"fee_a_per_liquidity\",\n            \"docs\": [\n              \"cumulative\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"fee_b_per_liquidity\",\n            \"docs\": [\n              \"cumulative\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"permanent_lock_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"metrics\",\n            \"docs\": [\n              \"metrics\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolMetrics\"\n              }\n            }\n          },\n          {\n            \"name\": \"creator\",\n            \"docs\": [\n              \"pool creator\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"_padding_1\",\n            \"docs\": [\n              \"Padding for further use\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u64\",\n                6\n              ]\n            }\n          },\n          {\n            \"name\": \"reward_infos\",\n            \"docs\": [\n              \"Farming reward information\"\n            ],\n            \"type\": {\n              \"array\": [\n                {\n                  \"defined\": {\n                    \"name\": \"RewardInfo\"\n                  }\n                },\n                2\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PoolFeeParameters\",\n      \"docs\": [\n        \"Information regarding fee charges\"\n      ],\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"base_fee\",\n            \"docs\": [\n              \"Base fee\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BaseFeeParameters\"\n              }\n            }\n          },\n          {\n            \"name\": \"dynamic_fee\",\n            \"docs\": [\n              \"dynamic fee\"\n            ],\n            \"type\": {\n              \"option\": {\n                \"defined\": {\n                  \"name\": \"DynamicFeeParameters\"\n                }\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PoolFeesConfig\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"base_fee\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BaseFeeInfo\"\n              }\n            }\n          },\n          {\n            \"name\": \"dynamic_fee\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"DynamicFeeConfig\"\n              }\n            }\n          },\n          {\n            \"name\": \"protocol_fee_percent\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"partner_fee_percent\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"referral_fee_percent\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding_0\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"padding_1\",\n            \"type\": {\n              \"array\": [\n                \"u64\",\n                5\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PoolFeesStruct\",\n      \"docs\": [\n        \"Information regarding fee charges\",\n        \"trading_fee = amount * trade_fee_numerator / denominator\",\n        \"protocol_fee = trading_fee * protocol_fee_percentage / 100\",\n        \"referral_fee = protocol_fee * referral_percentage / 100\",\n        \"partner_fee = (protocol_fee - referral_fee) * partner_fee_percentage / denominator\"\n      ],\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"base_fee\",\n            \"docs\": [\n              \"Trade fees are extra token amounts that are held inside the token\",\n              \"accounts during a trade, making the value of liquidity tokens rise.\",\n              \"Trade fee numerator\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"BaseFeeStruct\"\n              }\n            }\n          },\n          {\n            \"name\": \"protocol_fee_percent\",\n            \"docs\": [\n              \"Protocol trading fees are extra token amounts that are held inside the token\",\n              \"accounts during a trade, with the equivalent in pool tokens minted to\",\n              \"the protocol of the program.\",\n              \"Protocol trade fee numerator\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"partner_fee_percent\",\n            \"docs\": [\n              \"partner fee\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"referral_fee_percent\",\n            \"docs\": [\n              \"referral fee\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding_0\",\n            \"docs\": [\n              \"padding\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                5\n              ]\n            }\n          },\n          {\n            \"name\": \"dynamic_fee\",\n            \"docs\": [\n              \"dynamic fee\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"DynamicFeeStruct\"\n              }\n            }\n          },\n          {\n            \"name\": \"init_sqrt_price\",\n            \"type\": \"u128\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PoolMetrics\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"total_lp_a_fee\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"total_lp_b_fee\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"total_protocol_a_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_protocol_b_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_partner_a_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_partner_b_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_position\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"Position\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"nft_mint\",\n            \"docs\": [\n              \"nft mint\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"fee_a_per_token_checkpoint\",\n            \"docs\": [\n              \"fee a checkpoint\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"fee_b_per_token_checkpoint\",\n            \"docs\": [\n              \"fee b checkpoint\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"fee_a_pending\",\n            \"docs\": [\n              \"fee a pending\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"fee_b_pending\",\n            \"docs\": [\n              \"fee b pending\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"unlocked_liquidity\",\n            \"docs\": [\n              \"unlock liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"vested_liquidity\",\n            \"docs\": [\n              \"vesting liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"permanent_locked_liquidity\",\n            \"docs\": [\n              \"permanent locked liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"metrics\",\n            \"docs\": [\n              \"metrics\"\n            ],\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PositionMetrics\"\n              }\n            }\n          },\n          {\n            \"name\": \"reward_infos\",\n            \"docs\": [\n              \"Farming reward information\"\n            ],\n            \"type\": {\n              \"array\": [\n                {\n                  \"defined\": {\n                    \"name\": \"UserRewardInfo\"\n                  }\n                },\n                2\n              ]\n            }\n          },\n          {\n            \"name\": \"padding\",\n            \"docs\": [\n              \"padding for future usage\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u128\",\n                6\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"PositionMetrics\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"total_claimed_a_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_claimed_b_fee\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"RemoveLiquidityParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"liquidity_delta\",\n            \"docs\": [\n              \"delta liquidity\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"token_a_amount_threshold\",\n            \"docs\": [\n              \"minimum token a amount\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"token_b_amount_threshold\",\n            \"docs\": [\n              \"minimum token b amount\"\n            ],\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"RewardInfo\",\n      \"docs\": [\n        \"Stores the state relevant for tracking liquidity mining rewards\"\n      ],\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"initialized\",\n            \"docs\": [\n              \"Indicates if the reward has been initialized\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"reward_token_flag\",\n            \"docs\": [\n              \"reward token flag\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"_padding_0\",\n            \"docs\": [\n              \"padding\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                6\n              ]\n            }\n          },\n          {\n            \"name\": \"_padding_1\",\n            \"docs\": [\n              \"Padding to ensure `reward_rate: u128` is 16-byte aligned\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                8\n              ]\n            }\n          },\n          {\n            \"name\": \"mint\",\n            \"docs\": [\n              \"Reward token mint.\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"vault\",\n            \"docs\": [\n              \"Reward vault token account.\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"funder\",\n            \"docs\": [\n              \"Authority account that allows to fund rewards\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"reward_duration\",\n            \"docs\": [\n              \"reward duration\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_duration_end\",\n            \"docs\": [\n              \"reward duration end\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_rate\",\n            \"docs\": [\n              \"reward rate\"\n            ],\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"reward_per_token_stored\",\n            \"docs\": [\n              \"Reward per token stored\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"last_update_time\",\n            \"docs\": [\n              \"The last time reward states were updated.\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"cumulative_seconds_with_empty_liquidity_reward\",\n            \"docs\": [\n              \"Accumulated seconds when the farm distributed rewards but the bin was empty.\",\n              \"These rewards will be carried over to the next reward time window.\"\n            ],\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SplitAmountInfo\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"permanent_locked_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"unlocked_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"fee_a\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"fee_b\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_0\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_1\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SplitPositionInfo\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"fee_a\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"fee_b\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_0\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"reward_1\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SplitPositionParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"unlocked_liquidity_percentage\",\n            \"docs\": [\n              \"Percentage of unlocked liquidity to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"permanent_locked_liquidity_percentage\",\n            \"docs\": [\n              \"Percentage of permanent locked liquidity to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"fee_a_percentage\",\n            \"docs\": [\n              \"Percentage of fee A pending to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"fee_b_percentage\",\n            \"docs\": [\n              \"Percentage of fee B pending to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"reward_0_percentage\",\n            \"docs\": [\n              \"Percentage of reward 0 pending to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"reward_1_percentage\",\n            \"docs\": [\n              \"Percentage of reward 1 pending to split to the second position\"\n            ],\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"padding\",\n            \"docs\": [\n              \"padding for future\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                16\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SplitPositionParameters2\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"unlocked_liquidity_numerator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"permanent_locked_liquidity_numerator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"fee_a_numerator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"fee_b_numerator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reward_0_numerator\",\n            \"type\": \"u32\"\n          },\n          {\n            \"name\": \"reward_1_numerator\",\n            \"type\": \"u32\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"StaticConfigParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"pool_fees\",\n            \"type\": {\n              \"defined\": {\n                \"name\": \"PoolFeeParameters\"\n              }\n            }\n          },\n          {\n            \"name\": \"sqrt_min_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"sqrt_max_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"vault_config_key\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"pool_creator_authority\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"activation_type\",\n            \"type\": \"u8\"\n          },\n          {\n            \"name\": \"collect_fee_mode\",\n            \"type\": \"u8\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SwapParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"amount_in\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"minimum_amount_out\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SwapParameters2\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"amount_0\",\n            \"docs\": [\n              \"When it's exact in, partial fill, this will be amount_in. When it's exact out, this will be amount_out\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"amount_1\",\n            \"docs\": [\n              \"When it's exact in, partial fill, this will be minimum_amount_out. When it's exact out, this will be maximum_amount_in\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"swap_mode\",\n            \"docs\": [\n              \"Swap mode, refer [SwapMode]\"\n            ],\n            \"type\": \"u8\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"SwapResult2\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"included_fee_input_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"excluded_fee_input_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"amount_left\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"output_amount\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"next_sqrt_price\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"trading_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"protocol_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"partner_fee\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"referral_fee\",\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"TokenBadge\",\n      \"docs\": [\n        \"Parameter that set by the protocol\"\n      ],\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"token_mint\",\n            \"docs\": [\n              \"token mint\"\n            ],\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"_padding\",\n            \"docs\": [\n              \"Reserve\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                128\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"UpdatePoolFeesParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_fee_numerator\",\n            \"docs\": [\n              \"Base fee update mode:\",\n              \"- None: skip base fee update\",\n              \"- Some: update new cliff_fee_numerator if base fee is static\"\n            ],\n            \"type\": {\n              \"option\": \"u64\"\n            }\n          },\n          {\n            \"name\": \"dynamic_fee\",\n            \"docs\": [\n              \"Dynamic fee update mode:\",\n              \"- None: skip dynamic fee update\",\n              \"- Some(with default value): disable dynamic fee\",\n              \"- Some(with non default value): enable dynamic fee if disabled or update dynamic fee if enabled\"\n            ],\n            \"type\": {\n              \"option\": {\n                \"defined\": {\n                  \"name\": \"DynamicFeeParameters\"\n                }\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"UserRewardInfo\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"reward_per_token_checkpoint\",\n            \"docs\": [\n              \"The latest update reward checkpoint\"\n            ],\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                32\n              ]\n            }\n          },\n          {\n            \"name\": \"reward_pendings\",\n            \"docs\": [\n              \"Current pending rewards\"\n            ],\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"total_claimed_rewards\",\n            \"docs\": [\n              \"Total claimed rewards\"\n            ],\n            \"type\": \"u64\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"Vesting\",\n      \"serialization\": \"bytemuck\",\n      \"repr\": {\n        \"kind\": \"c\"\n      },\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"position\",\n            \"type\": \"pubkey\"\n          },\n          {\n            \"name\": \"cliff_point\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"period_frequency\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"cliff_unlock_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"liquidity_per_period\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"total_released_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          },\n          {\n            \"name\": \"padding\",\n            \"type\": {\n              \"array\": [\n                \"u8\",\n                14\n              ]\n            }\n          },\n          {\n            \"name\": \"padding2\",\n            \"type\": {\n              \"array\": [\n                \"u128\",\n                4\n              ]\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"VestingParameters\",\n      \"type\": {\n        \"kind\": \"struct\",\n        \"fields\": [\n          {\n            \"name\": \"cliff_point\",\n            \"type\": {\n              \"option\": \"u64\"\n            }\n          },\n          {\n            \"name\": \"period_frequency\",\n            \"type\": \"u64\"\n          },\n          {\n            \"name\": \"cliff_unlock_liquidity\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"liquidity_per_period\",\n            \"type\": \"u128\"\n          },\n          {\n            \"name\": \"number_of_period\",\n            \"type\": \"u16\"\n          }\n        ]\n      }\n    }\n  ],\n  \"constants\": [\n    {\n      \"name\": \"BIN_STEP_BPS_DEFAULT\",\n      \"type\": \"u16\",\n      \"value\": \"1\"\n    },\n    {\n      \"name\": \"BIN_STEP_U128_DEFAULT_LE_BYTES\",\n      \"type\": {\n        \"array\": [\n          \"u8\",\n          16\n        ]\n      },\n      \"value\": \"[203, 16, 199, 186, 184, 141, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0]\"\n    },\n    {\n      \"name\": \"CUSTOMIZABLE_POOL_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[99, 112, 111, 111, 108]\"\n    },\n    {\n      \"name\": \"FEE_DENOMINATOR\",\n      \"docs\": [\n        \"Default fee denominator. DO NOT simply update it as it will break logic that depends on it as default value.\"\n      ],\n      \"type\": \"u64\",\n      \"value\": \"1000000000\"\n    },\n    {\n      \"name\": \"MAX_BASIS_POINT\",\n      \"docs\": [\n        \"Max basis point. 100% in pct\"\n      ],\n      \"type\": \"u64\",\n      \"value\": \"10000\"\n    },\n    {\n      \"name\": \"MAX_SQRT_PRICE_LE_BYTES\",\n      \"type\": {\n        \"array\": [\n          \"u8\",\n          16\n        ]\n      },\n      \"value\": \"[155, 87, 105, 78, 169, 26, 92, 132, 177, 196, 254, 255, 0, 0, 0, 0]\"\n    },\n    {\n      \"name\": \"MIN_SQRT_PRICE_LE_BYTES\",\n      \"type\": {\n        \"array\": [\n          \"u8\",\n          16\n        ]\n      },\n      \"value\": \"[80, 59, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\"\n    },\n    {\n      \"name\": \"POOL_AUTHORITY_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[112, 111, 111, 108, 95, 97, 117, 116, 104, 111, 114, 105, 116, 121]\"\n    },\n    {\n      \"name\": \"POOL_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[112, 111, 111, 108]\"\n    },\n    {\n      \"name\": \"POSITION_NFT_ACCOUNT_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[112, 111, 115, 105, 116, 105, 111, 110, 95, 110, 102, 116, 95, 97, 99, 99, 111, 117, 110, 116]\"\n    },\n    {\n      \"name\": \"POSITION_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[112, 111, 115, 105, 116, 105, 111, 110]\"\n    },\n    {\n      \"name\": \"SPLIT_POSITION_DENOMINATOR\",\n      \"type\": \"u32\",\n      \"value\": \"1000000000\"\n    },\n    {\n      \"name\": \"TOKEN_VAULT_PREFIX\",\n      \"type\": \"bytes\",\n      \"value\": \"[116, 111, 107, 101, 110, 95, 118, 97, 117, 108, 116]\"\n    }\n  ]\n}","import { IdlAccounts, IdlTypes, Program, BN } from \"@coral-xyz/anchor\";\nimport { PublicKey, Transaction } from \"@solana/web3.js\";\nimport type { CpAmm as CpAmmTypes } from \"./idl/cp_amm\";\nimport { Mint } from \"@solana/spl-token\";\nimport Decimal from \"decimal.js\";\n\nexport type AmmProgram = Program<CpAmmTypes>;\n\nexport type TxBuilder = Promise<Transaction>;\n\nexport enum Rounding {\n  Up,\n  Down,\n}\n\nexport enum ActivationPoint {\n  Timestamp,\n  Slot,\n}\n\nexport enum BaseFeeMode {\n  // fee = cliff_fee_numerator - passed_period * reduction_factor\n  // passed_period = (current_point - activation_point) / period_frequency\n  FeeTimeSchedulerLinear,\n  // fee = cliff_fee_numerator * (1-reduction_factor/BASIS_POINT_MAX)^passed_period\n  FeeTimeSchedulerExponential,\n  // if input_amount <= reference_amount, then fee = input_amount * cliff_fee_numerator\n  // if input_amount > reference_amount:\n  // input_amount = reference_amount + (a * reference_amount + b)\n  // a = (inputAmount - referenceAmount) / referenceAmount\n  // b = (inputAmount - referenceAmount) % referenceAmount\n  // c = cliff_fee_numerator\n  // d = a - max_index\n  // if a < max_index:\n  // fee = x0 * c + x0 * (c + i) + .... + x0 * (c + i*a) + b * (c + i * (a+1))\n  // if a >= max_index:\n  // fee = x0 * (c + c*max_index + i*max_index*(max_index+1)/2) + (d * x0 + b) * MAX_FEE\n  RateLimiter,\n  // fee = cliff_fee_numerator - passed_period * reduction_factor\n  // passed_period = changed_price / sqrt_price_step_bps\n  // passed_period = (current_sqrt_price - init_sqrt_price) * BASIS_POINT_MAX / init_sqrt_price / sqrt_price_step_bps\n  FeeMarketCapSchedulerLinear,\n  // fee = cliff_fee_numerator * (1-reduction_factor/BASIS_POINT_MAX)^passed_period\n  FeeMarketCapSchedulerExponential,\n}\n\nexport enum CollectFeeMode {\n  BothToken,\n  OnlyB,\n}\n\nexport enum TradeDirection {\n  AtoB,\n  BtoA,\n}\n\nexport enum ActivationType {\n  Slot,\n  Timestamp,\n}\n\nexport enum PoolVersion {\n  V0,\n  V1,\n}\n\nexport type FeeMode = {\n  feesOnInput: boolean;\n  feesOnTokenA: boolean;\n  hasReferral: boolean;\n};\n\nexport enum PoolStatus {\n  Enable,\n  Disable,\n}\n\nexport enum SwapMode {\n  ExactIn,\n  PartialFill,\n  ExactOut,\n}\n\n// Account state types\nexport type PoolState = IdlAccounts<CpAmmTypes>[\"pool\"];\nexport type PositionState = IdlAccounts<CpAmmTypes>[\"position\"];\nexport type VestingState = IdlAccounts<CpAmmTypes>[\"vesting\"];\nexport type ConfigState = IdlAccounts<CpAmmTypes>[\"config\"];\nexport type TokenBadgeState = IdlAccounts<CpAmmTypes>[\"tokenBadge\"];\n\nexport type BorshFeeTimeScheduler =\n  IdlTypes<CpAmmTypes>[\"borshFeeTimeScheduler\"];\nexport type BorshFeeMarketCapScheduler =\n  IdlTypes<CpAmmTypes>[\"borshFeeMarketCapScheduler\"];\nexport type BorshFeeRateLimiter = IdlTypes<CpAmmTypes>[\"borshFeeRateLimiter\"];\n\nexport type PodAlignedFeeTimeScheduler =\n  IdlTypes<CpAmmTypes>[\"podAlignedFeeTimeScheduler\"];\nexport type PodAlignedFeeMarketCapScheduler =\n  IdlTypes<CpAmmTypes>[\"podAlignedFeeMarketCapScheduler\"];\nexport type PodAlignedFeeRateLimiter =\n  IdlTypes<CpAmmTypes>[\"podAlignedFeeRateLimiter\"];\n\n// Program params types\n// export type LockPositionParams = IdlTypes<CpAmm>[\"VestingParameters\"];\n// export type AddLiquidityParams = IdlTypes<CpAmm>[\"AddLiquidityParameters\"];\n// export type RemoveLiquidityParams =\n//   IdlTypes<CpAmm>[\"RemoveLiquidityParameters\"];\n// export type SwapParams = IdlTypes<CpAmm>[\"SwapParameters\"];\n// export type InitPoolParams = IdlTypes<CpAmm>[\"InitializePoolParameters\"];\n// export type InitCustomizePoolParams =\n//   IdlTypes<CpAmm>[\"InitializeCustomizablePoolParameters\"];\nexport type RewardInfo = IdlTypes<CpAmmTypes>[\"rewardInfo\"];\nexport type UserRewardInfo = IdlTypes<CpAmmTypes>[\"userRewardInfo\"];\n\n/**\n * Dynamic fee parameters\n * @param binStep\n * @param binStepU128\n * @param filterPeriod\n * @param decayPeriod\n * @param reductionFactor\n * @param maxVolatilityAccumulator\n * @param variableFeeControl\n */\nexport type DynamicFee = IdlTypes<CpAmmTypes>[\"dynamicFeeParameters\"];\n\n/**\n * Dynamic fee struct\n * @param initialized\n * @param padding\n * @param maxVolatilityAccumulator\n * @param variableFeeControl\n * @param binStep\n * @param filterPeriod\n * @param decayPeriod\n * @param reductionFactor\n * @param lastUpdateTimestamp\n * @param binStepU128\n * @param sqrtPriceReference\n * @param volatilityAccumulator\n * @param volatilityReference\n */\nexport type DynamicFeeStruct = IdlTypes<CpAmmTypes>[\"dynamicFeeStruct\"];\n\n/**\n * Base fee parameters\n * @param data // number[]\n */\nexport type BaseFee = IdlTypes<CpAmmTypes>[\"baseFeeParameters\"];\n\nexport type PoolFeesStruct = IdlTypes<CpAmmTypes>[\"poolFeesStruct\"];\n\nexport type DecodedPoolFees =\n  | PodAlignedFeeTimeScheduler\n  | PodAlignedFeeRateLimiter\n  | PodAlignedFeeMarketCapScheduler;\n\nexport type PoolFeesParams = {\n  baseFee: BaseFee;\n  padding: number[];\n  dynamicFee: DynamicFee | null;\n};\n\nexport type PrepareTokenAccountParams = {\n  payer: PublicKey;\n  tokenAOwner: PublicKey;\n  tokenBOwner: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type PrepareCustomizablePoolParams = {\n  pool: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAAmount: BN;\n  tokenBAmount: BN;\n  payer: PublicKey;\n  positionNft: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type InitializeCustomizeablePoolParams = {\n  payer: PublicKey;\n  creator: PublicKey;\n  positionNft: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAAmount: BN;\n  tokenBAmount: BN;\n  sqrtMinPrice: BN;\n  sqrtMaxPrice: BN;\n  liquidityDelta: BN;\n  initSqrtPrice: BN;\n  poolFees: PoolFeesParams;\n  hasAlphaVault: boolean;\n  activationType: number;\n  collectFeeMode: number;\n  activationPoint: BN | null;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  isLockLiquidity?: boolean;\n};\n\nexport type InitializeCustomizeablePoolWithDynamicConfigParams =\n  InitializeCustomizeablePoolParams & {\n    config: PublicKey;\n    poolCreatorAuthority: PublicKey;\n  };\n\nexport type PreparePoolCreationParams = {\n  tokenAAmount: BN;\n  tokenBAmount: BN;\n  minSqrtPrice: BN;\n  maxSqrtPrice: BN;\n  tokenAInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  tokenBInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n};\n\nexport type PreparedPoolCreation = {\n  initSqrtPrice: BN;\n  liquidityDelta: BN;\n};\n\nexport type PreparePoolCreationSingleSide = {\n  tokenAAmount: BN;\n  minSqrtPrice: BN;\n  maxSqrtPrice: BN;\n  initSqrtPrice: BN;\n  tokenAInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n};\n\nexport type CreatePoolParams = {\n  creator: PublicKey;\n  payer: PublicKey;\n  config: PublicKey;\n  positionNft: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  initSqrtPrice: BN;\n  liquidityDelta: BN;\n  tokenAAmount: BN;\n  tokenBAmount: BN;\n  activationPoint: BN | null;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  isLockLiquidity?: boolean;\n};\n\nexport type CreatePositionParams = {\n  owner: PublicKey;\n  payer: PublicKey;\n  pool: PublicKey;\n  positionNft: PublicKey;\n};\n\nexport type AddLiquidityParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  liquidityDelta: BN;\n  maxAmountTokenA: BN;\n  maxAmountTokenB: BN;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type CreatePositionAndAddLiquidity = {\n  owner: PublicKey;\n  pool: PublicKey;\n  positionNft: PublicKey;\n  liquidityDelta: BN;\n  maxAmountTokenA: BN;\n  maxAmountTokenB: BN;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type LiquidityDeltaParams = {\n  maxAmountTokenA: BN;\n  maxAmountTokenB: BN;\n  sqrtPrice: BN;\n  sqrtMinPrice: BN;\n  sqrtMaxPrice: BN;\n  tokenAInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  tokenBInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n};\n\nexport type RemoveLiquidityParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  liquidityDelta: BN;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  vestings: Array<{\n    account: PublicKey;\n    vestingState: VestingState;\n  }>;\n  currentPoint: BN;\n};\n\nexport type RemoveAllLiquidityParams = Omit<\n  RemoveLiquidityParams,\n  \"liquidityDelta\"\n>;\n\nexport type BuildAddLiquidityParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  liquidityDelta: BN;\n  tokenAAccount: PublicKey;\n  tokenBAccount: PublicKey;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type BuildLiquidatePositionInstructionParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  positionState: PositionState;\n  poolState: PoolState;\n  tokenAAccount: PublicKey;\n  tokenBAccount: PublicKey;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n};\n\nexport type BuildRemoveAllLiquidityInstructionParams = {\n  poolAuthority: PublicKey;\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  tokenAAccount: PublicKey;\n  tokenBAccount: PublicKey;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type ClosePositionParams = {\n  owner: PublicKey;\n  pool: PublicKey;\n  position: PublicKey;\n  positionNftMint: PublicKey;\n  positionNftAccount: PublicKey;\n};\n\nexport type RemoveAllLiquidityAndClosePositionParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  poolState: PoolState;\n  positionState: PositionState;\n  tokenAAmountThreshold: BN;\n  tokenBAmountThreshold: BN;\n  vestings: Array<{\n    account: PublicKey;\n    vestingState: VestingState;\n  }>;\n  currentPoint: BN;\n};\n\nexport type MergePositionParams = {\n  owner: PublicKey;\n  positionA: PublicKey;\n  positionB: PublicKey;\n  poolState: PoolState;\n  positionBNftAccount: PublicKey;\n  positionANftAccount: PublicKey;\n  positionBState: PositionState;\n  tokenAAmountAddLiquidityThreshold: BN;\n  tokenBAmountAddLiquidityThreshold: BN;\n  tokenAAmountRemoveLiquidityThreshold: BN;\n  tokenBAmountRemoveLiquidityThreshold: BN;\n  positionBVestings: Array<{\n    account: PublicKey;\n    vestingState: VestingState;\n  }>;\n  currentPoint: BN;\n};\n\nexport type GetQuoteParams = {\n  inAmount: BN;\n  inputTokenMint: PublicKey;\n  slippage: number;\n  poolState: PoolState;\n  currentTime: number;\n  currentSlot: number;\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  tokenADecimal: number;\n  tokenBDecimal: number;\n  hasReferral?: boolean;\n};\n\nexport type GetQuote2Params = {\n  inputTokenMint: PublicKey;\n  slippage: number;\n  currentPoint: BN;\n  poolState: PoolState;\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  tokenADecimal: number;\n  tokenBDecimal: number;\n  hasReferral: boolean;\n} & (\n  | {\n      swapMode: SwapMode.ExactIn;\n      amountIn: BN;\n    }\n  | {\n      swapMode: SwapMode.PartialFill;\n      amountIn: BN;\n    }\n  | {\n      swapMode: SwapMode.ExactOut;\n      amountOut: BN;\n    }\n);\n\nexport type SwapAmount = {\n  outputAmount: BN;\n  nextSqrtPrice: BN;\n};\n\nexport type SwapResult2 = IdlTypes<CpAmmTypes>[\"swapResult2\"];\n\nexport interface Quote2Result extends SwapResult2 {\n  priceImpact: Decimal;\n  minimumAmountOut?: BN;\n  maximumAmountIn?: BN;\n}\n\nexport type SwapParams = {\n  payer: PublicKey;\n  pool: PublicKey;\n  inputTokenMint: PublicKey;\n  outputTokenMint: PublicKey;\n  amountIn: BN;\n  minimumAmountOut: BN;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  referralTokenAccount: PublicKey | null;\n  receiver?: PublicKey;\n  poolState?: PoolState;\n};\n\nexport type Swap2Params = {\n  payer: PublicKey;\n  pool: PublicKey;\n  inputTokenMint: PublicKey;\n  outputTokenMint: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  referralTokenAccount: PublicKey | null;\n  receiver?: PublicKey;\n  poolState?: PoolState;\n} & (\n  | {\n      swapMode: SwapMode.ExactIn;\n      amountIn: BN;\n      minimumAmountOut: BN;\n    }\n  | {\n      swapMode: SwapMode.PartialFill;\n      amountIn: BN;\n      minimumAmountOut: BN;\n    }\n  | {\n      swapMode: SwapMode.ExactOut;\n      amountOut: BN;\n      maximumAmountIn: BN;\n    }\n);\n\nexport type LockPositionParams = {\n  owner: PublicKey;\n  payer: PublicKey;\n  vestingAccount: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  pool: PublicKey;\n  cliffPoint: BN | null;\n  periodFrequency: BN;\n  cliffUnlockLiquidity: BN;\n  liquidityPerPeriod: BN;\n  numberOfPeriod: number;\n};\n\nexport type SetupFeeClaimAccountsParams = {\n  payer: PublicKey;\n  owner: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  receiver?: PublicKey;\n  tempWSolAccount?: PublicKey;\n};\n\nexport type ClaimPositionFeeInstructionParams = {\n  owner: PublicKey;\n  poolAuthority: PublicKey;\n  pool: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  tokenAAccount: PublicKey;\n  tokenBAccount: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n};\n\nexport type ClaimPositionFeeParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  receiver?: PublicKey;\n  feePayer?: PublicKey;\n  tempWSolAccount?: PublicKey;\n};\n\nexport type ClaimPositionFeeParams2 = {\n  owner: PublicKey;\n  position: PublicKey;\n  pool: PublicKey;\n  positionNftAccount: PublicKey;\n  tokenAMint: PublicKey;\n  tokenBMint: PublicKey;\n  tokenAVault: PublicKey;\n  tokenBVault: PublicKey;\n  tokenAProgram: PublicKey;\n  tokenBProgram: PublicKey;\n  receiver: PublicKey;\n  feePayer?: PublicKey;\n};\n\nexport type ClosePositionInstructionParams = {\n  owner: PublicKey;\n  poolAuthority: PublicKey;\n  pool: PublicKey;\n  position: PublicKey;\n  positionNftMint: PublicKey;\n  positionNftAccount: PublicKey;\n};\n\nexport type InitializeRewardParams = {\n  rewardIndex: number; // 0: for creators or admins, 1: for admins only\n  rewardDuration: BN;\n  pool: PublicKey;\n  rewardMint: PublicKey;\n  funder: PublicKey;\n  payer: PublicKey;\n  creator: PublicKey;\n  rewardMintProgram: PublicKey;\n};\n\nexport type InitializeAndFundReward = {\n  rewardIndex: number; // 0: for creators or admins, 1: for admins only\n  rewardDuration: BN;\n  pool: PublicKey;\n  creator: PublicKey;\n  payer: PublicKey;\n  rewardMint: PublicKey;\n  carryForward: boolean;\n  amount: BN;\n  rewardMintProgram: PublicKey;\n};\n\nexport type UpdateRewardDurationParams = {\n  pool: PublicKey;\n  signer: PublicKey;\n  rewardIndex: number;\n  newDuration: BN;\n};\n\nexport type UpdateRewardFunderParams = {\n  pool: PublicKey;\n  signer: PublicKey;\n  rewardIndex: number;\n  newFunder: PublicKey;\n};\n\nexport type FundRewardParams = {\n  funder: PublicKey;\n  rewardIndex: number;\n  pool: PublicKey;\n  carryForward: boolean;\n  amount: BN;\n  rewardMint: PublicKey;\n  rewardVault: PublicKey;\n  rewardMintProgram: PublicKey;\n};\n\nexport type WithdrawIneligibleRewardParams = {\n  rewardIndex: number;\n  pool: PublicKey;\n  funder: PublicKey;\n};\n\nexport type ClaimPartnerFeeParams = {\n  partner: PublicKey;\n  pool: PublicKey;\n  maxAmountA: BN;\n  maxAmountB: BN;\n  receiver?: PublicKey;\n  feePayer?: PublicKey;\n  tempWSolAccount?: PublicKey;\n};\n\nexport type ClaimRewardParams = {\n  user: PublicKey;\n  position: PublicKey;\n  poolState: PoolState;\n  positionState: PositionState;\n  positionNftAccount: PublicKey;\n  rewardIndex: number;\n  isSkipReward: boolean;\n  feePayer?: PublicKey;\n};\n\nexport type RefreshVestingParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  pool: PublicKey;\n  vestingAccounts: PublicKey[];\n};\n\nexport type PermanentLockParams = {\n  owner: PublicKey;\n  position: PublicKey;\n  positionNftAccount: PublicKey;\n  pool: PublicKey;\n  unlockedLiquidity: BN;\n};\n\nexport type GetDepositQuoteParams = {\n  inAmount: BN;\n  isTokenA: boolean;\n  minSqrtPrice: BN;\n  maxSqrtPrice: BN;\n  sqrtPrice: BN;\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n};\n\nexport type GetWithdrawQuoteParams = {\n  liquidityDelta: BN;\n  minSqrtPrice: BN;\n  maxSqrtPrice: BN;\n  sqrtPrice: BN;\n  tokenATokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n  tokenBTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  };\n};\n\nexport type DepositQuote = {\n  actualInputAmount: BN;\n  consumedInputAmount: BN;\n  outputAmount: BN;\n  liquidityDelta: BN;\n};\n\nexport type WithdrawQuote = {\n  liquidityDelta: BN;\n  outAmountA: BN;\n  outAmountB: BN;\n};\n\nexport type DynamicFeeParams = {\n  volatilityAccumulator: BN;\n  binStep: number;\n  variableFeeControl: number;\n};\n\nexport type SplitPositionParams = {\n  firstPositionOwner: PublicKey;\n  secondPositionOwner: PublicKey;\n  pool: PublicKey;\n  firstPosition: PublicKey;\n  firstPositionNftAccount: PublicKey;\n  secondPosition: PublicKey;\n  secondPositionNftAccount: PublicKey;\n  permanentLockedLiquidityPercentage: number;\n  unlockedLiquidityPercentage: number;\n  feeAPercentage: number;\n  feeBPercentage: number;\n  reward0Percentage: number;\n  reward1Percentage: number;\n};\n\nexport type SplitPosition2Params = {\n  firstPositionOwner: PublicKey;\n  secondPositionOwner: PublicKey;\n  pool: PublicKey;\n  firstPosition: PublicKey;\n  firstPositionNftAccount: PublicKey;\n  secondPosition: PublicKey;\n  secondPositionNftAccount: PublicKey;\n  numerator: number;\n};\n\nexport interface BaseFeeHandler {\n  validate(\n    collectFeeMode: CollectFeeMode,\n    activationType: ActivationType,\n    poolVersion: PoolVersion,\n  ): boolean;\n  getBaseFeeNumeratorFromIncludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    tradeDirection: TradeDirection,\n    includedFeeAmount: BN,\n    initSqrtPrice: BN,\n    currentSqrtPrice: BN,\n  ): BN;\n  getBaseFeeNumeratorFromExcludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    tradeDirection: TradeDirection,\n    excludedFeeAmount: BN,\n    initSqrtPrice: BN,\n    currentSqrtPrice: BN,\n  ): BN;\n  validateBaseFeeIsStatic(currentPoint: BN, activationPoint: BN): boolean;\n  getMinBaseFeeNumerator(): BN;\n}\n\nexport interface FeeOnAmountResult {\n  amount: BN;\n  tradingFee: BN;\n  protocolFee: BN;\n  partnerFee: BN;\n  referralFee: BN;\n}\n\nexport interface SplitFees {\n  tradingFee: BN;\n  protocolFee: BN;\n  referralFee: BN;\n  partnerFee: BN;\n}\n","import { PublicKey } from \"@solana/web3.js\";\nimport { BN } from \"@coral-xyz/anchor\";\nimport { CP_AMM_PROGRAM_ID } from \"./constants\";\n\n// Private function: Only use to derive pool account\nexport function getFirstKey(key1: PublicKey, key2: PublicKey) {\n  const buf1 = key1.toBuffer();\n  const buf2 = key2.toBuffer();\n  // Buf1 > buf2\n  if (Buffer.compare(buf1, buf2) === 1) {\n    return buf1;\n  }\n  return buf2;\n}\n\nexport function getSecondKey(key1: PublicKey, key2: PublicKey) {\n  const buf1 = key1.toBuffer();\n  const buf2 = key2.toBuffer();\n  // Buf1 > buf2\n  if (Buffer.compare(buf1, buf2) === 1) {\n    return buf2;\n  }\n  return buf1;\n}\n\nexport function derivePoolAuthority(): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"pool_authority\")],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\nexport function deriveConfigAddress(index: BN): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"config\"), index.toArrayLike(Buffer, \"le\", 8)],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function derivePoolAddress(\n  config: PublicKey,\n  tokenAMint: PublicKey,\n  tokenBMint: PublicKey,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [\n      Buffer.from(\"pool\"),\n      config.toBuffer(),\n      getFirstKey(tokenAMint, tokenBMint),\n      getSecondKey(tokenAMint, tokenBMint),\n    ],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function derivePositionAddress(positionNft: PublicKey): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"position\"), positionNft.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveTokenVaultAddress(\n  tokenMint: PublicKey,\n  pool: PublicKey,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"token_vault\"), tokenMint.toBuffer(), pool.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveRewardVaultAddress(\n  pool: PublicKey,\n  rewardIndex: number,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"reward_vault\"), pool.toBuffer(), Buffer.from([rewardIndex])],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveCustomizablePoolAddress(\n  tokenAMint: PublicKey,\n  tokenBMint: PublicKey,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [\n      Buffer.from(\"cpool\"),\n      getFirstKey(tokenAMint, tokenBMint),\n      getSecondKey(tokenAMint, tokenBMint),\n    ],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveTokenBadgeAddress(tokenMint: PublicKey): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"token_badge\"), tokenMint.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveClaimFeeOperatorAddress(operator: PublicKey): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"cf_operator\"), operator.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function derivePositionNftAccount(\n  positionNftMint: PublicKey,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"position_nft_account\"), positionNftMint.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n\nexport function deriveOperatorAddress(\n  whitelistedAddress: PublicKey,\n): PublicKey {\n  return PublicKey.findProgramAddressSync(\n    [Buffer.from(\"operator\"), whitelistedAddress.toBuffer()],\n    CP_AMM_PROGRAM_ID,\n  )[0];\n}\n","import { PublicKey } from \"@solana/web3.js\";\nimport BN from \"bn.js\";\nimport { PoolVersion } from \"./types\";\n\nexport const CP_AMM_PROGRAM_ID = new PublicKey(\n  \"cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG\",\n);\n\nexport const LIQUIDITY_SCALE = 128;\nexport const SCALE_OFFSET = 64;\nexport const BASIS_POINT_MAX = 10_000;\nexport const FEE_DENOMINATOR = 1_000_000_000;\n\nexport const ONE_Q64 = new BN(1).shln(SCALE_OFFSET);\nexport const MAX_EXPONENTIAL = new BN(0x80000);\nexport const MAX = new BN(2).pow(new BN(128)).sub(new BN(1));\n\nexport const MIN_FEE_BPS = 1; // 0.01%\nexport const MIN_FEE_NUMERATOR = 100_000; // 0.01%\n\nexport const MAX_FEE_BPS_V0 = 5000; // 50%\nexport const MAX_FEE_NUMERATOR_V0 = 500_000_000; // 50%\n\nexport const MAX_FEE_BPS_V1 = 9900; // 99%\nexport const MAX_FEE_NUMERATOR_V1 = 990_000_000; // 99%\n\nexport const MIN_SQRT_PRICE = new BN(\"4295048016\");\nexport const MAX_SQRT_PRICE = new BN(\"79226673521066979257578248091\");\nexport const MIN_CU_BUFFER = 50_000;\nexport const MAX_CU_BUFFER = 200_000;\n\nexport const DYNAMIC_FEE_SCALING_FACTOR = new BN(100_000_000_000);\nexport const DYNAMIC_FEE_ROUNDING_OFFSET = new BN(99_999_999_999);\nexport const DYNAMIC_FEE_FILTER_PERIOD_DEFAULT = 10;\nexport const DYNAMIC_FEE_DECAY_PERIOD_DEFAULT = 120;\nexport const DYNAMIC_FEE_REDUCTION_FACTOR_DEFAULT = 5000; // 50%\nexport const BIN_STEP_BPS_DEFAULT = 1;\n//  bin_step << 64 / BASIS_POINT_MAX\nexport const BIN_STEP_BPS_U128_DEFAULT = new BN(\"1844674407370955\");\nexport const MAX_PRICE_CHANGE_BPS_DEFAULT = 1500; // 15%\n\nexport const U128_MAX = new BN(\"340282366920938463463374607431768211455\");\nexport const U64_MAX = new BN(\"18446744073709551615\");\nexport const U16_MAX = 65535;\n\nexport const MAX_RATE_LIMITER_DURATION_IN_SECONDS = 43200; // 12 hours\nexport const MAX_RATE_LIMITER_DURATION_IN_SLOTS = 108000; // 12 hours\n\nexport const SPLIT_POSITION_DENOMINATOR = 1_000_000_000;\n\nexport const CURRENT_POOL_VERSION = PoolVersion.V1;\n\nexport const FEE_PADDING = Array.from(Buffer.alloc(3));\n","import { bs58 } from \"@coral-xyz/anchor/dist/cjs/utils/bytes\";\nimport {\n  AccountLayout,\n  createAssociatedTokenAccountIdempotentInstruction,\n  createCloseAccountInstruction,\n  getAccount,\n  getAssociatedTokenAddressSync,\n  getMint,\n  NATIVE_MINT,\n  TOKEN_2022_PROGRAM_ID,\n  TOKEN_PROGRAM_ID,\n  TokenAccountNotFoundError,\n  TokenInvalidAccountOwnerError,\n} from \"@solana/spl-token\";\nimport {\n  Connection,\n  GetProgramAccountsFilter,\n  PublicKey,\n  SystemProgram,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\n\n/**\n * Gets the token program\n * @param flag - The flag\n * @returns The token program\n */\nexport function getTokenProgram(flag: number): PublicKey {\n  return flag == 0 ? TOKEN_PROGRAM_ID : TOKEN_2022_PROGRAM_ID;\n}\n\n/**\n * Gets the token decimals\n * @param connection - The connection\n * @param mint - The mint\n * @returns The token decimals\n */\nexport const getTokenDecimals = async (\n  connection: Connection,\n  mint: PublicKey,\n  tokenProgram: PublicKey,\n): Promise<number> => {\n  return (await getMint(connection, mint, \"confirmed\", tokenProgram)).decimals;\n};\n\n/**\n * Gets the or creates the ATA instruction\n * @param connection - The connection\n * @param tokenMint - The token mint\n * @param owner - The owner\n * @param payer - The payer\n * @param allowOwnerOffCurve - The allow owner off curve\n * @param tokenProgram - The token program\n * @returns The ATA instruction\n */\nexport const getOrCreateATAInstruction = async (\n  connection: Connection,\n  tokenMint: PublicKey,\n  owner: PublicKey,\n  payer: PublicKey = owner,\n  allowOwnerOffCurve = true,\n  tokenProgram: PublicKey,\n): Promise<{ ataPubkey: PublicKey; ix?: TransactionInstruction }> => {\n  const toAccount = getAssociatedTokenAddressSync(\n    tokenMint,\n    owner,\n    allowOwnerOffCurve,\n    tokenProgram,\n  );\n\n  try {\n    await getAccount(connection, toAccount);\n    return { ataPubkey: toAccount, ix: undefined };\n  } catch (e) {\n    if (\n      e instanceof TokenAccountNotFoundError ||\n      e instanceof TokenInvalidAccountOwnerError\n    ) {\n      const ix = createAssociatedTokenAccountIdempotentInstruction(\n        payer,\n        toAccount,\n        owner,\n        tokenMint,\n        tokenProgram,\n      );\n\n      return { ataPubkey: toAccount, ix };\n    } else {\n      /* handle error */\n      console.error(\"Error::getOrCreateATAInstruction\", e);\n      throw e;\n    }\n  }\n};\n\n/**\n * Gets the wrap SOL instruction\n * @param from - The from\n * @param to - The to\n * @param amount - The amount\n * @returns The wrap SOL instruction\n */\nexport const wrapSOLInstruction = (\n  from: PublicKey,\n  to: PublicKey,\n  amount: bigint,\n): TransactionInstruction[] => {\n  return [\n    SystemProgram.transfer({\n      fromPubkey: from,\n      toPubkey: to,\n      lamports: amount,\n    }),\n    new TransactionInstruction({\n      keys: [\n        {\n          pubkey: to,\n          isSigner: false,\n          isWritable: true,\n        },\n      ],\n      data: Buffer.from(new Uint8Array([17])),\n      programId: TOKEN_PROGRAM_ID,\n    }),\n  ];\n};\n\n/**\n * Gets the unwrap SOL instruction\n * @param owner - The owner\n * @param receiver - The receiver\n * @param allowOwnerOffCurve - The allow owner off curve\n * @returns The unwrap SOL instruction\n */\nexport const unwrapSOLInstruction = async (\n  owner: PublicKey,\n  receiver: PublicKey = owner,\n  allowOwnerOffCurve = true,\n) => {\n  const wSolATAAccount = getAssociatedTokenAddressSync(\n    NATIVE_MINT,\n    owner,\n    allowOwnerOffCurve,\n  );\n  if (wSolATAAccount) {\n    const closedWrappedSolInstruction = createCloseAccountInstruction(\n      wSolATAAccount,\n      receiver,\n      owner,\n      [],\n      TOKEN_PROGRAM_ID,\n    );\n    return closedWrappedSolInstruction;\n  }\n  return null;\n};\n\n/**\n * Gets all the user position NFT accounts\n * @param connection - The connection\n * @param user - The user\n * @returns The user position NFT accounts\n */\nexport async function getAllUserPositionNftAccount(\n  connection: Connection,\n  user: PublicKey,\n): Promise<\n  Array<{\n    positionNft: PublicKey;\n    positionNftAccount: PublicKey;\n  }>\n> {\n  const filters: GetProgramAccountsFilter[] = [\n    {\n      memcmp: {\n        offset: 32,\n        bytes: user.toBase58(),\n      },\n    },\n    {\n      memcmp: {\n        offset: 64,\n        bytes: bs58.encode(Buffer.from([1, 0, 0, 0, 0, 0, 0, 0])), // 1\n      },\n    },\n  ];\n\n  const tokenAccountsRaw = await connection.getProgramAccounts(\n    TOKEN_2022_PROGRAM_ID,\n    {\n      filters,\n    },\n  );\n\n  const userPositionNftAccount: Array<{\n    positionNft: PublicKey;\n    positionNftAccount: PublicKey;\n  }> = [];\n  for (const { account, pubkey } of tokenAccountsRaw) {\n    const tokenAccountData = AccountLayout.decode(account.data);\n    userPositionNftAccount.push({\n      positionNft: tokenAccountData.mint,\n      positionNftAccount: pubkey,\n    });\n  }\n\n  return userPositionNftAccount;\n}\n\n/**\n * Gets all the position NFT accounts by owner\n * @param connection - The connection\n * @param user - The user\n * @returns The position NFT accounts by owner\n */\nexport async function getAllPositionNftAccountByOwner(\n  connection: Connection,\n  user: PublicKey,\n): Promise<\n  Array<{\n    positionNft: PublicKey;\n    positionNftAccount: PublicKey;\n  }>\n> {\n  const tokenAccounts = await connection.getTokenAccountsByOwner(user, {\n    programId: TOKEN_2022_PROGRAM_ID,\n  });\n\n  const userPositionNftAccount: Array<{\n    positionNft: PublicKey;\n    positionNftAccount: PublicKey;\n  }> = [];\n  for (const { account, pubkey } of tokenAccounts.value) {\n    const tokenAccountData = AccountLayout.decode(account.data);\n    if (tokenAccountData.amount.toString() === \"1\") {\n      userPositionNftAccount.push({\n        positionNft: tokenAccountData.mint,\n        positionNftAccount: pubkey,\n      });\n    }\n  }\n\n  return userPositionNftAccount;\n}\n","import {\n  AddressLookupTableAccount,\n  Commitment,\n  ComputeBudgetProgram,\n  Connection,\n  PublicKey,\n  TransactionInstruction,\n  TransactionMessage,\n  VersionedTransaction,\n} from \"@solana/web3.js\";\nimport { MAX_CU_BUFFER, MIN_CU_BUFFER } from \"../constants\";\n\n/**\n * Gets the estimated compute unit usage for a transaction.\n * @param connection - The connection to the Solana cluster\n * @param instructions - The instructions to simulate\n * @param payer - The public key of the fee payer\n * @param lookupTables - The lookup tables to simulate\n * @param commitment - The commitment level to simulate\n * @returns The estimated compute unit usage\n */\nexport const getSimulationComputeUnits = async (\n  connection: Connection,\n  instructions: Array<TransactionInstruction>,\n  payer: PublicKey,\n  lookupTables: Array<AddressLookupTableAccount> | [],\n  commitment: Commitment = \"confirmed\",\n): Promise<number | null> => {\n  const testInstructions = [\n    // Set an arbitrarily high number in simulation\n    // so we can be sure the transaction will succeed\n    // and get the real compute units used\n    ComputeBudgetProgram.setComputeUnitLimit({ units: 1_400_000 }),\n    ...instructions,\n  ];\n\n  const testTransaction = new VersionedTransaction(\n    new TransactionMessage({\n      instructions: testInstructions,\n      payerKey: payer,\n      // RecentBlockhash can by any public key during simulation\n      // since 'replaceRecentBlockhash' is set to 'true' below\n      recentBlockhash: PublicKey.default.toString(),\n    }).compileToV0Message(lookupTables),\n  );\n\n  const rpcResponse = await connection.simulateTransaction(testTransaction, {\n    replaceRecentBlockhash: true,\n    sigVerify: false,\n    commitment,\n  });\n\n  if (rpcResponse?.value?.err) {\n    const logs = rpcResponse.value.logs?.join(\"\\n   \") || \"No logs available\";\n    throw new Error(\n      `Transaction simulation failed:\\n  ${logs}` +\n        JSON.stringify(rpcResponse?.value?.err),\n    );\n  }\n\n  return rpcResponse.value.unitsConsumed || null;\n};\n\n/**\n * Gets the estimated compute unit usage with a buffer.\n * @param connection A Solana connection object.\n * @param instructions The instructions of the transaction to simulate.\n * @param feePayer The public key of the fee payer.\n * @param buffer The buffer to add to the estimated compute unit usage. Max value is 1. Default value is 0.1 if not provided, and will be capped between 50k - 200k.\n * @returns The estimated compute unit usage with the buffer.\n */\nexport const getEstimatedComputeUnitUsageWithBuffer = async (\n  connection: Connection,\n  instructions: TransactionInstruction[],\n  feePayer: PublicKey,\n  buffer?: number,\n) => {\n  if (!buffer) {\n    buffer = 0.1;\n  }\n  // Avoid negative value\n  buffer = Math.max(0, buffer);\n  // Limit buffer to 1\n  buffer = Math.min(1, buffer);\n\n  const estimatedComputeUnitUsage = await getSimulationComputeUnits(\n    connection,\n    instructions,\n    feePayer,\n    [],\n  );\n\n  if (!estimatedComputeUnitUsage) {\n    return 0;\n  }\n\n  let extraComputeUnitBuffer = estimatedComputeUnitUsage * buffer;\n  if (extraComputeUnitBuffer > MAX_CU_BUFFER) {\n    extraComputeUnitBuffer = MAX_CU_BUFFER;\n  } else if (extraComputeUnitBuffer < MIN_CU_BUFFER) {\n    extraComputeUnitBuffer = MIN_CU_BUFFER;\n  }\n\n  return estimatedComputeUnitUsage + extraComputeUnitBuffer;\n};\n\n/**\n * Gets the estimated compute unit usage with a buffer and converts it to a SetComputeUnitLimit instruction.\n * If the estimated compute unit usage cannot be retrieved, returns a SetComputeUnitLimit instruction with the fallback unit.\n * @param connection A Solana connection object.\n * @param instructions The instructions of the transaction to simulate.\n * @param feePayer The public key of the fee payer.\n * @param buffer The buffer to add to the estimated compute unit usage. Max value is 1. Default value is 0.1 if not provided, and will be capped between 50k - 200k.\n * @returns A SetComputeUnitLimit instruction with the estimated compute unit usage.\n */\nexport const getEstimatedComputeUnitIxWithBuffer = async (\n  connection: Connection,\n  instructions: TransactionInstruction[],\n  feePayer: PublicKey,\n  buffer?: number,\n) => {\n  const units = await getEstimatedComputeUnitUsageWithBuffer(\n    connection,\n    instructions,\n    feePayer,\n    buffer,\n  ).catch((error) => {\n    console.error(\"Error::getEstimatedComputeUnitUsageWithBuffer\", error);\n    return 1_400_000;\n  });\n\n  return ComputeBudgetProgram.setComputeUnitLimit({ units });\n};\n","import { BN } from \"@coral-xyz/anchor\";\nimport { BASIS_POINT_MAX, LIQUIDITY_SCALE } from \"../constants\";\nimport Decimal from \"decimal.js\";\nimport { PoolState, PositionState, RewardInfo, SwapMode } from \"../types\";\n\n/**\n * It takes an amount and a slippage rate, and returns the maximum amount that can be received with\n * that slippage rate\n * @param {BN} amount - The amount of tokens you want to buy.\n * @param {number} rate - The maximum percentage of slippage you're willing to accept. (Max to 2 decimal place)\n * @returns The maximum amount of tokens that can be bought with the given amount of ETH, given the\n * slippage rate.\n */\nexport const getMaxAmountWithSlippage = (amount: BN, rate: number) => {\n  const slippage = ((100 + rate) / 100) * BASIS_POINT_MAX;\n  return amount.mul(new BN(slippage)).div(new BN(BASIS_POINT_MAX));\n};\n\n/**\n * Calculates minimum amount out or maximum amount in based on slippage and swap mode.\n * For ExactIn/PartialFill: returns minimum amount out.\n * For ExactOut: returns maximum amount in.\n *\n * @param {BN} amount - The base amount (outputAmount for ExactIn/PartialFill, includedFeeInputAmount for ExactOut)\n * @param {number} slippageBps - Slippage in basis points (1% = 100)\n * @param {SwapMode} swapMode - Swap mode (ExactIn, PartialFill, ExactOut)\n * @returns {BN} - Minimum amount out (for ExactIn/PartialFill) or maximum amount in (for ExactOut)\n */\nexport const getAmountWithSlippage = (\n  amount: BN,\n  slippageBps: number,\n  swapMode: SwapMode,\n): BN => {\n  let result: BN;\n\n  if (slippageBps > 0) {\n    if (swapMode === SwapMode.ExactOut) {\n      // maximum amount in: amount * (10000 + slippageBps) / 10000\n      const slippageFactor = new BN(BASIS_POINT_MAX + slippageBps);\n      result = amount.mul(slippageFactor).div(new BN(BASIS_POINT_MAX));\n    } else {\n      // minimum amount out: amount * (10000 - slippageBps) / 10000\n      const slippageFactor = new BN(BASIS_POINT_MAX - slippageBps);\n      result = amount.mul(slippageFactor).div(new BN(BASIS_POINT_MAX));\n    }\n  } else {\n    result = amount;\n  }\n\n  return result;\n};\n\n/**\n * Calculate price impact as a percentage\n * Price impact measures how much worse the user's execution was compared to the current market price\n * @param amountIn - Input amount (in base units)\n * @param amountOut - Output amount (in base units)\n * @param currentSqrtPrice - Current pool sqrt price (spot price)\n * @param aToB - Direction of swap: true for token A to token B, false for token B to token A\n * @param tokenADecimal - Decimal places for token A\n * @param tokenBDecimal - Decimal places for token B\n * @returns Price impact as a percentage (e.g., 1.5 means 1.5% worse than spot price)\n */\nexport const getPriceImpact = (\n  amountIn: BN,\n  amountOut: BN,\n  currentSqrtPrice: BN,\n  aToB: boolean,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n): Decimal => {\n  if (amountIn.eq(new BN(0))) {\n    return new Decimal(0);\n  }\n  if (amountOut.eq(new BN(0))) {\n    throw new Error(\"Amount out must be greater than 0\");\n  }\n\n  // spot price: (sqrtPrice)^2 * 10^(base_decimal - quote_decimal) / 2^128\n  const spotPrice = getPriceFromSqrtPrice(\n    currentSqrtPrice,\n    tokenADecimal,\n    tokenBDecimal,\n  );\n\n  // execution price: amountIn / amountOut\n  const executionPrice = new Decimal(amountIn.toString())\n    .div(new Decimal(amountOut.toString()))\n    .mul(\n      Decimal.pow(\n        10,\n        aToB ? tokenBDecimal - tokenADecimal : tokenADecimal - tokenBDecimal,\n      ),\n    );\n\n  let priceImpact: Decimal;\n  let actualExecutionPrice: Decimal;\n  if (aToB) {\n    actualExecutionPrice = new Decimal(1).div(executionPrice);\n  } else {\n    actualExecutionPrice = executionPrice;\n  }\n\n  // price impact = abs(execution_price - spot_price) / spot_price * 100%\n  priceImpact = actualExecutionPrice\n    .sub(spotPrice)\n    .abs()\n    .div(spotPrice)\n    .mul(100);\n\n  return priceImpact;\n};\n\n/**\n * Calculate price change as a percentage (old implementation)\n * This measures the percentage change in pool price after a swap\n * @param nextSqrtPrice sqrt price after swap\n * @param currentSqrtPrice current pool sqrt price\n * @returns Price change as a percentage (e.g., 1.5 means 1.5% change)\n */\nexport const getPriceChange = (\n  nextSqrtPrice: BN,\n  currentSqrtPrice: BN,\n): number => {\n  // price = (sqrtPrice)^2 * 10 ** (base_decimal - quote_decimal) / 2^128\n  // k = 10^(base_decimal - quote_decimal) / 2^128\n  // priceA = (sqrtPriceA)^2 * k\n  // priceB = (sqrtPriceB)^2 * k\n  // => price_change = k * abs ( (sqrtPriceA)^2 - (sqrtPriceB)^2  )  * 100 /  (sqrtPriceB)^2 * k\n  // => price_change = abs ( (sqrtPriceA)^2 - (sqrtPriceB)^2  )  * 100 / (sqrtPriceB)^2\n  const diff = nextSqrtPrice\n    .pow(new BN(2))\n    .sub(currentSqrtPrice.pow(new BN(2)))\n    .abs();\n\n  return new Decimal(diff.toString())\n    .div(new Decimal(currentSqrtPrice.pow(new BN(2)).toString()))\n    .mul(100)\n    .toNumber();\n};\n\n/**\n * Converts a sqrt price to a price\n * (sqrtPrice)^2 * 10 ** (base_decimal - quote_decimal) / 2^128\n * @param sqrtPrice - The sqrt price\n * @param tokenADecimal - The token A decimal\n * @param tokenBDecimal - The token B decimal\n * @returns The price\n */\nexport const getPriceFromSqrtPrice = (\n  sqrtPrice: BN,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n): Decimal => {\n  const decimalSqrtPrice = new Decimal(sqrtPrice.toString());\n  const price = decimalSqrtPrice\n    .mul(decimalSqrtPrice)\n    .mul(new Decimal(10 ** (tokenADecimal - tokenBDecimal)))\n    .div(Decimal.pow(2, 128));\n\n  return price;\n};\n\n/**\n * Converts a price to a sqrt price\n * sqrt(price / 10^(tokenADecimal - tokenBDecimal)) * 2^64\n * @param price - The price\n * @param tokenADecimal - The token A decimal\n * @param tokenBDecimal - The token B decimal\n * @returns The sqrt price\n */\nexport const getSqrtPriceFromPrice = (\n  price: string,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n): BN => {\n  const decimalPrice = new Decimal(price);\n\n  const adjustedByDecimals = decimalPrice.div(\n    new Decimal(10 ** (tokenADecimal - tokenBDecimal)),\n  );\n\n  const sqrtValue = Decimal.sqrt(adjustedByDecimals);\n\n  const sqrtValueQ64 = sqrtValue.mul(Decimal.pow(2, 64));\n\n  return new BN(sqrtValueQ64.floor().toFixed());\n};\n\n// fee = totalLiquidity * feePerTokenStore\n// precision: (totalLiquidity * feePerTokenStore) >> 128\n/**\n * Gets the unclaimed reward\n * fee = totalLiquidity * feePerTokenStore\n * precision: (totalLiquidity * feePerTokenStore) >> 128\n * @param poolState - The pool state\n * @param positionState - The position state\n * @returns The unclaimed reward\n */\nexport const getUnClaimLpFee = (\n  poolState: PoolState,\n  positionState: PositionState,\n): {\n  feeTokenA: BN;\n  feeTokenB: BN;\n  rewards: BN[];\n} => {\n  const totalPositionLiquidity = positionState.unlockedLiquidity\n    .add(positionState.vestedLiquidity)\n    .add(positionState.permanentLockedLiquidity);\n\n  const feeAPerTokenStored = new BN(\n    Buffer.from(poolState.feeAPerLiquidity).reverse(),\n  ).sub(new BN(Buffer.from(positionState.feeAPerTokenCheckpoint).reverse()));\n\n  const feeBPerTokenStored = new BN(\n    Buffer.from(poolState.feeBPerLiquidity).reverse(),\n  ).sub(new BN(Buffer.from(positionState.feeBPerTokenCheckpoint).reverse()));\n\n  const feeA = totalPositionLiquidity\n    .mul(feeAPerTokenStored)\n    .shrn(LIQUIDITY_SCALE);\n  const feeB = totalPositionLiquidity\n    .mul(feeBPerTokenStored)\n    .shrn(LIQUIDITY_SCALE);\n\n  return {\n    feeTokenA: positionState.feeAPending.add(feeA),\n    feeTokenB: positionState.feeBPending.add(feeB),\n    rewards:\n      positionState.rewardInfos.length > 0\n        ? positionState.rewardInfos.map((item) => item.rewardPendings)\n        : [],\n  };\n};\n\n// update reward_per_token_store\n// refer this implementation in program: https://github.com/MeteoraAg/damm-v2/blob/689a3264484799d833c505523f4ff4e4990690aa/programs/cp-amm/src/state/pool.rs#L315\nfunction getRewardPerTokenStore(\n  poolReward: RewardInfo,\n  poolLiquidity: BN,\n  currentTime: BN,\n): BN {\n  if (poolLiquidity.eq(new BN(0))) {\n    return new BN(0);\n  }\n  const lastTimeRewardApplicable = BN.min(\n    currentTime,\n    poolReward.rewardDurationEnd,\n  );\n\n  const timePeriod = lastTimeRewardApplicable.sub(poolReward.lastUpdateTime);\n  const currentTotalReward = timePeriod.mul(poolReward.rewardRate);\n  const rewardPerTokenStore = currentTotalReward.shln(128).div(poolLiquidity);\n\n  const totalRewardPerTokenStore = new BN(\n    Buffer.from(poolReward.rewardPerTokenStored).reverse(),\n  ).add(rewardPerTokenStore);\n\n  return totalRewardPerTokenStore;\n}\n\nfunction getRewardPerPeriod(\n  poolReward: RewardInfo,\n  currentTime: BN,\n  periodTime: BN,\n): BN {\n  const timeRewardAppicable = currentTime.add(periodTime);\n  // cap max period in reward duration end\n  const period =\n    timeRewardAppicable <= poolReward.rewardDurationEnd\n      ? periodTime\n      : poolReward.rewardDurationEnd.sub(currentTime);\n  // reward_rate = amount / periodTime\n  const rewardPerPeriod = poolReward.rewardRate.mul(period);\n\n  return rewardPerPeriod;\n}\n\n// get pool reward info\nexport function getRewardInfo(\n  poolState: PoolState,\n  rewardIndex: number,\n  periodTime: BN,\n  currentTime: BN,\n): {\n  rewardPerPeriod: BN;\n  rewardBalance: BN;\n  totalRewardDistributed: BN;\n} {\n  const poolReward = poolState.rewardInfos[rewardIndex];\n\n  const rewardPerTokenStore = getRewardPerTokenStore(\n    poolReward,\n    poolState.liquidity,\n    currentTime,\n  );\n\n  // calculate current reward distributed to user reward.\n  const totalRewardDistributed = rewardPerTokenStore\n    .mul(poolState.liquidity)\n    .shrn(192);\n\n  if (poolReward.rewardDurationEnd <= currentTime) {\n    return {\n      rewardPerPeriod: new BN(0),\n      rewardBalance: new BN(0),\n      totalRewardDistributed,\n    };\n  }\n\n  const rewardPerPeriod = getRewardPerPeriod(\n    poolReward,\n    currentTime,\n    periodTime,\n  );\n\n  const remainTime = poolReward.rewardDurationEnd.sub(currentTime);\n  const rewardBalance = poolReward.rewardRate.mul(remainTime).shrn(64);\n\n  if (poolState.liquidity.eq(new BN(0))) {\n    return {\n      rewardPerPeriod,\n      rewardBalance,\n      totalRewardDistributed: new BN(0),\n    };\n  }\n\n  return {\n    rewardPerPeriod: rewardPerPeriod.shrn(64),\n    rewardBalance,\n    totalRewardDistributed,\n  };\n}\n\n// get current pending user reward\n// refer to this implementation: https://github.com/MeteoraAg/damm-v2/blob/689a3264484799d833c505523f4ff4e4990690aa/programs/cp-amm/src/state/position.rs#L29\nexport function getUserRewardPending(\n  poolState: PoolState,\n  positionState: PositionState,\n  rewardIndex: number,\n  currentTime: BN,\n  periodTime: BN,\n): { userRewardPerPeriod: BN; userPendingReward: BN } {\n  if (poolState.liquidity.eq(new BN(0))) {\n    return {\n      userRewardPerPeriod: new BN(0),\n      userPendingReward: new BN(0),\n    };\n  }\n  const poolReward = poolState.rewardInfos[rewardIndex];\n  const userRewardInfo = positionState.rewardInfos[rewardIndex];\n\n  const rewardPerTokenStore = getRewardPerTokenStore(\n    poolReward,\n    poolState.liquidity,\n    currentTime,\n  );\n\n  const totalPositionLiquidity = positionState.unlockedLiquidity\n    .add(positionState.vestedLiquidity)\n    .add(positionState.permanentLockedLiquidity);\n\n  const userRewardPerTokenCheckPoint = new BN(\n    Buffer.from(userRewardInfo.rewardPerTokenCheckpoint).reverse(),\n  );\n  const newReward = totalPositionLiquidity\n    .mul(rewardPerTokenStore.sub(userRewardPerTokenCheckPoint))\n    .shrn(192);\n\n  if (poolReward.rewardDurationEnd <= currentTime) {\n    return {\n      userPendingReward: userRewardInfo.rewardPendings.add(newReward),\n      userRewardPerPeriod: new BN(0),\n    };\n  }\n\n  const rewardPerPeriod = getRewardPerPeriod(\n    poolReward,\n    currentTime,\n    periodTime,\n  );\n\n  const rewardPerTokenStorePerPeriod = rewardPerPeriod\n    .shln(128)\n    .div(poolState.liquidity);\n  const userRewardPerPeriod = totalPositionLiquidity\n    .mul(rewardPerTokenStorePerPeriod)\n    .shrn(192);\n\n  return {\n    userPendingReward: userRewardInfo.rewardPendings.add(newReward),\n    userRewardPerPeriod: userRewardPerPeriod,\n  };\n}\n","import { GetProgramAccountsFilter, PublicKey } from \"@solana/web3.js\";\n\n/**\n * Filters for the position by pool\n * @param pool - The pool address\n * @returns The filter for the position by pool\n */\nexport const positionByPoolFilter = (\n  pool: PublicKey,\n): GetProgramAccountsFilter => {\n  return {\n    memcmp: {\n      bytes: pool.toBase58(),\n      offset: 8,\n    },\n  };\n};\n\n/**\n * Filters for the vesting by position\n * @param position - The position address\n * @returns The filter for the vesting by position\n */\nexport const vestingByPositionFilter = (\n  position: PublicKey,\n): GetProgramAccountsFilter => {\n  return {\n    memcmp: {\n      bytes: position.toBase58(),\n      offset: 8,\n    },\n  };\n};\n\n/**\n * Create a memcmp filter for offset-based filtering\n * @param value - The value to filter by\n * @param offset - The offset where the value field is located in the account data\n * @returns A GetProgramAccountsFilter array with the value filter\n */\nexport function offsetBasedFilter(\n  value: PublicKey | string,\n  offset: number,\n): GetProgramAccountsFilter[] {\n  const valueKey = typeof value === \"string\" ? new PublicKey(value) : value;\n  return [\n    {\n      memcmp: {\n        offset,\n        bytes: valueKey.toBase58(),\n        encoding: \"base58\",\n      },\n    },\n  ];\n}\n","import { BN } from \"@coral-xyz/anchor\";\nimport {\n  calculateFee,\n  getEpochFee,\n  getTransferFeeConfig,\n  MAX_FEE_BASIS_POINTS,\n  Mint,\n  TransferFee,\n  TOKEN_2022_PROGRAM_ID,\n  unpackMint,\n} from \"@solana/spl-token\";\nimport { Connection, PublicKey } from \"@solana/web3.js\";\n\ninterface TransferFeeIncludedAmount {\n  amount: BN;\n  transferFee: BN;\n}\n\n/**\n * Calculates the pre fee amount\n * @param transferFee - The transfer fee\n * @param postFeeAmount - The post fee amount\n * @returns The pre fee amount\n */\nfunction calculatePreFeeAmount(transferFee: TransferFee, postFeeAmount: BN) {\n  if (postFeeAmount.isZero()) {\n    return new BN(0);\n  }\n\n  if (transferFee.transferFeeBasisPoints === 0) {\n    return postFeeAmount;\n  }\n\n  const maximumFee = new BN(transferFee.maximumFee.toString());\n\n  if (transferFee.transferFeeBasisPoints === MAX_FEE_BASIS_POINTS) {\n    return postFeeAmount.add(maximumFee);\n  }\n\n  const ONE_IN_BASIS_POINTS = new BN(MAX_FEE_BASIS_POINTS);\n  const numerator = postFeeAmount.mul(ONE_IN_BASIS_POINTS);\n  const denominator = ONE_IN_BASIS_POINTS.sub(\n    new BN(transferFee.transferFeeBasisPoints),\n  );\n\n  const rawPreFeeAmount = numerator\n    .add(denominator)\n    .sub(new BN(1))\n    .div(denominator);\n\n  if (rawPreFeeAmount.sub(postFeeAmount).gte(maximumFee)) {\n    return postFeeAmount.add(maximumFee);\n  }\n\n  return rawPreFeeAmount;\n}\n\n/**\n * Calculates the inverse fee\n * @param transferFee - The transfer fee\n * @param postFeeAmount - The post fee amount\n * @returns The inverse fee\n */\nfunction calculateInverseFee(transferFee: TransferFee, postFeeAmount: BN) {\n  const preFeeAmount = calculatePreFeeAmount(transferFee, postFeeAmount);\n  return new BN(\n    calculateFee(transferFee, BigInt(preFeeAmount.toString())).toString(),\n  );\n}\n\n/**\n * Calculates the transfer fee included amount\n * @param transferFeeExcludedAmount - The transfer fee excluded amount\n * @param mint - The mint\n * @param currentEpoch - The current epoch\n * @returns The transfer fee included amount\n */\nexport function calculateTransferFeeIncludedAmount(\n  transferFeeExcludedAmount: BN,\n  mint: Mint,\n  currentEpoch: number,\n): TransferFeeIncludedAmount {\n  if (transferFeeExcludedAmount.isZero()) {\n    return {\n      amount: new BN(0),\n      transferFee: new BN(0),\n    };\n  }\n\n  const transferFeeConfig = getTransferFeeConfig(mint);\n\n  if (transferFeeConfig === null) {\n    return {\n      amount: transferFeeExcludedAmount,\n      transferFee: new BN(0),\n    };\n  }\n\n  const epochFee = getEpochFee(transferFeeConfig, BigInt(currentEpoch));\n\n  const transferFee =\n    epochFee.transferFeeBasisPoints == MAX_FEE_BASIS_POINTS\n      ? new BN(epochFee.maximumFee.toString())\n      : calculateInverseFee(epochFee, transferFeeExcludedAmount);\n\n  const transferFeeIncludedAmount = transferFeeExcludedAmount.add(transferFee);\n\n  return {\n    amount: transferFeeIncludedAmount,\n    transferFee,\n  };\n}\n\ninterface TransferFeeExcludedAmount {\n  amount: BN;\n  transferFee: BN;\n}\n\n/**\n * Calculates the transfer fee excluded amount\n * @param transferFeeIncludedAmount - The transfer fee included amount\n * @param mint - The mint\n * @param currentEpoch - The current epoch\n * @returns The transfer fee excluded amount\n */\nexport function calculateTransferFeeExcludedAmount(\n  transferFeeIncludedAmount: BN,\n  mint: Mint,\n  currentEpoch: number,\n): TransferFeeExcludedAmount {\n  const transferFeeConfig = getTransferFeeConfig(mint);\n  if (transferFeeConfig === null) {\n    return {\n      amount: transferFeeIncludedAmount,\n      transferFee: new BN(0),\n    };\n  }\n\n  const transferFeeIncludedAmountN = BigInt(\n    transferFeeIncludedAmount.toString(),\n  );\n\n  const transferFee = calculateFee(\n    getEpochFee(transferFeeConfig, BigInt(currentEpoch)),\n    transferFeeIncludedAmountN,\n  );\n\n  const transferFeeExcludedAmount = new BN(\n    (transferFeeIncludedAmountN - transferFee).toString(),\n  );\n\n  return {\n    amount: transferFeeExcludedAmount,\n    transferFee: new BN(transferFee.toString()),\n  };\n}\n\n/**\n * Interface for transfer hook extension state\n */\nexport interface TransferHookState {\n  authority: string;\n  programId: string;\n}\n\n/**\n * Checks if a Token 2022 mint has a transfer hook extension\n * Transfer hooks prevent permissionless pool creation as they require\n * the hook program to approve transfers, which pool creation cannot satisfy.\n *\n * @param connection - The connection to the Solana cluster\n * @param mint - The mint address to check\n * @returns Object containing whether transfer hook exists and its state if found\n */\nexport async function hasTransferHookExtension(\n  connection: Connection,\n  mint: PublicKey,\n): Promise<{\n  hasTransferHook: boolean;\n  transferHookState?: TransferHookState;\n}> {\n  try {\n    // First check if it's a Token 2022 mint\n    const mintAccountInfo = await connection.getAccountInfo(mint);\n    if (!mintAccountInfo) {\n      return { hasTransferHook: false };\n    }\n\n    const isToken2022 = mintAccountInfo.owner.equals(TOKEN_2022_PROGRAM_ID);\n    if (!isToken2022) {\n      return { hasTransferHook: false };\n    }\n\n    // Try to get parsed account info which includes extensions\n    const parsedInfo = await connection.getParsedAccountInfo(mint);\n    if (parsedInfo.value && \"parsed\" in parsedInfo.value.data) {\n      const parsedData = parsedInfo.value.data.parsed;\n      if (parsedData && parsedData.info && parsedData.info.extensions) {\n        const extensions = parsedData.info.extensions;\n\n        // Check if transferHook extension exists\n        const transferHookExtension = extensions.find(\n          (ext: any) => ext.extension === \"transferHook\",\n        );\n\n        if (transferHookExtension && transferHookExtension.state) {\n          return {\n            hasTransferHook: true,\n            transferHookState: {\n              authority: transferHookExtension.state.authority,\n              programId: transferHookExtension.state.programId,\n            },\n          };\n        }\n      }\n    }\n\n    return { hasTransferHook: false };\n  } catch (error) {\n    // If we can't determine, assume no transfer hook to avoid false positives\n    // The actual pool creation will fail with error 3007 if transfer hook exists\n    return { hasTransferHook: false };\n  }\n}\n\n/**\n * Validates that tokens don't have transfer hook extensions before pool creation\n * Throws an error if either token has a transfer hook extension\n *\n * @param connection - The connection to the Solana cluster\n * @param tokenAMint - The first token mint address\n * @param tokenBMint - The second token mint address\n * @throws Error if either token has a transfer hook extension\n */\nexport async function validateNoTransferHook(\n  connection: Connection,\n  tokenAMint: PublicKey,\n  tokenBMint: PublicKey,\n): Promise<void> {\n  const [tokenACheck, tokenBCheck] = await Promise.all([\n    hasTransferHookExtension(connection, tokenAMint),\n    hasTransferHookExtension(connection, tokenBMint),\n  ]);\n\n  if (tokenACheck.hasTransferHook) {\n    throw new Error(\n      `Token A (${tokenAMint.toBase58()}) has a transfer hook extension. ` +\n        `Transfer hook might prevent permissionless pool creation. ` +\n        `Transfer hook program: ${tokenACheck.transferHookState?.programId}`,\n    );\n  }\n\n  if (tokenBCheck.hasTransferHook) {\n    throw new Error(\n      `Token B (${tokenBMint.toBase58()}) has a transfer hook extension. ` +\n        `Transfer hook might prevent permissionless pool creation. ` +\n        `Transfer hook program: ${tokenBCheck.transferHookState?.programId}`,\n    );\n  }\n}\n","import { BN } from \"@coral-xyz/anchor\";\nimport { PositionState, VestingState } from \"../types\";\nimport { min } from \"bn.js\";\n\n/**\n * Checks if a vesting schedule is ready for full release\n * @param vestingData The vesting account data\n * @param currentPoint Current timestamp or slot\n * @returns True if the vesting is complete and all liquidity can be released\n */\nexport function isVestingComplete(\n  vestingData: VestingState,\n  currentPoint: BN,\n): boolean {\n  const cliffPoint = vestingData.cliffPoint;\n  const periodFrequency = vestingData.periodFrequency;\n  const numberOfPeriods = vestingData.numberOfPeriod;\n\n  const endPoint = cliffPoint.add(periodFrequency.muln(numberOfPeriods));\n\n  return currentPoint.gte(endPoint);\n}\n\n/**\n * Gets the total amount of liquidity in the vesting schedule\n * @param vestingData The vesting account data\n * @returns The total locked liquidity amount\n */\nexport function getTotalLockedLiquidity(vestingData: VestingState): BN {\n  return vestingData.cliffUnlockLiquidity.add(\n    vestingData.liquidityPerPeriod.mul(new BN(vestingData.numberOfPeriod)),\n  );\n}\n\n/**\n * Calculates the available liquidity to withdraw based on vesting schedule\n * @param vestingData The vesting account data\n * @param positionData The position account data\n * @param currentPoint Current timestamp or slot\n * @returns The amount of liquidity available to withdraw\n */\nexport function getAvailableVestingLiquidity(\n  vestingData: VestingState,\n  currentPoint: BN,\n): BN {\n  const {\n    cliffPoint,\n    periodFrequency,\n    cliffUnlockLiquidity,\n    liquidityPerPeriod,\n    numberOfPeriod,\n    totalReleasedLiquidity,\n  } = vestingData;\n\n  if (currentPoint.lt(cliffPoint)) {\n    return new BN(0);\n  }\n\n  if (periodFrequency.isZero()) {\n    return cliffUnlockLiquidity;\n  }\n\n  let passedPeriod = new BN(currentPoint).sub(cliffPoint).div(periodFrequency);\n\n  passedPeriod = min(passedPeriod, new BN(numberOfPeriod));\n\n  // total unlocked liquidity: cliff + (periods * per_period)\n  const unlockedLiquidity = cliffUnlockLiquidity.add(\n    passedPeriod.mul(liquidityPerPeriod),\n  );\n  const availableReleasingLiquidity = unlockedLiquidity.sub(\n    totalReleasedLiquidity,\n  );\n\n  return availableReleasingLiquidity;\n}\n","import BN from \"bn.js\";\nimport {\n  ActivationType,\n  BaseFeeMode,\n  CollectFeeMode,\n  PoolVersion,\n} from \"../types\";\nimport {\n  getFeeNumeratorFromIncludedFeeAmount,\n  getMaxBaseFeeNumerator,\n  getFeeTimeMinBaseFeeNumerator,\n  isNonZeroRateLimiter,\n  isZeroRateLimiter,\n  getFeeMarketCapMinBaseFeeNumerator,\n} from \"../math/poolFees\";\nimport {\n  FEE_DENOMINATOR,\n  MAX_RATE_LIMITER_DURATION_IN_SECONDS,\n  MAX_RATE_LIMITER_DURATION_IN_SLOTS,\n  MIN_FEE_NUMERATOR,\n} from \"../constants\";\nimport { toNumerator } from \"../math\";\nimport { getMaxFeeBps, getMaxFeeNumerator } from \"../math\";\n\n/**\n * Validate fee scheduler parameters\n * @param numberOfPeriod Number of periods\n * @param periodFrequency Period frequency\n * @param reductionFactor Reduction factor\n * @param cliffFeeNumerator Cliff fee numerator\n * @param baseFeeMode Base fee mode\n * @param poolVersion Pool version\n * @throws Error if the fee time scheduler is invalid.\n * @returns True if the fee time scheduler is valid, otherwise false.\n */\nexport function validateFeeTimeScheduler(\n  numberOfPeriod: number,\n  periodFrequency: BN,\n  reductionFactor: BN,\n  cliffFeeNumerator: BN,\n  baseFeeMode: BaseFeeMode,\n  poolVersion: PoolVersion,\n): boolean {\n  if (\n    !periodFrequency.eq(new BN(0)) ||\n    numberOfPeriod !== 0 ||\n    !reductionFactor.eq(new BN(0))\n  ) {\n    if (\n      numberOfPeriod === 0 ||\n      periodFrequency.eq(new BN(0)) ||\n      reductionFactor.eq(new BN(0))\n    ) {\n      throw new Error(\"PoolError::InvalidFeeTimeScheduler\");\n    }\n  }\n\n  const minFeeNumerator = getFeeTimeMinBaseFeeNumerator(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    reductionFactor,\n    baseFeeMode,\n  );\n  const maxFeeNumerator = getMaxBaseFeeNumerator(cliffFeeNumerator);\n  validateFeeFraction(minFeeNumerator, new BN(FEE_DENOMINATOR));\n  validateFeeFraction(maxFeeNumerator, new BN(FEE_DENOMINATOR));\n\n  if (\n    minFeeNumerator.lt(new BN(MIN_FEE_NUMERATOR)) ||\n    maxFeeNumerator.gt(getMaxFeeNumerator(poolVersion))\n  ) {\n    throw new Error(\"PoolError::ExceedMaxFeeBps\");\n  }\n\n  return true;\n}\n\n/**\n * Validates whether the base fee is static based on the scheduler's expiration.\n * @param currentPoint - The current point as BN.\n * @param activationPoint - The activation point as BN.\n * @param numberOfPeriod - The total number of periods as BN.\n * @param periodFrequency - The period frequency as BN.\n * @returns True if the base fee is static, otherwise false.\n */\nexport function validateFeeTimeSchedulerBaseFeeIsStatic(\n  currentPoint: BN,\n  activationPoint: BN,\n  numberOfPeriod: BN,\n  periodFrequency: BN,\n): boolean {\n  // schedulerExpirationPoint = activationPoint + (numberOfPeriod * periodFrequency)\n  const schedulerExpirationPoint = activationPoint.add(\n    numberOfPeriod.mul(periodFrequency),\n  );\n\n  return currentPoint.gt(schedulerExpirationPoint);\n}\n\n/**\n * Validates the Market Cap Fee Scheduler parameters.\n * This checks for non-zero scheduler fields and validates fee fractions and limits, following the Rust logic.\n * @param cliffFeeNumerator - The cliff fee numerator as BN.\n * @param numberOfPeriod - Number of periods (number).\n * @param sqrtPriceStepBps - The sqrt price step in basis points (BN).\n * @param reductionFactor - The reduction factor as BN.\n * @param schedulerExpirationDuration - The scheduler expiration duration as BN.\n * @param feeMarketCapSchedulerMode - The fee scheduler mode (BaseFeeMode).\n * @param poolVersion - The pool version.\n * @throws Error if validation fails.\n * @returns True if the fee market cap scheduler is valid, otherwise false.\n */\nexport function validateFeeMarketCapScheduler(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  sqrtPriceStepBps: BN,\n  reductionFactor: BN,\n  schedulerExpirationDuration: BN,\n  feeMarketCapSchedulerMode: BaseFeeMode,\n  poolVersion: PoolVersion,\n): boolean {\n  // doesn't allow zero fee marketcap scheduler\n  if (reductionFactor.lte(new BN(0))) {\n    throw new Error(\"PoolError::InvalidFeeMarketCapScheduler\");\n  }\n\n  if (sqrtPriceStepBps.lte(new BN(0))) {\n    throw new Error(\"PoolError::InvalidFeeMarketCapScheduler\");\n  }\n\n  if (schedulerExpirationDuration.lte(new BN(0))) {\n    throw new Error(\"PoolError::InvalidFeeMarketCapScheduler\");\n  }\n\n  if (numberOfPeriod <= 0) {\n    throw new Error(\"PoolError::InvalidFeeMarketCapScheduler\");\n  }\n\n  const minFeeNumerator = getFeeMarketCapMinBaseFeeNumerator(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    reductionFactor,\n    feeMarketCapSchedulerMode,\n  );\n  const maxFeeNumerator = cliffFeeNumerator;\n\n  validateFeeFraction(minFeeNumerator, new BN(FEE_DENOMINATOR));\n  validateFeeFraction(maxFeeNumerator, new BN(FEE_DENOMINATOR));\n\n  const maxAllowedFeeNumerator = getMaxFeeNumerator(poolVersion);\n\n  if (\n    minFeeNumerator.lt(new BN(MIN_FEE_NUMERATOR)) ||\n    maxFeeNumerator.gt(maxAllowedFeeNumerator)\n  ) {\n    throw new Error(\"PoolError::ExceedMaxFeeBps\");\n  }\n\n  return true;\n}\n\n/**\n * Validates whether the base fee is static for market cap fee scheduler, based on scheduler's expiration\n * @param currentPoint - The current point as BN.\n * @param activationPoint - The activation point as BN.\n * @param schedulerExpirationDuration - The scheduler expiration duration as BN.\n * @returns True if the base fee is static, otherwise false.\n */\nexport function validateFeeMarketCapBaseFeeIsStatic(\n  currentPoint: BN,\n  activationPoint: BN,\n  schedulerExpirationDuration: BN,\n): boolean {\n  // schedulerExpirationPoint = activationPoint + schedulerExpirationDuration\n  const schedulerExpirationPoint = activationPoint.add(\n    schedulerExpirationDuration,\n  );\n\n  return currentPoint.gt(schedulerExpirationPoint);\n}\n\n/**\n * Validate rate limiter parameters\n * @param cliffFeeNumerator - Cliff fee numerator\n * @param feeIncrementBps - Fee increment bps\n * @param maxLimiterDuration - Max limiter duration\n * @param referenceAmount - Reference amount\n * @param collectFeeMode - Collect fee mode\n * @param activationType - Activation type (slot or timestamp)\n * @returns Validation result\n */\nexport function validateFeeRateLimiter(\n  cliffFeeNumerator: BN,\n  feeIncrementBps: number,\n  maxFeeBps: number,\n  maxLimiterDuration: number,\n  referenceAmount: BN,\n  collectFeeMode: CollectFeeMode,\n  activationType: ActivationType,\n  poolVersion: PoolVersion,\n): boolean {\n  // can only be applied in OnlyB collect fee mode\n  if (collectFeeMode !== CollectFeeMode.OnlyB) {\n    return false;\n  }\n\n  // max_fee_numerator_from_bps = to_numerator(maxFeeBps, FEE_DENOMINATOR)\n  const maxFeeNumeratorFromBps = toNumerator(\n    new BN(maxFeeBps),\n    new BN(FEE_DENOMINATOR),\n  );\n\n  // cliff_fee_numerator >= MIN_FEE_NUMERATOR && cliff_fee_numerator <= max_fee_numerator_from_bps\n  if (\n    cliffFeeNumerator.lt(new BN(MIN_FEE_NUMERATOR)) ||\n    cliffFeeNumerator.gt(maxFeeNumeratorFromBps)\n  ) {\n    return false;\n  }\n\n  // is_zero_rate_limiter\n  if (\n    isZeroRateLimiter(\n      referenceAmount,\n      maxLimiterDuration,\n      maxFeeBps,\n      feeIncrementBps,\n    )\n  ) {\n    return true;\n  }\n\n  if (\n    isNonZeroRateLimiter(\n      referenceAmount,\n      maxLimiterDuration,\n      maxFeeBps,\n      feeIncrementBps,\n    )\n  ) {\n    return false;\n  }\n\n  // max_limiter_duration = match activation_type\n  const maxLimiterDurationLimit =\n    activationType === ActivationType.Slot\n      ? new BN(MAX_RATE_LIMITER_DURATION_IN_SLOTS)\n      : new BN(MAX_RATE_LIMITER_DURATION_IN_SECONDS);\n\n  if (new BN(maxLimiterDuration).gt(maxLimiterDurationLimit)) {\n    return false;\n  }\n\n  // fee_increment_numerator = to_numerator(feeIncrementBps, FEE_DENOMINATOR)\n  const feeIncrementNumerator = toNumerator(\n    new BN(feeIncrementBps),\n    new BN(FEE_DENOMINATOR),\n  );\n  if (feeIncrementNumerator.gte(new BN(FEE_DENOMINATOR))) {\n    return false;\n  }\n\n  if (maxFeeBps > getMaxFeeBps(poolVersion)) {\n    return false;\n  }\n\n  // validate max fee (more amount, then more fee)\n  const minFeeNumerator = getFeeNumeratorFromIncludedFeeAmount(\n    new BN(0),\n    cliffFeeNumerator,\n    referenceAmount,\n    maxFeeBps,\n    feeIncrementBps,\n  );\n  const maxFeeNumeratorFromAmount = getFeeNumeratorFromIncludedFeeAmount(\n    new BN(Number.MAX_SAFE_INTEGER),\n    cliffFeeNumerator,\n    referenceAmount,\n    maxFeeBps,\n    feeIncrementBps,\n  );\n\n  if (\n    minFeeNumerator.lt(new BN(MIN_FEE_NUMERATOR)) ||\n    maxFeeNumeratorFromAmount.gt(getMaxFeeNumerator(poolVersion))\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validates whether the rate limiter base fee is static based on the current and activation points, as well as the maxLimiterDuration and referenceAmount.\n * @param currentPoint - The current point as BN.\n * @param activationPoint - The activation point as BN.\n * @param maxLimiterDuration - The max limiter duration as number.\n * @param referenceAmount - The reference amount as BN.\n * @param maxFeeBps - The max fee in basis points as number.\n * @param feeIncrementBps - The fee increment in basis points as number.\n * @returns True if the base fee is static, otherwise false.\n */\nexport function validateFeeRateLimiterBaseFeeIsStatic(\n  currentPoint: BN,\n  activationPoint: BN,\n  maxLimiterDuration: number,\n  referenceAmount: BN,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): boolean {\n  // if the rate limiter is zero, return true\n  if (\n    isZeroRateLimiter(\n      referenceAmount,\n      maxLimiterDuration,\n      maxFeeBps,\n      feeIncrementBps,\n    )\n  ) {\n    return true;\n  }\n\n  // last_effective_rate_limiter_point = activationPoint + maxLimiterDuration\n  const lastEffectiveRateLimiterPoint = activationPoint.add(\n    new BN(maxLimiterDuration),\n  );\n\n  return currentPoint.gt(lastEffectiveRateLimiterPoint);\n}\n\n/**\n * Validates that the fee fraction is valid (numerator < denominator, denominator != 0)\n * @param numerator - The numerator of the fee fraction\n * @param denominator - The denominator of the fee fraction\n * @throws Error if the fee fraction is invalid\n */\nexport function validateFeeFraction(numerator: BN, denominator: BN): void {\n  if (denominator.isZero() || numerator.gte(denominator)) {\n    throw new Error(\n      \"InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero\",\n    );\n  }\n}\n","import BN from \"bn.js\";\nimport {\n  TradeDirection,\n  BaseFeeMode,\n  CollectFeeMode,\n  ActivationType,\n  BaseFeeHandler,\n  PoolVersion,\n} from \"../../types\";\nimport {\n  getFeeNumeratorFromIncludedFeeAmount,\n  getFeeNumeratorFromExcludedFeeAmount,\n  isRateLimiterApplied,\n} from \"./rateLimiter\";\nimport {\n  getFeeTimeBaseFeeNumerator,\n  getFeeTimeMinBaseFeeNumerator,\n} from \"./feeTimeScheduler\";\nimport {\n  getFeeMarketCapBaseFeeNumerator,\n  getFeeMarketCapMinBaseFeeNumerator,\n} from \"./feeMarketCapScheduler\";\nimport {\n  validateFeeRateLimiter,\n  validateFeeTimeScheduler,\n  validateFeeMarketCapScheduler,\n  validateFeeTimeSchedulerBaseFeeIsStatic,\n  validateFeeMarketCapBaseFeeIsStatic,\n  validateFeeRateLimiterBaseFeeIsStatic,\n  decodePodAlignedFeeRateLimiter,\n  decodePodAlignedFeeTimeScheduler,\n  decodePodAlignedFeeMarketCapScheduler,\n} from \"../../helpers\";\n\n/**\n * Fee Rate Limiter class\n */\nexport class FeeRateLimiter implements BaseFeeHandler {\n  constructor(\n    public cliffFeeNumerator: BN,\n    public feeIncrementBps: number,\n    public maxFeeBps: number,\n    public maxLimiterDuration: number,\n    public referenceAmount: BN,\n  ) {}\n\n  validate(\n    collectFeeMode: CollectFeeMode,\n    activationType: ActivationType,\n    poolVersion: PoolVersion,\n  ): boolean {\n    return validateFeeRateLimiter(\n      this.cliffFeeNumerator,\n      this.feeIncrementBps,\n      this.maxFeeBps,\n      this.maxLimiterDuration,\n      this.referenceAmount,\n      collectFeeMode,\n      activationType,\n      poolVersion,\n    );\n  }\n\n  getBaseFeeNumeratorFromIncludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    tradeDirection: TradeDirection,\n    includedFeeAmount: BN,\n    _initSqrtPrice: BN,\n    _currentSqrtPrice: BN,\n  ): BN {\n    if (\n      isRateLimiterApplied(\n        this.referenceAmount,\n        this.maxLimiterDuration,\n        this.maxFeeBps,\n        this.feeIncrementBps,\n        currentPoint,\n        activationPoint,\n        tradeDirection,\n      )\n    ) {\n      return getFeeNumeratorFromIncludedFeeAmount(\n        includedFeeAmount,\n        this.referenceAmount,\n        this.cliffFeeNumerator,\n        this.maxFeeBps,\n        this.feeIncrementBps,\n      );\n    } else {\n      return this.cliffFeeNumerator;\n    }\n  }\n\n  getBaseFeeNumeratorFromExcludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    tradeDirection: TradeDirection,\n    excludedFeeAmount: BN,\n    _initSqrtPrice: BN,\n    _currentSqrtPrice: BN,\n  ): BN {\n    if (\n      isRateLimiterApplied(\n        this.referenceAmount,\n        this.maxLimiterDuration,\n        this.maxFeeBps,\n        this.feeIncrementBps,\n        currentPoint,\n        activationPoint,\n        tradeDirection,\n      )\n    ) {\n      return getFeeNumeratorFromExcludedFeeAmount(\n        excludedFeeAmount,\n        this.referenceAmount,\n        this.cliffFeeNumerator,\n        this.maxFeeBps,\n        this.feeIncrementBps,\n      );\n    } else {\n      return this.cliffFeeNumerator;\n    }\n  }\n\n  validateBaseFeeIsStatic(currentPoint: BN, activationPoint: BN): boolean {\n    return validateFeeRateLimiterBaseFeeIsStatic(\n      currentPoint,\n      activationPoint,\n      this.maxLimiterDuration,\n      this.referenceAmount,\n      this.maxFeeBps,\n      this.feeIncrementBps,\n    );\n  }\n\n  getMinBaseFeeNumerator(): BN {\n    return this.cliffFeeNumerator;\n  }\n}\n\n/**\n * Fee Time Scheduler implementation\n */\nexport class FeeTimeScheduler implements BaseFeeHandler {\n  constructor(\n    public cliffFeeNumerator: BN,\n    public numberOfPeriod: number,\n    public periodFrequency: BN,\n    public reductionFactor: BN,\n    public feeTimeSchedulerMode: BaseFeeMode,\n  ) {}\n\n  validate(\n    collectFeeMode: CollectFeeMode,\n    activationType: ActivationType,\n    poolVersion: PoolVersion,\n  ): boolean {\n    return validateFeeTimeScheduler(\n      this.numberOfPeriod,\n      this.periodFrequency,\n      this.reductionFactor,\n      this.cliffFeeNumerator,\n      this.feeTimeSchedulerMode,\n      poolVersion,\n    );\n  }\n\n  getBaseFeeNumeratorFromIncludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    _tradeDirection: TradeDirection,\n    _includedFeeAmount: BN,\n    _initSqrtPrice: BN,\n    _currentSqrtPrice: BN,\n  ): BN {\n    return getFeeTimeBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.periodFrequency,\n      this.reductionFactor,\n      this.feeTimeSchedulerMode,\n      currentPoint,\n      activationPoint,\n    );\n  }\n\n  getBaseFeeNumeratorFromExcludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    _tradeDirection: TradeDirection,\n    _excludedFeeAmount: BN,\n    _initSqrtPrice: BN,\n    _currentSqrtPrice: BN,\n  ): BN {\n    return getFeeTimeBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.periodFrequency,\n      this.reductionFactor,\n      this.feeTimeSchedulerMode,\n      currentPoint,\n      activationPoint,\n    );\n  }\n\n  validateBaseFeeIsStatic(currentPoint: BN, activationPoint: BN): boolean {\n    return validateFeeTimeSchedulerBaseFeeIsStatic(\n      currentPoint,\n      activationPoint,\n      new BN(this.numberOfPeriod),\n      this.periodFrequency,\n    );\n  }\n\n  getMinBaseFeeNumerator(): BN {\n    return getFeeTimeMinBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.reductionFactor,\n      this.feeTimeSchedulerMode,\n    );\n  }\n}\n\n/**\n * Fee Market Cap Scheduler implementation\n */\nexport class FeeMarketCapScheduler implements BaseFeeHandler {\n  constructor(\n    public cliffFeeNumerator: BN,\n    public numberOfPeriod: number,\n    public sqrtPriceStepBps: number,\n    public schedulerExpirationDuration: number,\n    public reductionFactor: BN,\n    public feeMarketCapSchedulerMode: BaseFeeMode,\n  ) {}\n\n  validate(\n    _collectFeeMode: CollectFeeMode,\n    _activationType: ActivationType,\n    poolVersion: PoolVersion,\n  ): boolean {\n    return validateFeeMarketCapScheduler(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      new BN(this.sqrtPriceStepBps),\n      this.reductionFactor,\n      new BN(this.schedulerExpirationDuration),\n      this.feeMarketCapSchedulerMode,\n      poolVersion,\n    );\n  }\n\n  getBaseFeeNumeratorFromIncludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    _tradeDirection: TradeDirection,\n    _includedFeeAmount: BN,\n    initSqrtPrice: BN,\n    currentSqrtPrice: BN,\n  ): BN {\n    return getFeeMarketCapBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.sqrtPriceStepBps,\n      this.schedulerExpirationDuration,\n      this.reductionFactor,\n      this.feeMarketCapSchedulerMode,\n      currentPoint,\n      activationPoint,\n      initSqrtPrice,\n      currentSqrtPrice,\n    );\n  }\n\n  getBaseFeeNumeratorFromExcludedFeeAmount(\n    currentPoint: BN,\n    activationPoint: BN,\n    _tradeDirection: TradeDirection,\n    _excludedFeeAmount: BN,\n    initSqrtPrice: BN,\n    currentSqrtPrice: BN,\n  ): BN {\n    return getFeeMarketCapBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.sqrtPriceStepBps,\n      this.schedulerExpirationDuration,\n      this.reductionFactor,\n      this.feeMarketCapSchedulerMode,\n      currentPoint,\n      activationPoint,\n      initSqrtPrice,\n      currentSqrtPrice,\n    );\n  }\n\n  validateBaseFeeIsStatic(currentPoint: BN, activationPoint: BN): boolean {\n    return validateFeeMarketCapBaseFeeIsStatic(\n      currentPoint,\n      activationPoint,\n      new BN(this.schedulerExpirationDuration),\n    );\n  }\n\n  getMinBaseFeeNumerator(): BN {\n    return getFeeMarketCapMinBaseFeeNumerator(\n      this.cliffFeeNumerator,\n      this.numberOfPeriod,\n      this.reductionFactor,\n      this.feeMarketCapSchedulerMode,\n    );\n  }\n}\n\n/**\n * Get base fee handler based on base fee mode\n * @param rawData Raw data\n * @returns Base fee handler instance\n */\nexport function getBaseFeeHandler(rawData: number[]): BaseFeeHandler {\n  const data = Buffer.from(rawData);\n  const modeIndex = data.readUInt8(8); // offset 8 for poolFees pod format\n  const baseFeeMode = modeIndex as BaseFeeMode;\n\n  switch (baseFeeMode) {\n    case BaseFeeMode.FeeTimeSchedulerLinear:\n    case BaseFeeMode.FeeTimeSchedulerExponential: {\n      const poolFees = decodePodAlignedFeeTimeScheduler(data);\n      return new FeeTimeScheduler(\n        poolFees.cliffFeeNumerator,\n        poolFees.numberOfPeriod,\n        poolFees.periodFrequency,\n        poolFees.reductionFactor,\n        poolFees.baseFeeMode,\n      );\n    }\n    case BaseFeeMode.RateLimiter: {\n      const poolFees = decodePodAlignedFeeRateLimiter(data);\n      return new FeeRateLimiter(\n        poolFees.cliffFeeNumerator,\n        poolFees.feeIncrementBps,\n        poolFees.maxFeeBps,\n        poolFees.maxLimiterDuration,\n        poolFees.referenceAmount,\n      );\n    }\n    case BaseFeeMode.FeeMarketCapSchedulerLinear:\n    case BaseFeeMode.FeeMarketCapSchedulerExponential: {\n      const poolFees = decodePodAlignedFeeMarketCapScheduler(data);\n      return new FeeMarketCapScheduler(\n        poolFees.cliffFeeNumerator,\n        poolFees.numberOfPeriod,\n        poolFees.sqrtPriceStepBps,\n        poolFees.schedulerExpirationDuration,\n        poolFees.reductionFactor,\n        poolFees.baseFeeMode,\n      );\n    }\n    default:\n      throw new Error(\"Invalid base fee mode\");\n  }\n}\n","import BN from \"bn.js\";\nimport { Rounding, TradeDirection } from \"../../types\";\nimport { FEE_DENOMINATOR, U64_MAX } from \"../../constants\";\nimport { getExcludedFeeAmount, getIncludedFeeAmount } from \"../feeMath\";\nimport { mulDiv, sqrt } from \"../utilsMath\";\nimport { toNumerator } from \"../feeMath\";\n\n/// we denote reference_amount = x0, cliff_fee_numerator = c, fee_increment = i\n/// if input_amount <= x0, then fee = input_amount * c\n///\n/// if input_amount > x0, then input_amount = x0 + (a * x0 + b)\n/// if a < max_index\n/// then fee = x0 * c + x0 * (c + i) + .... + x0 * (c + i*a) + b * (c + i * (a+1))\n/// then fee = x0 * (c + c*a + i*a*(a+1)/2) + b * (c + i * (a+1))\n///\n/// if a >= max_index\n/// if a = max_index + d, input_amount = x0 + max_index * x0 + (d * x0 + b)\n/// then fee = x0 * (c + c*max_index + i*max_index*(max_index+1)/2) + (d * x0 + b) * MAX_FEE\n\n/**\n * Checks if the rate limiter is zero.\n * @param referenceAmount - The reference amount.\n * @param maxLimiterDuration - The maximum rate limiter duration.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param feeIncrementBps - The fee increment in basis points.\n * @returns True if the rate limiter is zero, false otherwise.\n */\nexport function isZeroRateLimiter(\n  referenceAmount: BN,\n  maxLimiterDuration: number,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): boolean {\n  return (\n    referenceAmount.isZero() &&\n    maxLimiterDuration === 0 &&\n    maxFeeBps === 0 &&\n    feeIncrementBps === 0\n  );\n}\n\n/**\n * Checks if the rate limiter is non-zero.\n * @param referenceAmount - The reference amount.\n * @param maxLimiterDuration - The maximum rate limiter duration.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param feeIncrementBps - The fee increment in basis points.\n * @returns True if the rate limiter is non-zero, false otherwise.\n */\nexport function isNonZeroRateLimiter(\n  referenceAmount: BN,\n  maxLimiterDuration: number,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): boolean {\n  return (\n    referenceAmount.isZero() &&\n    maxLimiterDuration !== 0 &&\n    maxFeeBps !== 0 &&\n    feeIncrementBps !== 0\n  );\n}\n\n/**\n * Checks if the rate limiter is applied.\n * @param referenceAmount - The reference amount.\n * @param maxLimiterDuration - The maximum rate limiter duration.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param feeIncrementBps - The fee increment in basis points.\n * @param currentPoint - The current point.\n * @param activationPoint - The activation point.\n * @param tradeDirection - The trade direction.\n * @returns True if the rate limiter is applied, false otherwise.\n */\nexport function isRateLimiterApplied(\n  referenceAmount: BN,\n  maxLimiterDuration: number,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n  currentPoint: BN,\n  activationPoint: BN,\n  tradeDirection: TradeDirection,\n): boolean {\n  // if rate limiter is zero, return false\n  if (\n    isZeroRateLimiter(\n      referenceAmount,\n      maxLimiterDuration,\n      maxFeeBps,\n      feeIncrementBps,\n    )\n  ) {\n    return false;\n  }\n\n  // only handle for the case B to A and collect fee mode in token B\n  if (tradeDirection === TradeDirection.AtoB) {\n    return false;\n  }\n\n  if (currentPoint.lt(activationPoint)) {\n    return false;\n  }\n\n  // last_effective_rate_limiter_point = activation_point + max_limiter_duration\n  const lastEffectiveRateLimiterPoint = activationPoint.add(\n    new BN(maxLimiterDuration),\n  );\n\n  if (currentPoint.gt(lastEffectiveRateLimiterPoint)) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Gets the maximum index.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param feeIncrementBps - The fee increment in basis points.\n * @returns The maximum index.\n */\nexport function getMaxIndex(\n  maxFeeBps: number,\n  cliffFeeNumerator: BN,\n  feeIncrementBps: number,\n): BN {\n  // max_fee_numerator = to_numerator(maxFeeBps, FEE_DENOMINATOR)\n  const maxFeeNumerator = toNumerator(\n    new BN(maxFeeBps),\n    new BN(FEE_DENOMINATOR),\n  );\n\n  // delta_numerator = max_fee_numerator.safe_sub(cliff_fee_numerator)\n  if (cliffFeeNumerator.gt(maxFeeNumerator)) {\n    throw new Error(\"cliffFeeNumerator cannot be greater than maxFeeNumerator\");\n  }\n  const deltaNumerator = maxFeeNumerator.sub(cliffFeeNumerator);\n\n  // fee_increment_numerator = to_numerator(feeIncrementBps, FEE_DENOMINATOR)\n  const feeIncrementNumerator = toNumerator(\n    new BN(feeIncrementBps),\n    new BN(FEE_DENOMINATOR),\n  );\n\n  if (feeIncrementNumerator.isZero()) {\n    throw new Error(\"feeIncrementNumerator cannot be zero\");\n  }\n\n  const maxIndex = deltaNumerator.div(feeIncrementNumerator);\n\n  return maxIndex;\n}\n\n/**\n * Gets the fee numerator from included fee amount.\n * @param inputAmount - The input amount.\n * @param referenceAmount - The reference amount.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param feeIncrementBps - The fee increment in basis points.\n * @returns The fee numerator from included fee amount.\n */\nexport function getFeeNumeratorFromIncludedFeeAmount(\n  inputAmount: BN,\n  referenceAmount: BN,\n  cliffFeeNumerator: BN,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): BN {\n  if (inputAmount.lte(referenceAmount)) {\n    return cliffFeeNumerator;\n  } else {\n    // max_fee_numerator = to_numerator(maxFeeBps, FEE_DENOMINATOR)\n    const maxFeeNumerator = toNumerator(\n      new BN(maxFeeBps),\n      new BN(FEE_DENOMINATOR),\n    );\n\n    const c = cliffFeeNumerator;\n    // a = (inputAmount - referenceAmount) / referenceAmount\n    // b = (inputAmount - referenceAmount) % referenceAmount\n    const inputMinusRef = inputAmount.sub(referenceAmount);\n    const a = inputMinusRef.div(referenceAmount);\n    const b = inputMinusRef.mod(referenceAmount);\n\n    const maxIndex = getMaxIndex(maxFeeBps, cliffFeeNumerator, feeIncrementBps);\n    const i = toNumerator(new BN(feeIncrementBps), new BN(FEE_DENOMINATOR));\n    const x0 = referenceAmount;\n    const one = new BN(1);\n    const two = new BN(2);\n\n    let tradingFeeNumerator: BN;\n    if (a.lt(maxIndex)) {\n      // numerator_1 = c + c * a + i * a * (a + one) / two\n      const numerator1 = c.add(c.mul(a)).add(i.mul(a).mul(a.add(one)).div(two));\n      // numerator_2 = c + i * (a + one)\n      const numerator2 = c.add(i.mul(a.add(one)));\n      // first_fee = x0 * numerator_1\n      const firstFee = x0.mul(numerator1);\n      // second_fee = b * numerator_2\n      const secondFee = b.mul(numerator2);\n      tradingFeeNumerator = firstFee.add(secondFee);\n    } else {\n      // numerator_1 = c + c * max_index + i * max_index * (max_index + one) / two\n      const numerator1 = c\n        .add(c.mul(maxIndex))\n        .add(i.mul(maxIndex).mul(maxIndex.add(one)).div(two));\n      // numerator_2 = maxFeeNumerator\n      const numerator2 = maxFeeNumerator;\n      // first_fee = x0 * numerator_1\n      const firstFee = x0.mul(numerator1);\n\n      // d = a - max_index\n      const d = a.sub(maxIndex);\n      // left_amount = d * x0 + b\n      const leftAmount = d.mul(x0).add(b);\n      // second_fee = left_amount * numerator_2\n      const secondFee = leftAmount.mul(numerator2);\n      tradingFeeNumerator = firstFee.add(secondFee);\n    }\n\n    const denominator = new BN(FEE_DENOMINATOR);\n    // trading_fee = (trading_fee_numerator + denominator - one) / denominator\n    const tradingFee = tradingFeeNumerator\n      .add(denominator)\n      .sub(one)\n      .div(denominator);\n\n    // reverse to fee numerator\n    // input_amount * numerator / FEE_DENOMINATOR = trading_fee\n    // then numerator = trading_fee * FEE_DENOMINATOR / input_amount (rounded up)\n    const numerator = mulDiv(tradingFee, denominator, inputAmount, Rounding.Up);\n\n    if (numerator.gt(new BN(U64_MAX))) {\n      throw new Error(\"Numerator does not fit in u64\");\n    }\n\n    return numerator;\n  }\n}\n\n/**\n * Gets the excluded fee amount from included fee amount.\n * @param includedFeeAmount - The included fee amount.\n * @param referenceAmount - The reference amount.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param maxFeeBps - The maximum fee in basis points.\n * @param feeIncrementBps - The fee increment in basis points.\n * @returns The excluded fee amount.\n */\nexport function getExcludedFeeAmountFromIncludedFeeAmount(\n  includedFeeAmount: BN,\n  referenceAmount: BN,\n  cliffFeeNumerator: BN,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): BN {\n  const feeNumerator = getFeeNumeratorFromIncludedFeeAmount(\n    includedFeeAmount,\n    referenceAmount,\n    cliffFeeNumerator,\n    maxFeeBps,\n    feeIncrementBps,\n  );\n  const { excludedFeeAmount } = getExcludedFeeAmount(\n    feeNumerator,\n    includedFeeAmount,\n  );\n  return excludedFeeAmount;\n}\n\n/**\n * Returns checked output and input amounts, and a flag indicating if the input was capped at u64::MAX.\n * @param referenceAmount - The reference amount\n * @param cliffFeeNumerator - The cliff fee numerator\n * @param maxFeeBps - The maximum fee in basis points\n * @param feeIncrementBps - The fee increment in basis points\n * @returns [checkedOutputAmount: BN, checkedIncludedFeeAmount: BN, capped: boolean]\n */\nexport function getCheckedAmounts(\n  referenceAmount: BN,\n  cliffFeeNumerator: BN,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): {\n  checkedExcludedFeeAmount: BN;\n  checkedIncludedFeeAmount: BN;\n  isOverflow: boolean;\n} {\n  const maxIndex = getMaxIndex(maxFeeBps, cliffFeeNumerator, feeIncrementBps);\n\n  const x0 = referenceAmount;\n  const one = new BN(1);\n  const maxIndexInputAmount = maxIndex.add(one).mul(x0);\n\n  if (maxIndexInputAmount.lte(U64_MAX)) {\n    const checkedIncludedFeeAmount = maxIndexInputAmount;\n    const checkedExcludedFeeAmount = getExcludedFeeAmountFromIncludedFeeAmount(\n      checkedIncludedFeeAmount,\n      referenceAmount,\n      cliffFeeNumerator,\n      maxFeeBps,\n      feeIncrementBps,\n    );\n    return {\n      checkedExcludedFeeAmount,\n      checkedIncludedFeeAmount,\n      isOverflow: false,\n    };\n  } else {\n    const checkedIncludedFeeAmount = U64_MAX;\n    const checkedExcludedFeeAmount = getExcludedFeeAmountFromIncludedFeeAmount(\n      checkedIncludedFeeAmount,\n      referenceAmount,\n      cliffFeeNumerator,\n      maxFeeBps,\n      feeIncrementBps,\n    );\n    return {\n      checkedExcludedFeeAmount,\n      checkedIncludedFeeAmount,\n      isOverflow: true,\n    };\n  }\n}\n\n/**\n * Calculates the fee numerator from an excluded fee amount.\n * @param excludedFeeAmount - The excluded fee amount\n * @param referenceAmount - The reference amount\n * @param cliffFeeNumerator - The cliff fee numerator\n * @param maxFeeBps - The maximum fee in basis points\n * @param feeIncrementBps - The fee increment in basis points\n * @returns The fee numerator\n */\nexport function getFeeNumeratorFromExcludedFeeAmount(\n  excludedFeeAmount: BN,\n  referenceAmount: BN,\n  cliffFeeNumerator: BN,\n  maxFeeBps: number,\n  feeIncrementBps: number,\n): BN {\n  // get excluded fee reference amount\n  const excludedFeeReferenceAmount = getExcludedFeeAmountFromIncludedFeeAmount(\n    referenceAmount,\n    referenceAmount,\n    cliffFeeNumerator,\n    maxFeeBps,\n    feeIncrementBps,\n  );\n  if (excludedFeeAmount.lte(excludedFeeReferenceAmount)) {\n    return cliffFeeNumerator;\n  }\n\n  // get checked amounts\n  const { checkedExcludedFeeAmount, checkedIncludedFeeAmount, isOverflow } =\n    getCheckedAmounts(\n      referenceAmount,\n      cliffFeeNumerator,\n      maxFeeBps,\n      feeIncrementBps,\n    );\n\n  if (excludedFeeAmount.eq(checkedExcludedFeeAmount)) {\n    return getFeeNumeratorFromIncludedFeeAmount(\n      checkedIncludedFeeAmount,\n      referenceAmount,\n      cliffFeeNumerator,\n      maxFeeBps,\n      feeIncrementBps,\n    );\n  }\n\n  let includedFeeAmount: BN;\n  if (excludedFeeAmount.lt(checkedExcludedFeeAmount)) {\n    const TWO = new BN(2);\n    const FOUR = new BN(4);\n    // d: fee denominator\n    // ex: excluded_fee_amount\n    // input_amount = x0 + (a * x0)\n    // fee = x0 * (c + c*a + i*a*(a+1)/2) / d\n    // fee = x0 * (a+1) * (c + i*a/2) / d\n    // fee = input_amount * (c + i * (input_amount/x0-1)/2) / d\n    // ex = input_amount - fee\n    // ex = input_amount - input_amount * (c + i * (input_amount/x0-1)/2) / d\n    // ex * d * 2 = input_amount * d * 2 - input_amount * (2 * c + i * (input_amount/x0-1))\n    // ex * d * 2 * x0 = input_amount * d * 2 * x0 - input_amount * (2 * c * x0 + i * (input_amount-x0))\n    // ex * d * 2 * x0 = input_amount * d * 2 * x0 - input_amount * (2 * c * x0 + i * input_amount- i*x0)\n    // ex * d * 2 * x0 = input_amount * d * 2 * x0 - input_amount * 2 * c * x0 - i * input_amount ^ 2 + input_amount * i*x0\n    // i * input_amount ^ 2 - input_amount * (-2 * c * x0 + i*x0 + d * 2 * x0) + ex * d * 2 * x0 = 0\n    // equation: x * input_amount ^ 2  - y * input_amount + z = 0\n    // x = i, y =  (-2 * c * x0 + i*x0 + d * 2 * x0), z = ex * d * 2 * x0\n    // input_amount = (y +(-) sqrt(y^2 - 4xz)) / 2x\n    const i = toNumerator(new BN(feeIncrementBps), new BN(FEE_DENOMINATOR));\n    const x0 = referenceAmount;\n    const d = new BN(FEE_DENOMINATOR);\n    const c = cliffFeeNumerator;\n    const ex = excludedFeeAmount;\n\n    // x = i\n    const x = i;\n    // y = 2*d*x0 + i*x0 - 2*c*x0\n    const y = TWO.mul(d).mul(x0).add(i.mul(x0)).sub(TWO.mul(c).mul(x0)); // y is always greater than 0\n    // z = 2*ex*d*x0\n    const z = TWO.mul(ex).mul(d).mul(x0);\n\n    // solve quadratic equation\n    // discriminant: y^2 - 4xz\n    const discriminant = y.mul(y).sub(FOUR.mul(x).mul(z));\n    const sqrtDiscriminant = sqrt(discriminant);\n\n    includedFeeAmount = y.sub(sqrtDiscriminant).div(TWO.mul(x));\n\n    // included_fee_amount = (y - sqrt(discriminant)) / (2x)\n    const numerator = y.sub(sqrtDiscriminant);\n    const denominator = TWO.mul(x);\n\n    includedFeeAmount = numerator.div(denominator);\n    // a_plus_one = included_fee_amount / x0\n    const aPlusOne = includedFeeAmount.div(x0);\n\n    const firstExcludedFeeAmount = getExcludedFeeAmountFromIncludedFeeAmount(\n      includedFeeAmount,\n      referenceAmount,\n      cliffFeeNumerator,\n      maxFeeBps,\n      feeIncrementBps,\n    );\n    // excluded_fee_remaining_amount = excludedFeeAmount - firstExcludedFeeAmount\n    const excludedFeeRemainingAmount = excludedFeeAmount.sub(\n      firstExcludedFeeAmount,\n    );\n\n    // remaining_amount_fee_numerator = c + i * a_plus_one\n    const remainingAmountFeeNumerator = c.add(i.mul(aPlusOne));\n\n    // included_fee_remaining_amount = getIncludedFeeAmount(remainingAmountFeeNumerator, excludedFeeRemainingAmount)\n    const { includedFeeAmount: includedFeeRemainingAmount } =\n      getIncludedFeeAmount(\n        remainingAmountFeeNumerator,\n        excludedFeeRemainingAmount,\n      );\n\n    // total_in_amount = includedFeeAmount + includedFeeRemainingAmount\n    includedFeeAmount = includedFeeAmount.add(includedFeeRemainingAmount);\n  } else {\n    // excludedFeeAmount > checkedExcludedFeeAmount\n    if (isOverflow) {\n      throw new Error(\"Math overflow in getFeeNumeratorFromExcludedFeeAmount\");\n    }\n    // excluded_fee_remaining_amount = excludedFeeAmount - checkedExcludedFeeAmount\n    const excludedFeeRemainingAmount = excludedFeeAmount.sub(\n      checkedExcludedFeeAmount,\n    );\n\n    const maxFeeNumerator = toNumerator(\n      new BN(maxFeeBps),\n      new BN(FEE_DENOMINATOR),\n    );\n    const { includedFeeAmount: includedFeeRemainingAmount } =\n      getIncludedFeeAmount(maxFeeNumerator, excludedFeeRemainingAmount);\n\n    // total_amount_in = includedFeeRemainingAmount + checkedIncludedFeeAmount\n    includedFeeAmount = includedFeeRemainingAmount.add(\n      checkedIncludedFeeAmount,\n    );\n  }\n\n  // trading_fee = includedFeeAmount - excludedFeeAmount\n  const tradingFee = includedFeeAmount.sub(excludedFeeAmount);\n\n  // fee_numerator = mulDiv(tradingFee, FEE_DENOMINATOR, includedFeeAmount, Rounding.Up)\n  const feeNumerator = mulDiv(\n    tradingFee,\n    new BN(FEE_DENOMINATOR),\n    includedFeeAmount,\n    Rounding.Up,\n  );\n\n  // sanity check\n  if (feeNumerator.lt(cliffFeeNumerator)) {\n    throw new Error(\"feeNumerator is less than cliffFeeNumerator\");\n  }\n\n  return feeNumerator;\n}\n","import { BN } from \"@coral-xyz/anchor\";\nimport {\n  BASIS_POINT_MAX,\n  FEE_DENOMINATOR,\n  MAX_FEE_BPS_V0,\n  MAX_FEE_BPS_V1,\n  MAX_FEE_NUMERATOR_V0,\n  MAX_FEE_NUMERATOR_V1,\n  ONE_Q64,\n  SCALE_OFFSET,\n  U128_MAX,\n} from \"../constants\";\nimport { mulDiv, pow } from \"./utilsMath\";\nimport {\n  CollectFeeMode,\n  FeeMode,\n  FeeOnAmountResult,\n  PoolFeesStruct,\n  PoolVersion,\n  Rounding,\n  SplitFees,\n  TradeDirection,\n} from \"../types\";\nimport { getBaseFeeHandler, getDynamicFeeNumerator } from \"./poolFees\";\n\n/**\n * Converts basis points to a numerator\n * @param bps - The basis points\n * @param feeDenominator - The fee denominator\n * @returns The numerator\n */\nexport function toNumerator(bps: BN, feeDenominator: BN): BN {\n  const numerator = mulDiv(\n    bps,\n    feeDenominator,\n    new BN(BASIS_POINT_MAX),\n    Rounding.Down,\n  );\n  return numerator;\n}\n\n/**\n * Gets the fee in a period\n * @param cliffFeeNumerator - The cliff fee numerator\n * @param reductionFactor - The reduction factor\n * @param passedPeriod - The passed period\n * @returns The fee in a period\n */\nexport function getFeeInPeriod(\n  cliffFeeNumerator: BN,\n  reductionFactor: BN,\n  passedPeriod: number,\n): BN {\n  if (reductionFactor.isZero()) {\n    return cliffFeeNumerator;\n  }\n\n  // Make bin_step into Q64x64, and divided by BASIS_POINT_MAX. If bin_step = 1, we get 0.0001 in Q64x64\n  const bps = reductionFactor.shln(SCALE_OFFSET).div(new BN(BASIS_POINT_MAX));\n  const base = ONE_Q64.sub(bps);\n  const result = pow(base, new BN(passedPeriod));\n\n  if (result.gt(U128_MAX)) {\n    throw new Error(\"Math overflow\");\n  }\n\n  const fee = result.mul(cliffFeeNumerator).shrn(SCALE_OFFSET);\n\n  return fee;\n}\n\n/**\n * Gets the fee mode\n * @param collectFeeMode - The collect fee mode\n * @param tradeDirection - The trade direction\n * @param hasReferral - The has referral\n * @returns The fee mode\n */\nexport function getFeeMode(\n  collectFeeMode: CollectFeeMode,\n  tradeDirection: TradeDirection,\n  hasReferral: boolean,\n): FeeMode {\n  // (CollectFeeMode::BothToken, TradeDirection::AToB) => (false, false)\n  // (CollectFeeMode::BothToken, TradeDirection::BtoA) => (false, true)\n  // (CollectFeeMode::OnlyB, TradeDirection::AtoB) => (false, false)\n  // (CollectFeeMode::OnlyB, TradeDirection::BtoA) => (true, false)\n\n  let feesOnInput: boolean;\n  let feesOnTokenA: boolean;\n\n  if (collectFeeMode === CollectFeeMode.BothToken) {\n    if (tradeDirection === TradeDirection.AtoB) {\n      feesOnInput = false;\n      feesOnTokenA = false;\n    } else {\n      // TradeDirection::BtoA\n      feesOnInput = false;\n      feesOnTokenA = true;\n    }\n  } else {\n    // CollectFeeMode::OnlyB\n    if (tradeDirection === TradeDirection.AtoB) {\n      feesOnInput = false;\n      feesOnTokenA = false;\n    } else {\n      // TradeDirection::BtoA\n      feesOnInput = true;\n      feesOnTokenA = false;\n    }\n  }\n\n  return {\n    feesOnInput,\n    feesOnTokenA,\n    hasReferral,\n  };\n}\n\n/**\n * Gets the total fee numerator\n * @param poolFees - The pool fees\n * @param baseFeeNumerator - The base fee numerator\n * @param maxFeeNumerator - The max fee numerator\n * @returns The total fee numerator\n */\nexport function getTotalFeeNumerator(\n  poolFees: PoolFeesStruct,\n  baseFeeNumerator: BN,\n  maxFeeNumerator: BN,\n): BN {\n  let dynamicFeeNumerator = new BN(0);\n\n  if (poolFees.dynamicFee.initialized !== 0) {\n    dynamicFeeNumerator = getDynamicFeeNumerator(\n      poolFees.dynamicFee.volatilityAccumulator,\n      new BN(poolFees.dynamicFee.binStep),\n      new BN(poolFees.dynamicFee.variableFeeControl),\n    );\n  }\n\n  const totalFeeNumerator = dynamicFeeNumerator.add(baseFeeNumerator);\n\n  return BN.min(totalFeeNumerator, maxFeeNumerator);\n}\n\n/**\n * Gets the total trading fee from included fee amount\n * @param poolFees - The pool fees\n * @param currentPoint - The current point\n * @param activationPoint - The activation point\n * @param includedFeeAmount - The included fee amount\n * @param tradeDirection - The trade direction\n * @param maxFeeNumerator - The max fee numerator\n * @returns The total trading fee from included fee amount\n */\nexport function getTotalTradingFeeFromIncludedFeeAmount(\n  poolFees: PoolFeesStruct,\n  currentPoint: BN,\n  activationPoint: BN,\n  includedFeeAmount: BN,\n  tradeDirection: TradeDirection,\n  maxFeeNumerator: BN,\n  initSqrtPrice: BN,\n  currentSqrtPrice: BN,\n): BN {\n  const baseFeeHandler = getBaseFeeHandler(poolFees.baseFee.baseFeeInfo.data);\n\n  // get the base fee numerator from the included fee amount\n  const baseFeeNumerator =\n    baseFeeHandler.getBaseFeeNumeratorFromIncludedFeeAmount(\n      currentPoint,\n      activationPoint,\n      tradeDirection,\n      includedFeeAmount,\n      initSqrtPrice,\n      currentSqrtPrice,\n    );\n\n  // get the total fee numerator, capped at maxFeeNumerator\n  return getTotalFeeNumerator(poolFees, baseFeeNumerator, maxFeeNumerator);\n}\n\n/**\n * Gets the total trading fee from excluded fee amount\n * @param poolFees - The pool fees\n * @param currentPoint - The current point\n * @param activationPoint - The activation point\n * @param excludedFeeAmount - The excluded fee amount\n * @param tradeDirection - The trade direction\n * @param maxFeeNumerator - The max fee numerator\n * @returns The total trading fee from excluded fee amount\n */\nexport function getTotalTradingFeeFromExcludedFeeAmount(\n  poolFees: PoolFeesStruct,\n  currentPoint: BN,\n  activationPoint: BN,\n  excludedFeeAmount: BN,\n  tradeDirection: TradeDirection,\n  maxFeeNumerator: BN,\n  initSqrtPrice: BN,\n  currentSqrtPrice: BN,\n): BN {\n  const baseFeeHandler = getBaseFeeHandler(poolFees.baseFee.baseFeeInfo.data);\n\n  // get the base fee numerator from the excluded fee amount\n  const baseFeeNumerator =\n    baseFeeHandler.getBaseFeeNumeratorFromExcludedFeeAmount(\n      currentPoint,\n      activationPoint,\n      tradeDirection,\n      excludedFeeAmount,\n      initSqrtPrice,\n      currentSqrtPrice,\n    );\n\n  // get the total fee numerator, capped at maxFeeNumerator\n  return getTotalFeeNumerator(poolFees, baseFeeNumerator, maxFeeNumerator);\n}\n\n/**\n * Splits the fees\n * @param poolFees - The pool fees\n * @param feeAmount - The fee amount\n * @param hasReferral - The has referral\n * @param hasPartner - The has partner\n * @returns The split fees\n */\nexport function splitFees(\n  poolFees: PoolFeesStruct,\n  feeAmount: BN,\n  hasReferral: boolean,\n  hasPartner: boolean,\n): SplitFees {\n  // protocol_fee = feeAmount * protocol_fee_percent / 100 (rounded down)\n  const protocolFee = feeAmount.muln(poolFees.protocolFeePercent).divn(100);\n\n  // trading_fee = feeAmount - protocol_fee\n  const tradingFee = feeAmount.sub(protocolFee);\n\n  // referral_fee = protocol_fee * referral_fee_percent / 100 (rounded down) if hasReferral else 0\n  let referralFee = new BN(0);\n  if (hasReferral) {\n    referralFee = protocolFee.muln(poolFees.referralFeePercent).divn(100);\n  }\n\n  // protocol_fee_after_referral_fee = protocol_fee - referral_fee\n  const protocolFeeAfterReferral = protocolFee.sub(referralFee);\n\n  // partner_fee = protocol_fee_after_referral_fee * partner_fee_percent / 100 (rounded down) if hasPartner && partner_fee_percent > 0 else 0\n  let partnerFee = new BN(0);\n  if (hasPartner && poolFees.partnerFeePercent > 0) {\n    partnerFee = protocolFeeAfterReferral\n      .muln(poolFees.partnerFeePercent)\n      .divn(100);\n  }\n\n  // protocol_fee = protocol_fee_after_referral_fee - partner_fee\n  const finalProtocolFee = protocolFeeAfterReferral.sub(partnerFee);\n\n  return {\n    tradingFee,\n    protocolFee: finalProtocolFee,\n    referralFee,\n    partnerFee,\n  };\n}\n\n/**\n * Gets the fee on amount\n * @param poolFees - The pool fees\n * @param amount - The amount\n * @param tradeFeeNumerator - The trade fee numerator\n * @param hasReferral - The has referral\n * @param hasPartner - The has partner\n * @returns The fee on amount result\n */\nexport function getFeeOnAmount(\n  poolFees: PoolFeesStruct,\n  amount: BN,\n  tradeFeeNumerator: BN,\n  hasReferral: boolean,\n  hasPartner: boolean,\n): FeeOnAmountResult {\n  // get the amount and trading fee after excluding the fee from the amount\n  const { excludedFeeAmount, tradingFee } = getExcludedFeeAmount(\n    tradeFeeNumerator,\n    amount,\n  );\n\n  // split the trading fee into protocol, referral, and partner fees\n  const splitFeesResult = splitFees(\n    poolFees,\n    tradingFee,\n    hasReferral,\n    hasPartner,\n  );\n\n  return {\n    amount: excludedFeeAmount,\n    tradingFee: splitFeesResult.tradingFee,\n    protocolFee: splitFeesResult.protocolFee,\n    partnerFee: splitFeesResult.partnerFee,\n    referralFee: splitFeesResult.referralFee,\n  };\n}\n\n/**\n * Calculates the excluded fee amount and trading fee from an included fee amount\n * @param tradeFeeNumerator - The fee numerator\n * @param includedFeeAmount - The amount that includes the fee\n * @returns Tuple of [excluded_fee_amount, trading_fee]\n */\nexport function getExcludedFeeAmount(\n  tradeFeeNumerator: BN,\n  includedFeeAmount: BN,\n): { excludedFeeAmount: BN; tradingFee: BN } {\n  const tradingFee = mulDiv(\n    includedFeeAmount,\n    tradeFeeNumerator,\n    new BN(FEE_DENOMINATOR),\n    Rounding.Up,\n  );\n  const excludedFeeAmount = includedFeeAmount.sub(tradingFee);\n\n  return { excludedFeeAmount, tradingFee };\n}\n\n/**\n * Calculates the included fee amount and fee amount from an excluded fee amount\n * @param tradeFeeNumerator - The fee numerator\n * @param excludedFeeAmount - The amount that excludes the fee\n * @returns Tuple of [included_fee_amount, fee_amount]\n */\nexport function getIncludedFeeAmount(\n  tradeFeeNumerator: BN,\n  excludedFeeAmount: BN,\n): { includedFeeAmount: BN; feeAmount: BN } {\n  const denominator = new BN(FEE_DENOMINATOR).sub(tradeFeeNumerator);\n  if (denominator.isZero() || denominator.isNeg()) {\n    throw new Error(\"Invalid fee numerator\");\n  }\n\n  const includedFeeAmount = mulDiv(\n    excludedFeeAmount,\n    new BN(FEE_DENOMINATOR),\n    denominator,\n    Rounding.Up,\n  );\n\n  const feeAmount = includedFeeAmount.sub(excludedFeeAmount);\n\n  return { includedFeeAmount, feeAmount };\n}\n\n/**\n * Gets the max fee numerator\n * @param poolVersion - The pool version\n * @returns The max fee numerator\n */\nexport function getMaxFeeNumerator(poolVersion: PoolVersion): BN {\n  switch (poolVersion) {\n    case PoolVersion.V0:\n      return new BN(MAX_FEE_NUMERATOR_V0);\n    case PoolVersion.V1:\n      return new BN(MAX_FEE_NUMERATOR_V1);\n    default:\n      throw new Error(\"Invalid pool version\");\n  }\n}\n\n/**\n * Gets the max fee bps\n * @param poolVersion - The pool version\n * @returns The max fee bps\n */\nexport function getMaxFeeBps(poolVersion: PoolVersion): number {\n  switch (poolVersion) {\n    case PoolVersion.V0:\n      return MAX_FEE_BPS_V0;\n    case PoolVersion.V1:\n      return MAX_FEE_BPS_V1;\n    default:\n      throw new Error(\"Invalid pool version\");\n  }\n}\n","import Decimal from \"decimal.js\";\nimport { Rounding } from \"../types\";\nimport { MAX, MAX_EXPONENTIAL, ONE_Q64, SCALE_OFFSET } from \"../constants\";\nimport BN from \"bn.js\";\n\n/**\n * Multiplies two numbers and divides by a denominator, rounding up or down\n * @param x - The first number\n * @param y - The second number\n * @param denominator - The denominator\n * @param rounding - The rounding mode\n * @returns The result of the multiplication and division\n */\nexport function mulDiv(x: BN, y: BN, denominator: BN, rounding: Rounding): BN {\n  const { div, mod } = x.mul(y).divmod(denominator);\n\n  if (rounding == Rounding.Up && !mod.isZero()) {\n    return div.add(new BN(1));\n  }\n  return div;\n}\n\n/**\n * Converts a Q64 number to a Decimal\n * @param num - The Q64 number\n * @param decimalPlaces - The number of decimal places\n * @returns The Decimal number\n */\nexport function q64ToDecimal(num: BN, decimalPlaces?: number): Decimal {\n  return new Decimal(num.toString())\n    .div(Decimal.pow(2, 64))\n    .toDecimalPlaces(decimalPlaces);\n}\n\n/**\n * Converts a Decimal number to a Q64 number\n * @param num - The Decimal number\n * @returns The Q64 number\n */\nexport function decimalToQ64(num: Decimal): BN {\n  return new BN(num.mul(Decimal.pow(2, 64)).floor().toFixed());\n}\n\n/**\n * Calculates the square root of a number\n * @param value - The number\n * @returns The square root of the number\n */\nexport function sqrt(value: BN): BN {\n  if (value.isZero()) {\n    return new BN(0);\n  }\n\n  if (value.eq(new BN(1))) {\n    return new BN(1);\n  }\n\n  let x = value;\n  let y = value.add(new BN(1)).div(new BN(2));\n\n  while (y.lt(x)) {\n    x = y;\n    y = x.add(value.div(x)).div(new BN(2));\n  }\n\n  return x;\n}\n\n/**\n * Calculates the power of a number\n * @param base - The base\n * @param exp - The exponent\n * @returns The power of the number\n */\nexport function pow(base: BN, exp: BN): BN {\n  let invert = exp.isNeg();\n\n  if (exp.isZero()) {\n    return ONE_Q64;\n  }\n\n  exp = invert ? exp.abs() : exp;\n\n  if (exp.gt(MAX_EXPONENTIAL)) {\n    return new BN(0);\n  }\n\n  let squaredBase = base;\n  let result = ONE_Q64;\n\n  if (squaredBase.gte(result)) {\n    squaredBase = MAX.div(squaredBase);\n    invert = !invert;\n  }\n\n  if (!exp.and(new BN(0x1)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x2)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x4)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x8)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x10)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x20)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x40)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x80)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x100)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x200)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x400)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x800)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x1000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x2000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x4000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x8000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x10000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x20000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  squaredBase = squaredBase.mul(squaredBase).shrn(SCALE_OFFSET);\n\n  if (!exp.and(new BN(0x40000)).isZero()) {\n    result = result.mul(squaredBase).shrn(SCALE_OFFSET);\n  }\n\n  if (result.isZero()) {\n    return new BN(0);\n  }\n\n  if (invert) {\n    result = MAX.div(result);\n  }\n\n  return result;\n}\n","import BN from \"bn.js\";\nimport { BaseFeeMode } from \"../../types\";\nimport { U16_MAX } from \"../../constants\";\n\nimport { BorshFeeTimeScheduler, PodAlignedFeeTimeScheduler } from \"../../types\";\nimport {\n  getFeeNumeratorOnExponentialFeeScheduler,\n  getFeeNumeratorOnLinearFeeScheduler,\n} from \"./feeScheduler\";\n\n/**\n * Gets the base fee numerator by period for the time fee scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param period - The period.\n * @param reductionFactor - The reduction factor.\n * @param feeTimeSchedulerMode - The fee scheduler mode.\n * @returns The base fee numerator by period.\n */\nexport function getFeeTimeBaseFeeNumeratorByPeriod(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  period: BN,\n  reductionFactor: BN,\n  feeTimeSchedulerMode: BaseFeeMode,\n): BN {\n  const periodValue = BN.min(period, new BN(numberOfPeriod));\n  const periodNumber = periodValue.toNumber();\n  if (periodNumber > U16_MAX) {\n    throw new Error(\"Math overflow\");\n  }\n\n  switch (feeTimeSchedulerMode) {\n    case BaseFeeMode.FeeTimeSchedulerLinear: {\n      const feeNumerator = getFeeNumeratorOnLinearFeeScheduler(\n        cliffFeeNumerator,\n        reductionFactor,\n        periodNumber,\n      );\n      return feeNumerator;\n    }\n    case BaseFeeMode.FeeTimeSchedulerExponential: {\n      const feeNumerator = getFeeNumeratorOnExponentialFeeScheduler(\n        cliffFeeNumerator,\n        reductionFactor,\n        periodNumber,\n      );\n      return feeNumerator;\n    }\n    default:\n      throw new Error(\"Invalid fee time scheduler mode\");\n  }\n}\n\n/**\n * Gets the base fee numerator.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param periodFrequency - The period frequency.\n * @param reductionFactor - The reduction factor.\n * @param feeTimeSchedulerMode - The fee scheduler mode.\n * @param currentPoint - The current point.\n * @param activationPoint - The activation point.\n * @returns The base fee numerator.\n */\nexport function getFeeTimeBaseFeeNumerator(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  periodFrequency: BN,\n  reductionFactor: BN,\n  feeTimeSchedulerMode: BaseFeeMode,\n  currentPoint: BN,\n  activationPoint: BN,\n): BN {\n  if (periodFrequency.isZero()) {\n    return cliffFeeNumerator;\n  }\n\n  let period: BN;\n\n  if (currentPoint.lt(activationPoint)) {\n    period = new BN(numberOfPeriod);\n  } else {\n    period = currentPoint.sub(activationPoint).div(periodFrequency);\n\n    // clamp to maximum period\n    if (period.gt(new BN(numberOfPeriod))) {\n      period = new BN(numberOfPeriod);\n    }\n  }\n\n  return getFeeTimeBaseFeeNumeratorByPeriod(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    period,\n    reductionFactor,\n    feeTimeSchedulerMode,\n  );\n}\n\n/**\n * Gets the min base fee numerator.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param periodFrequency - The period frequency.\n * @param reductionFactor - The reduction factor.\n * @param feeTimeSchedulerMode - The fee scheduler mode.\n * @returns The min base fee numerator.\n */\nexport function getFeeTimeMinBaseFeeNumerator(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  reductionFactor: BN,\n  feeTimeSchedulerMode: BaseFeeMode,\n): BN {\n  return getFeeTimeBaseFeeNumeratorByPeriod(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    new BN(numberOfPeriod),\n    reductionFactor,\n    feeTimeSchedulerMode,\n  );\n}\n","import BN from \"bn.js\";\nimport { BASIS_POINT_MAX, ONE_Q64 } from \"../../constants\";\nimport { pow } from \"../utilsMath\";\n\n/**\n * Gets the fee numerator on linear fee scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param reductionFactor - The reduction factor.\n * @param period - The period.\n * @returns The fee numerator on linear fee scheduler.\n */\nexport function getFeeNumeratorOnLinearFeeScheduler(\n  cliffFeeNumerator: BN,\n  reductionFactor: BN,\n  period: number,\n): BN {\n  const reduction = new BN(period).mul(reductionFactor);\n\n  return cliffFeeNumerator.sub(reduction);\n}\n\n/**\n * Gets the fee numerator on exponential fee scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param reductionFactor - The reduction factor.\n * @param period - The period.\n * @returns The fee numerator on exponential fee scheduler.\n */\nexport function getFeeNumeratorOnExponentialFeeScheduler(\n  cliffFeeNumerator: BN,\n  reductionFactor: BN,\n  period: number,\n): BN {\n  if (period === 0) {\n    return cliffFeeNumerator;\n  }\n\n  const basisPointMax = new BN(BASIS_POINT_MAX);\n  const bps = new BN(reductionFactor).shln(64).div(basisPointMax);\n\n  // base = ONE_Q64 - bps (equivalent to 1 - reduction_factor/10_000 in Q64.64)\n  const base = ONE_Q64.sub(bps);\n\n  const result = pow(base, new BN(period));\n\n  // final fee: cliffFeeNumerator * result >> 64\n  return cliffFeeNumerator.mul(result).div(ONE_Q64);\n}\n\n/**\n * Gets the max base fee numerator.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @returns The max base fee numerator.\n */\nexport function getMaxBaseFeeNumerator(cliffFeeNumerator: BN): BN {\n  return cliffFeeNumerator;\n}\n","import BN from \"bn.js\";\nimport { BaseFeeMode } from \"../../types\";\nimport { BASIS_POINT_MAX } from \"../../constants\";\nimport {\n  getFeeNumeratorOnExponentialFeeScheduler,\n  getFeeNumeratorOnLinearFeeScheduler,\n} from \"./feeScheduler\";\n\n/**\n * Gets the base fee numerator by period for the market cap fee scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param period - The period.\n * @param reductionFactor - The reduction factor.\n * @param feeMarketCapSchedulerMode - The fee scheduler mode.\n * @returns The base fee numerator by period.\n */\nexport function getFeeMarketCapBaseFeeNumeratorByPeriod(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  period: BN,\n  reductionFactor: BN,\n  feeMarketCapSchedulerMode: BaseFeeMode,\n): BN {\n  const periodValue = BN.min(period, new BN(numberOfPeriod));\n  const periodNumber = periodValue.toNumber();\n\n  switch (feeMarketCapSchedulerMode) {\n    case BaseFeeMode.FeeMarketCapSchedulerLinear: {\n      const feeNumerator = getFeeNumeratorOnLinearFeeScheduler(\n        cliffFeeNumerator,\n        reductionFactor,\n        periodNumber,\n      );\n      return feeNumerator;\n    }\n    case BaseFeeMode.FeeMarketCapSchedulerExponential: {\n      const feeNumerator = getFeeNumeratorOnExponentialFeeScheduler(\n        cliffFeeNumerator,\n        reductionFactor,\n        periodNumber,\n      );\n      return feeNumerator;\n    }\n    default:\n      throw new Error(\"Invalid fee market cap scheduler mode\");\n  }\n}\n\n/**\n * Gets the base fee numerator for market cap scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param sqrtPriceStepBps - The sqrt price step bps.\n * @param schedulerExpirationDuration - The scheduler expiration duration.\n * @param reductionFactor - The reduction factor.\n * @param feeMarketCapSchedulerMode - The fee scheduler mode.\n * @param currentPoint - The current point.\n * @param activationPoint - The activation point.\n * @param initSqrtPrice - The initial sqrt price.\n * @param currentSqrtPrice - The current sqrt price.\n * @returns The base fee numerator.\n */\nexport function getFeeMarketCapBaseFeeNumerator(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  sqrtPriceStepBps: number,\n  schedulerExpirationDuration: number,\n  reductionFactor: BN,\n  feeMarketCapSchedulerMode: BaseFeeMode,\n  currentPoint: BN,\n  activationPoint: BN,\n  initSqrtPrice: BN,\n  currentSqrtPrice: BN,\n): BN {\n  const schedulerExpirationPoint = activationPoint.add(\n    new BN(schedulerExpirationDuration),\n  );\n\n  let period: BN;\n\n  if (\n    currentPoint.gt(schedulerExpirationPoint) ||\n    currentPoint.lt(activationPoint)\n  ) {\n    // expired or alpha vault is buying\n    period = new BN(numberOfPeriod);\n  } else {\n    if (currentSqrtPrice.lte(initSqrtPrice)) {\n      period = new BN(0);\n    } else {\n      const maxBps = new BN(BASIS_POINT_MAX);\n      const stepBps = new BN(sqrtPriceStepBps);\n      const passedPeriod = currentSqrtPrice\n        .sub(initSqrtPrice)\n        .mul(maxBps)\n        .div(initSqrtPrice)\n        .div(stepBps);\n\n      if (passedPeriod.gt(new BN(numberOfPeriod))) {\n        period = new BN(numberOfPeriod);\n      } else {\n        period = passedPeriod;\n      }\n    }\n    period = BN.min(period, new BN(numberOfPeriod));\n  }\n\n  return getFeeMarketCapBaseFeeNumeratorByPeriod(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    period,\n    reductionFactor,\n    feeMarketCapSchedulerMode,\n  );\n}\n\n/**\n * Gets the min base fee numerator for market cap scheduler.\n * @param cliffFeeNumerator - The cliff fee numerator.\n * @param numberOfPeriod - The number of periods.\n * @param reductionFactor - The reduction factor.\n * @param feeMarketCapSchedulerMode - The fee scheduler mode.\n * @returns The min base fee numerator.\n */\nexport function getFeeMarketCapMinBaseFeeNumerator(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  reductionFactor: BN,\n  feeMarketCapSchedulerMode: BaseFeeMode,\n): BN {\n  return getFeeMarketCapBaseFeeNumeratorByPeriod(\n    cliffFeeNumerator,\n    numberOfPeriod,\n    new BN(numberOfPeriod),\n    reductionFactor,\n    feeMarketCapSchedulerMode,\n  );\n}\n","import {\n  DYNAMIC_FEE_ROUNDING_OFFSET,\n  DYNAMIC_FEE_SCALING_FACTOR,\n} from \"../../constants\";\nimport { DynamicFeeStruct } from \"../../types\";\nimport BN from \"bn.js\";\n\n/**\n * Check if dynamic fee is enabled\n * @param dynamicFee Dynamic fee parameters\n * @returns True if dynamic fee is enabled\n */\nexport function isDynamicFeeEnabled(dynamicFee: DynamicFeeStruct): boolean {\n  return dynamicFee.initialized !== 0;\n}\n\n/**\n * Calculates the dynamic fee numerator based on market volatility metrics\n *\n * @param volatilityAccumulator - A measure of accumulated market volatility (BN)\n * @param binStep - The size of price bins in the liquidity distribution (BN)\n * @param variableFeeControl - Parameter controlling the impact of volatility on fees (BN)\n * @returns The calculated dynamic fee numerator (BN)\n */\nexport function getDynamicFeeNumerator(\n  volatilityAccumulator: BN,\n  binStep: BN,\n  variableFeeControl: BN,\n): BN {\n  const squareVfaBin = volatilityAccumulator\n    .mul(new BN(binStep))\n    .pow(new BN(2));\n  const vFee = variableFeeControl.mul(squareVfaBin);\n\n  return vFee\n    .add(new BN(DYNAMIC_FEE_ROUNDING_OFFSET))\n    .div(new BN(DYNAMIC_FEE_SCALING_FACTOR));\n}\n","import {\n  calculateTransferFeeExcludedAmount,\n  calculateTransferFeeIncludedAmount,\n  getAmountWithSlippage,\n  getPriceImpact,\n  hasPartner,\n  isSwapEnabled,\n} from \"../helpers\";\nimport {\n  FeeMode,\n  PoolState,\n  Quote2Result,\n  Rounding,\n  SwapMode,\n  SwapResult2,\n  TradeDirection,\n} from \"../types\";\nimport BN from \"bn.js\";\nimport {\n  getFeeMode,\n  getFeeOnAmount,\n  getIncludedFeeAmount,\n  getMaxFeeNumerator,\n  getTotalTradingFeeFromExcludedFeeAmount,\n  getTotalTradingFeeFromIncludedFeeAmount,\n  splitFees,\n} from \"./feeMath\";\nimport {\n  getAmountAFromLiquidityDelta,\n  getAmountBFromLiquidityDelta,\n  getNextSqrtPriceFromInput,\n  getNextSqrtPriceFromOutput,\n} from \"./curve\";\nimport { Mint } from \"@solana/spl-token\";\n\n/**\n * Gets the swap result from exact input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @param feeMode - The fee mode\n * @param tradeDirection - The trade direction\n * @param currentPoint - The current point\n * @returns The swap result from exact input\n */\nexport function getSwapResultFromExactInput(\n  poolState: PoolState,\n  amountIn: BN,\n  feeMode: FeeMode,\n  tradeDirection: TradeDirection,\n  currentPoint: BN,\n): SwapResult2 {\n  let actualProtocolFee = new BN(0);\n  let actualTradingFee = new BN(0);\n  let actualReferralFee = new BN(0);\n  let actualPartnerFee = new BN(0);\n\n  const maxFeeNumerator = getMaxFeeNumerator(poolState.version);\n\n  // We can compute the trade_fee_numerator here. Instead of separately for amount_in, and amount_out.\n  // This is because FeeRateLimiter (fee rate scale based on amount) only applied when fee_mode.fees_on_input\n  // (a.k.a TradeDirection::QuoteToBase + CollectFeeMode::QuoteToken)\n  // For the rest of the time, the fee rate is not dependent on amount.\n  const tradeFeeNumerator = getTotalTradingFeeFromIncludedFeeAmount(\n    poolState.poolFees,\n    currentPoint,\n    poolState.activationPoint,\n    amountIn,\n    tradeDirection,\n    maxFeeNumerator,\n    poolState.poolFees.initSqrtPrice,\n    poolState.sqrtPrice,\n  );\n\n  let actualAmountIn: BN;\n  if (feeMode.feesOnInput) {\n    const { amount, tradingFee, protocolFee, partnerFee, referralFee } =\n      getFeeOnAmount(\n        poolState.poolFees,\n        amountIn,\n        tradeFeeNumerator,\n        feeMode.hasReferral,\n        hasPartner(poolState),\n      );\n\n    actualProtocolFee = protocolFee;\n    actualTradingFee = tradingFee;\n    actualReferralFee = referralFee;\n    actualPartnerFee = partnerFee;\n\n    actualAmountIn = amount;\n  } else {\n    actualAmountIn = amountIn;\n  }\n\n  let swapAmountFromInput;\n  if (tradeDirection === TradeDirection.AtoB) {\n    swapAmountFromInput = calculateAtoBFromAmountIn(poolState, actualAmountIn);\n  } else {\n    swapAmountFromInput = calculateBtoAFromAmountIn(poolState, actualAmountIn);\n  }\n  const { outputAmount, nextSqrtPrice, amountLeft } = swapAmountFromInput;\n\n  let actualAmountOut: BN;\n  if (feeMode.feesOnInput) {\n    actualAmountOut = outputAmount;\n  } else {\n    const { amount, tradingFee, protocolFee, partnerFee, referralFee } =\n      getFeeOnAmount(\n        poolState.poolFees,\n        outputAmount,\n        tradeFeeNumerator,\n        feeMode.hasReferral,\n        hasPartner(poolState),\n      );\n\n    actualProtocolFee = protocolFee;\n    actualTradingFee = tradingFee;\n    actualReferralFee = referralFee;\n    actualPartnerFee = partnerFee;\n\n    actualAmountOut = amount;\n  }\n\n  return {\n    amountLeft,\n    includedFeeInputAmount: amountIn,\n    excludedFeeInputAmount: actualAmountIn,\n    outputAmount: actualAmountOut,\n    nextSqrtPrice: nextSqrtPrice,\n    tradingFee: actualTradingFee,\n    protocolFee: actualProtocolFee,\n    partnerFee: actualPartnerFee,\n    referralFee: actualReferralFee,\n  };\n}\n\n/**\n * Calculates the swap result from exact input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @returns The swap result from exact input\n */\nexport function calculateAtoBFromAmountIn(\n  poolState: PoolState,\n  amountIn: BN,\n): {\n  outputAmount: BN;\n  nextSqrtPrice: BN;\n  amountLeft: BN;\n} {\n  // finding new target price\n  const nextSqrtPrice = getNextSqrtPriceFromInput(\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    amountIn,\n    true,\n  );\n\n  if (nextSqrtPrice.lt(poolState.sqrtMinPrice)) {\n    throw new Error(\"Price range is violated\");\n  }\n\n  // finding output amount\n  const outputAmount = getAmountBFromLiquidityDelta(\n    nextSqrtPrice,\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    Rounding.Down,\n  );\n\n  return {\n    outputAmount,\n    nextSqrtPrice,\n    amountLeft: new BN(0),\n  };\n}\n\n/**\n * Calculates the swap result from exact input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @returns The swap result from exact input\n */\nexport function calculateBtoAFromAmountIn(\n  poolState: PoolState,\n  amountIn: BN,\n): {\n  outputAmount: BN;\n  nextSqrtPrice: BN;\n  amountLeft: BN;\n} {\n  // finding new target price\n  const nextSqrtPrice = getNextSqrtPriceFromInput(\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    amountIn,\n    false,\n  );\n\n  if (nextSqrtPrice.gt(poolState.sqrtMaxPrice)) {\n    throw new Error(\"Price range is violated\");\n  }\n\n  // finding output amount\n  const outputAmount = getAmountAFromLiquidityDelta(\n    poolState.sqrtPrice,\n    nextSqrtPrice,\n    poolState.liquidity,\n    Rounding.Down,\n  );\n\n  return {\n    outputAmount,\n    nextSqrtPrice,\n    amountLeft: new BN(0),\n  };\n}\n\n/**\n * Gets the swap result from partial input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @param feeMode - The fee mode\n * @param tradeDirection - The trade direction\n * @param currentPoint - The current point\n * @returns The swap result from partial input\n */\nexport function getSwapResultFromPartialInput(\n  poolState: PoolState,\n  amountIn: BN,\n  feeMode: FeeMode,\n  tradeDirection: TradeDirection,\n  currentPoint: BN,\n): SwapResult2 {\n  let actualProtocolFee = new BN(0);\n  let actualTradingFee = new BN(0);\n  let actualReferralFee = new BN(0);\n  let actualPartnerFee = new BN(0);\n\n  const maxFeeNumerator = getMaxFeeNumerator(poolState.version);\n\n  const tradeFeeNumerator = getTotalTradingFeeFromIncludedFeeAmount(\n    poolState.poolFees,\n    currentPoint,\n    poolState.activationPoint,\n    amountIn,\n    tradeDirection,\n    maxFeeNumerator,\n    poolState.poolFees.initSqrtPrice,\n    poolState.sqrtPrice,\n  );\n\n  let actualAmountIn: BN;\n  if (feeMode.feesOnInput) {\n    const { amount, tradingFee, protocolFee, partnerFee, referralFee } =\n      getFeeOnAmount(\n        poolState.poolFees,\n        amountIn,\n        tradeFeeNumerator,\n        feeMode.hasReferral,\n        hasPartner(poolState),\n      );\n    actualProtocolFee = protocolFee;\n    actualTradingFee = tradingFee;\n    actualReferralFee = referralFee;\n    actualPartnerFee = partnerFee;\n\n    actualAmountIn = amount;\n  } else {\n    actualAmountIn = amountIn;\n  }\n\n  let swapAmountFromInput;\n  if (tradeDirection === TradeDirection.AtoB) {\n    swapAmountFromInput = calculateAtoBFromPartialAmountIn(\n      poolState,\n      actualAmountIn,\n    );\n  } else {\n    swapAmountFromInput = calculateBtoAFromPartialAmountIn(\n      poolState,\n      actualAmountIn,\n    );\n  }\n\n  let { amountLeft, outputAmount, nextSqrtPrice } = swapAmountFromInput;\n\n  let includedFeeInputAmount: BN;\n  if (amountLeft.gt(new BN(0))) {\n    actualAmountIn = actualAmountIn.sub(amountLeft);\n\n    if (feeMode.feesOnInput) {\n      const tradeFeeNumerator = getTotalTradingFeeFromExcludedFeeAmount(\n        poolState.poolFees,\n        currentPoint,\n        poolState.activationPoint,\n        actualAmountIn,\n        tradeDirection,\n        maxFeeNumerator,\n        poolState.poolFees.initSqrtPrice,\n        poolState.sqrtPrice,\n      );\n\n      const { includedFeeAmount, feeAmount } = getIncludedFeeAmount(\n        tradeFeeNumerator,\n        actualAmountIn,\n      );\n\n      const { tradingFee, protocolFee, referralFee, partnerFee } = splitFees(\n        poolState.poolFees,\n        feeAmount,\n        feeMode.hasReferral,\n        hasPartner(poolState),\n      );\n\n      actualProtocolFee = protocolFee;\n      actualTradingFee = tradingFee;\n      actualReferralFee = referralFee;\n      actualPartnerFee = partnerFee;\n\n      includedFeeInputAmount = includedFeeAmount;\n    } else {\n      includedFeeInputAmount = actualAmountIn;\n    }\n  } else {\n    includedFeeInputAmount = amountIn;\n  }\n\n  let actualAmountOut: BN;\n  if (feeMode.feesOnInput) {\n    actualAmountOut = outputAmount;\n  } else {\n    const { amount, tradingFee, protocolFee, partnerFee, referralFee } =\n      getFeeOnAmount(\n        poolState.poolFees,\n        outputAmount,\n        tradeFeeNumerator,\n        feeMode.hasReferral,\n        hasPartner(poolState),\n      );\n    actualProtocolFee = protocolFee;\n    actualTradingFee = tradingFee;\n    actualReferralFee = referralFee;\n    actualPartnerFee = partnerFee;\n\n    actualAmountOut = amount;\n  }\n\n  return {\n    includedFeeInputAmount,\n    excludedFeeInputAmount: actualAmountIn,\n    amountLeft,\n    outputAmount: actualAmountOut,\n    nextSqrtPrice,\n    tradingFee: actualTradingFee,\n    protocolFee: actualProtocolFee,\n    partnerFee: actualPartnerFee,\n    referralFee: actualReferralFee,\n  };\n}\n\n/**\n * Calculates the swap result from partial input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @returns The swap result from partial input\n */\nexport function calculateAtoBFromPartialAmountIn(\n  poolState: PoolState,\n  amountIn: BN,\n): {\n  outputAmount: BN;\n  nextSqrtPrice: BN;\n  amountLeft: BN;\n} {\n  const maxAmountIn = getAmountAFromLiquidityDelta(\n    poolState.sqrtMinPrice,\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    Rounding.Up,\n  );\n\n  let consumedInAmount: BN;\n  let nextSqrtPrice: BN;\n\n  if (amountIn.gte(maxAmountIn)) {\n    consumedInAmount = maxAmountIn;\n    nextSqrtPrice = poolState.sqrtMinPrice;\n  } else {\n    nextSqrtPrice = getNextSqrtPriceFromInput(\n      poolState.sqrtPrice,\n      poolState.liquidity,\n      amountIn,\n      true,\n    );\n    consumedInAmount = amountIn;\n  }\n\n  const outputAmount = getAmountBFromLiquidityDelta(\n    nextSqrtPrice,\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    Rounding.Down,\n  );\n\n  const amountLeft = amountIn.sub(consumedInAmount);\n\n  return {\n    outputAmount,\n    nextSqrtPrice,\n    amountLeft,\n  };\n}\n\n/**\n * Calculates the swap result from partial input\n * @param poolState - The pool state\n * @param amountIn - The amount in\n * @returns The swap result from partial input\n */\nexport function calculateBtoAFromPartialAmountIn(\n  poolState: PoolState,\n  amountIn: BN,\n): {\n  outputAmount: BN;\n  nextSqrtPrice: BN;\n  amountLeft: BN;\n} {\n  const maxAmountIn = getAmountBFromLiquidityDelta(\n    poolState.sqrtPrice,\n    poolState.sqrtMaxPrice,\n    poolState.liquidity,\n    Rounding.Up,\n  );\n\n  let consumedInAmount: BN;\n  let nextSqrtPrice: BN;\n\n  if (amountIn.gte(maxAmountIn)) {\n    consumedInAmount = maxAmountIn;\n    nextSqrtPrice = poolState.sqrtMaxPrice;\n  } else {\n    nextSqrtPrice = getNextSqrtPriceFromInput(\n      poolState.sqrtPrice,\n      poolState.liquidity,\n      amountIn,\n      false,\n    );\n    consumedInAmount = amountIn;\n  }\n\n  const outputAmount = getAmountAFromLiquidityDelta(\n    poolState.sqrtPrice,\n    nextSqrtPrice,\n    poolState.liquidity,\n    Rounding.Down,\n  );\n\n  const amountLeft = amountIn.sub(consumedInAmount);\n\n  return {\n    outputAmount,\n    nextSqrtPrice,\n    amountLeft,\n  };\n}\n\n/**\n * Gets the swap result from exact output\n * @param poolState - The pool state\n * @param amountOut - The amount out\n * @param feeMode - The fee mode\n * @param tradeDirection - The trade direction\n * @param currentPoint - The current point\n * @returns The swap result from exact output\n */\nexport function getSwapResultFromExactOutput(\n  poolState: PoolState,\n  amountOut: BN,\n  feeMode: FeeMode,\n  tradeDirection: TradeDirection,\n  currentPoint: BN,\n): SwapResult2 {\n  let actualProtocolFee = new BN(0);\n  let actualTradingFee = new BN(0);\n  let actualReferralFee = new BN(0);\n  let actualPartnerFee = new BN(0);\n\n  const maxFeeNumerator = getMaxFeeNumerator(poolState.version);\n\n  let includedFeeAmountOut: BN;\n  if (feeMode.feesOnInput) {\n    includedFeeAmountOut = amountOut;\n  } else {\n    const tradeFeeNumerator = getTotalTradingFeeFromExcludedFeeAmount(\n      poolState.poolFees,\n      currentPoint,\n      poolState.activationPoint,\n      amountOut,\n      tradeDirection,\n      maxFeeNumerator,\n      poolState.poolFees.initSqrtPrice,\n      poolState.sqrtPrice,\n    );\n\n    const { includedFeeAmount, feeAmount } = getIncludedFeeAmount(\n      tradeFeeNumerator,\n      amountOut,\n    );\n\n    const split = splitFees(\n      poolState.poolFees,\n      feeAmount,\n      feeMode.hasReferral,\n      hasPartner(poolState),\n    );\n\n    actualTradingFee = split.tradingFee;\n    actualProtocolFee = split.protocolFee;\n    actualReferralFee = split.referralFee;\n    actualPartnerFee = split.partnerFee;\n\n    includedFeeAmountOut = includedFeeAmount;\n  }\n\n  let swapAmountFromOutput;\n  if (tradeDirection === TradeDirection.AtoB) {\n    swapAmountFromOutput = calculateAtoBFromAmountOut(\n      poolState,\n      includedFeeAmountOut,\n    );\n  } else {\n    swapAmountFromOutput = calculateBtoAFromAmountOut(\n      poolState,\n      includedFeeAmountOut,\n    );\n  }\n  const { inputAmount, nextSqrtPrice } = swapAmountFromOutput;\n\n  let includedFeeInputAmount: BN;\n  if (feeMode.feesOnInput) {\n    const tradeFeeNumerator = getTotalTradingFeeFromExcludedFeeAmount(\n      poolState.poolFees,\n      currentPoint,\n      poolState.activationPoint,\n      inputAmount,\n      tradeDirection,\n      maxFeeNumerator,\n      poolState.poolFees.initSqrtPrice,\n      poolState.sqrtPrice,\n    );\n\n    const { includedFeeAmount, feeAmount } = getIncludedFeeAmount(\n      tradeFeeNumerator,\n      inputAmount,\n    );\n\n    const split = splitFees(\n      poolState.poolFees,\n      feeAmount,\n      feeMode.hasReferral,\n      hasPartner(poolState),\n    );\n\n    actualTradingFee = split.tradingFee;\n    actualProtocolFee = split.protocolFee;\n    actualReferralFee = split.referralFee;\n    actualPartnerFee = split.partnerFee;\n\n    includedFeeInputAmount = includedFeeAmount;\n  } else {\n    includedFeeInputAmount = inputAmount;\n  }\n\n  return {\n    amountLeft: new BN(0),\n    includedFeeInputAmount: includedFeeInputAmount,\n    excludedFeeInputAmount: inputAmount,\n    outputAmount: amountOut,\n    nextSqrtPrice: nextSqrtPrice,\n    tradingFee: actualTradingFee,\n    protocolFee: actualProtocolFee,\n    partnerFee: actualPartnerFee,\n    referralFee: actualReferralFee,\n  };\n}\n\n/**\n * Calculates the swap result from exact output\n * @param poolState - The pool state\n * @param amountOut - The amount out\n * @returns The swap result from exact output\n */\nexport function calculateAtoBFromAmountOut(\n  poolState: PoolState,\n  amountOut: BN,\n): { inputAmount: BN; nextSqrtPrice: BN } {\n  const nextSqrtPrice = getNextSqrtPriceFromOutput(\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    amountOut,\n    true,\n  );\n\n  if (nextSqrtPrice.lt(poolState.sqrtMinPrice)) {\n    throw new Error(\"Price Range Violation\");\n  }\n\n  const inputAmount = getAmountAFromLiquidityDelta(\n    nextSqrtPrice,\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    Rounding.Up,\n  );\n\n  return {\n    inputAmount,\n    nextSqrtPrice,\n  };\n}\n\n/**\n * Calculates the swap result from exact output\n * @param poolState - The pool state\n * @param amountOut - The amount out\n * @returns The swap result from exact output\n */\nexport function calculateBtoAFromAmountOut(\n  poolState: PoolState,\n  amountOut: BN,\n): { inputAmount: BN; nextSqrtPrice: BN } {\n  const nextSqrtPrice = getNextSqrtPriceFromOutput(\n    poolState.sqrtPrice,\n    poolState.liquidity,\n    amountOut,\n    false,\n  );\n\n  if (nextSqrtPrice.gt(poolState.sqrtMaxPrice)) {\n    throw new Error(\"Price Range Violation\");\n  }\n\n  const inputAmount = getAmountBFromLiquidityDelta(\n    poolState.sqrtPrice,\n    nextSqrtPrice,\n    poolState.liquidity,\n    Rounding.Up,\n  );\n\n  return {\n    inputAmount,\n    nextSqrtPrice,\n  };\n}\n\n/**\n * Swaps quote exact input\n * @param pool - The pool\n * @param currentPoint - The current point\n * @param amountIn - The amount in\n * @param slippage - The slippage\n * @param aToB - The trade direction\n * @param hasReferral - The has referral\n * @param tokenADecimal - The token A decimal\n * @param tokenBDecimal - The token B decimal\n * @param inputTokenInfo - The input token info\n * @param outputTokenInfo - The output token info\n * @returns The swap quote exact input\n */\nexport function swapQuoteExactInput(\n  pool: PoolState,\n  currentPoint: BN,\n  amountIn: BN,\n  slippage: number,\n  aToB: boolean,\n  hasReferral: boolean,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n): Quote2Result {\n  if (amountIn.lte(new BN(0))) {\n    throw new Error(\"Amount in must be greater than 0\");\n  }\n\n  if (!isSwapEnabled(pool, currentPoint)) {\n    throw new Error(\"Swap is disabled\");\n  }\n\n  const tradeDirection = aToB ? TradeDirection.AtoB : TradeDirection.BtoA;\n\n  const feeMode = getFeeMode(pool.collectFeeMode, tradeDirection, hasReferral);\n\n  let actualAmountIn = amountIn;\n  if (inputTokenInfo) {\n    actualAmountIn = calculateTransferFeeExcludedAmount(\n      amountIn,\n      inputTokenInfo.mint,\n      inputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const swapResult = getSwapResultFromExactInput(\n    pool,\n    actualAmountIn,\n    feeMode,\n    tradeDirection,\n    currentPoint,\n  );\n\n  let actualAmountOut = swapResult.outputAmount;\n  if (outputTokenInfo) {\n    actualAmountOut = calculateTransferFeeExcludedAmount(\n      swapResult.outputAmount,\n      outputTokenInfo.mint,\n      outputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const minimumAmountOut = getAmountWithSlippage(\n    actualAmountOut,\n    slippage,\n    SwapMode.ExactIn,\n  );\n\n  const priceImpact = getPriceImpact(\n    actualAmountIn,\n    actualAmountOut,\n    pool.sqrtPrice,\n    aToB,\n    tokenADecimal,\n    tokenBDecimal,\n  );\n\n  return {\n    ...swapResult,\n    minimumAmountOut,\n    priceImpact,\n  };\n}\n\n/**\n * Swaps quote exact output\n * @param pool - The pool\n * @param currentPoint - The current point\n * @param amountOut - The amount out\n * @param slippage - The slippage\n * @param aToB - The trade direction\n * @param hasReferral - The has referral\n * @param tokenADecimal - The token A decimal\n * @param tokenBDecimal - The token B decimal\n * @param inputTokenInfo - The input token info\n * @param outputTokenInfo - The output token info\n * @returns The swap quote exact output\n */\nexport function swapQuoteExactOutput(\n  pool: PoolState,\n  currentPoint: BN,\n  amountOut: BN,\n  slippage: number,\n  aToB: boolean,\n  hasReferral: boolean,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n): Quote2Result {\n  if (amountOut.lte(new BN(0))) {\n    throw new Error(\"Amount out must be greater than 0\");\n  }\n\n  if (!isSwapEnabled(pool, currentPoint)) {\n    throw new Error(\"Swap is disabled\");\n  }\n\n  const tradeDirection = aToB ? TradeDirection.AtoB : TradeDirection.BtoA;\n\n  const feeMode = getFeeMode(pool.collectFeeMode, tradeDirection, hasReferral);\n\n  let actualAmountOut = amountOut;\n  if (outputTokenInfo) {\n    actualAmountOut = calculateTransferFeeIncludedAmount(\n      amountOut,\n      outputTokenInfo.mint,\n      outputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const swapResult = getSwapResultFromExactOutput(\n    pool,\n    actualAmountOut,\n    feeMode,\n    tradeDirection,\n    currentPoint,\n  );\n\n  let actualAmountIn = swapResult.includedFeeInputAmount;\n  if (inputTokenInfo) {\n    actualAmountIn = calculateTransferFeeIncludedAmount(\n      swapResult.includedFeeInputAmount,\n      inputTokenInfo.mint,\n      inputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const maximumAmountIn = getAmountWithSlippage(\n    actualAmountIn,\n    slippage,\n    SwapMode.ExactOut,\n  );\n\n  const priceImpact = getPriceImpact(\n    actualAmountIn,\n    actualAmountOut,\n    pool.sqrtPrice,\n    aToB,\n    tokenADecimal,\n    tokenBDecimal,\n  );\n\n  return {\n    ...swapResult,\n    maximumAmountIn,\n    priceImpact,\n  };\n}\n\n/**\n * Swaps quote partial input\n * @param pool - The pool\n * @param currentPoint - The current point\n * @param amountIn - The amount in\n * @param slippage - The slippage\n * @param aToB - The trade direction\n * @param hasReferral - The has referral\n * @param tokenADecimal - The token A decimal\n * @param tokenBDecimal - The token B decimal\n * @param inputTokenInfo - The input token info\n * @param outputTokenInfo - The output token info\n * @returns The swap quote partial input\n */\nexport function swapQuotePartialInput(\n  pool: PoolState,\n  currentPoint: BN,\n  amountIn: BN,\n  slippage: number,\n  aToB: boolean,\n  hasReferral: boolean,\n  tokenADecimal: number,\n  tokenBDecimal: number,\n  inputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n  outputTokenInfo?: {\n    mint: Mint;\n    currentEpoch: number;\n  },\n): Quote2Result {\n  if (amountIn.lte(new BN(0))) {\n    throw new Error(\"Amount in must be greater than 0\");\n  }\n\n  if (!isSwapEnabled(pool, currentPoint)) {\n    throw new Error(\"Swap is disabled\");\n  }\n\n  const tradeDirection = aToB ? TradeDirection.AtoB : TradeDirection.BtoA;\n\n  const feeMode = getFeeMode(pool.collectFeeMode, tradeDirection, hasReferral);\n\n  let actualAmountIn = amountIn;\n  if (inputTokenInfo) {\n    actualAmountIn = calculateTransferFeeExcludedAmount(\n      amountIn,\n      inputTokenInfo.mint,\n      inputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const swapResult = getSwapResultFromPartialInput(\n    pool,\n    actualAmountIn,\n    feeMode,\n    tradeDirection,\n    currentPoint,\n  );\n\n  let actualAmountOut = swapResult.outputAmount;\n  if (outputTokenInfo) {\n    actualAmountOut = calculateTransferFeeExcludedAmount(\n      swapResult.outputAmount,\n      outputTokenInfo.mint,\n      outputTokenInfo.currentEpoch,\n    ).amount;\n  }\n\n  const minimumAmountOut = getAmountWithSlippage(\n    actualAmountOut,\n    slippage,\n    SwapMode.PartialFill,\n  );\n\n  const priceImpact = getPriceImpact(\n    actualAmountIn,\n    actualAmountOut,\n    pool.sqrtPrice,\n    aToB,\n    tokenADecimal,\n    tokenBDecimal,\n  );\n\n  return {\n    ...swapResult,\n    minimumAmountOut,\n    priceImpact,\n  };\n}\n","import BN from \"bn.js\";\nimport { mulDiv } from \"./utilsMath\";\nimport { SCALE_OFFSET, U64_MAX } from \"../constants\";\nimport { Rounding } from \"../types\";\n\n/**\n * Gets the next sqrt price given a delta of token_b (input), rounding down.\n * P' = P + b / L\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amount - delta of token_b (BN)\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromAmountInBRoundingDown(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amount: BN,\n): BN {\n  // quotient = (amount << (SCALE_OFFSET * 2)) / liquidity\n  const quotient = amount.shln(SCALE_OFFSET * 2).div(liquidity);\n\n  // result = sqrtPrice + quotient\n  const result = sqrtPrice.add(quotient);\n\n  return result;\n}\n\n/**\n * Gets the next sqrt price given a delta of token_b (output), rounding down.\n * P' = P - b / L\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amount - delta of token_b (BN)\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromAmountOutBRoundingDown(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amount: BN,\n): BN {\n  // quotient = ceil((amount << (SCALE_OFFSET * 2)) / liquidity)\n  const numerator = amount.shln(SCALE_OFFSET * 2);\n  const quotient = numerator.add(liquidity).subn(1).div(liquidity);\n\n  // result = sqrtPrice - quotient\n  const result = sqrtPrice.sub(quotient);\n\n  if (result.isNeg()) {\n    throw new Error(\"sqrt price cannot be negative\");\n  }\n\n  return result;\n}\n\n/**\n * Gets the next sqrt price P' given a delta of token_a, rounding up.\n * P' = P * L / (L + a * P)\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amount - delta of token_a (BN)\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromAmountInARoundingUp(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amount: BN,\n): BN {\n  if (amount.isZero()) {\n    return sqrtPrice;\n  }\n\n  // product = amountIn * sqrtPrice\n  const product = amount.mul(sqrtPrice);\n\n  // denominator = liquidity + product\n  const denominator = liquidity.add(product);\n\n  // result = mulDiv(liquidity, sqrtPrice, denominator, Rounding.Up)\n  const result = mulDiv(liquidity, sqrtPrice, denominator, Rounding.Up);\n\n  return result;\n}\n\n/**\n * Gets the next sqrt price P' given a delta of token_a (output), rounding up.\n * P' = P * L / (L - a * P)\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amount - delta of token_a (BN)\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromAmountOutARoundingUp(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amount: BN,\n): BN {\n  if (amount.isZero()) {\n    return sqrtPrice;\n  }\n\n  // product = amount * sqrtPrice\n  const product = amount.mul(sqrtPrice);\n\n  const denominator = liquidity.sub(product);\n  if (denominator.lte(new BN(0))) {\n    throw new Error(\"MathOverflow: denominator is zero or negative\");\n  }\n\n  // result = mulDiv(liquidity, sqrtPrice, denominator, Rounding.Up)\n  return mulDiv(liquidity, sqrtPrice, denominator, Rounding.Up);\n}\n\n/**\n * Gets the next sqrt price given an output amount of token_a or token_b.\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amountOut - output amount (BN)\n * @param aForB - true if swapping A for B, false if B for A\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromOutput(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amountOut: BN,\n  aForB: boolean,\n): BN {\n  if (sqrtPrice.lte(new BN(0))) {\n    throw new Error(\"sqrtPrice must be greater than 0\");\n  }\n  if (liquidity.lte(new BN(0))) {\n    throw new Error(\"liquidity must be greater than 0\");\n  }\n\n  if (aForB) {\n    return getNextSqrtPriceFromAmountOutBRoundingDown(\n      sqrtPrice,\n      liquidity,\n      amountOut,\n    );\n  } else {\n    return getNextSqrtPriceFromAmountOutARoundingUp(\n      sqrtPrice,\n      liquidity,\n      amountOut,\n    );\n  }\n}\n\n/**\n * Gets the next sqrt price given an input amount of token_a or token_b\n * @param sqrtPrice - current sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param amountIn - input amount (BN)\n * @param aForB - true if swapping A for B, false if B for A\n * @returns next sqrt price (BN)\n */\nexport function getNextSqrtPriceFromInput(\n  sqrtPrice: BN,\n  liquidity: BN,\n  amountIn: BN,\n  aForB: boolean,\n): BN {\n  if (sqrtPrice.lte(new BN(0))) {\n    throw new Error(\"sqrtPrice must be greater than 0\");\n  }\n  if (liquidity.lte(new BN(0))) {\n    throw new Error(\"liquidity must be greater than 0\");\n  }\n\n  if (aForB) {\n    // Rounding up for A to B\n    return getNextSqrtPriceFromAmountInARoundingUp(\n      sqrtPrice,\n      liquidity,\n      amountIn,\n    );\n  } else {\n    // Rounding down for B to A\n    return getNextSqrtPriceFromAmountInBRoundingDown(\n      sqrtPrice,\n      liquidity,\n      amountIn,\n    );\n  }\n}\n\n/**\n * Gets the delta amount of token_b for given liquidity and price range. (getDeltaAmountBUnsigned)\n * @param lowerSqrtPrice - lower sqrt price (BN)\n * @param upperSqrtPrice - upper sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param rounding - rounding (Rounding)\n * @returns delta amount of token_b (BN)\n */\nexport function getAmountBFromLiquidityDelta(\n  lowerSqrtPrice: BN,\n  upperSqrtPrice: BN,\n  liquidity: BN,\n  rounding: Rounding,\n): BN {\n  const result = getDeltaAmountBUnsignedUnchecked(\n    lowerSqrtPrice,\n    upperSqrtPrice,\n    liquidity,\n    rounding,\n  );\n\n  return result;\n}\n\n/**\n * Gets the delta amount of token_b for given liquidity and price range.\n * @param lowerSqrtPrice - lower sqrt price (BN)\n * @param upperSqrtPrice - upper sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param rounding - rounding (Rounding)\n * @returns delta amount of token_b (BN)\n */\nfunction getDeltaAmountBUnsignedUnchecked(\n  lowerSqrtPrice: BN,\n  upperSqrtPrice: BN,\n  liquidity: BN,\n  rounding: Rounding,\n): BN {\n  // delta_sqrt_price = upper_sqrt_price - lower_sqrt_price\n  const deltaSqrtPrice = upperSqrtPrice.sub(lowerSqrtPrice);\n  const prod = liquidity.mul(deltaSqrtPrice);\n\n  const shift = SCALE_OFFSET * 2;\n\n  if (rounding === Rounding.Up) {\n    // denominator = 1 << (SCALE_OFFSET * 2)\n    const denominator = new BN(1).ushln(shift);\n    // result = ceil(prod / denominator)\n    const result = prod.add(denominator.subn(1)).div(denominator);\n    return result;\n  } else {\n    // result = prod >> (RESOLUTION * 2)\n    const result = prod.ushrn(shift);\n    return result;\n  }\n}\n\n/**\n * Gets the delta amount_a for given liquidity and price range. (getDeltaAmountAUnsigned)\n * `a = L * (1 / P_lower - 1 / P_upper)`\n * i.e. `L * (P_upper - P_lower) / (P_upper * P_lower)`\n * @param lowerSqrtPrice - lower sqrt price (BN)\n * @param upperSqrtPrice - upper sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param rounding - rounding (Rounding)\n * @returns delta amount of token_a (BN)\n */\nexport function getAmountAFromLiquidityDelta(\n  lowerSqrtPrice: BN,\n  upperSqrtPrice: BN,\n  liquidity: BN,\n  rounding: Rounding,\n): BN {\n  const result = getDeltaAmountAUnsignedUnchecked(\n    lowerSqrtPrice,\n    upperSqrtPrice,\n    liquidity,\n    rounding,\n  );\n\n  return result;\n}\n\n/**\n * Computes L * (P_upper - P_lower) / (P_upper * P_lower)\n * @param lowerSqrtPrice - lower sqrt price (BN)\n * @param upperSqrtPrice - upper sqrt price (BN)\n * @param liquidity - current liquidity (BN)\n * @param rounding - rounding (Rounding)\n * @returns delta amount of token_a (BN)\n */\nfunction getDeltaAmountAUnsignedUnchecked(\n  lowerSqrtPrice: BN,\n  upperSqrtPrice: BN,\n  liquidity: BN,\n  rounding: Rounding,\n): BN {\n  const numerator1 = liquidity;\n  const numerator2 = upperSqrtPrice.sub(lowerSqrtPrice);\n\n  const denominator = lowerSqrtPrice.mul(upperSqrtPrice);\n\n  if (denominator.lte(new BN(0))) {\n    throw new Error(\"Denominator must be greater than zero\");\n  }\n\n  const result = mulDiv(numerator1, numerator2, denominator, rounding);\n  return result;\n}\n\n/**\n * Gets the liquidity delta from amount A\n * a = L * (1 / P_lower - 1 / P_upper)\n * a = L * (P_upper - P_lower) / (P_upper * P_lower)\n * L = a * P_upper * P_lower / (P_upper - P_lower)\n * @param amountA - The amount of token A\n * @param lowerSqrtPrice - The lower sqrt price\n * @param upperSqrtPrice - The upper sqrt price\n * @returns The liquidity delta from amount A\n */\nexport function getLiquidityDeltaFromAmountA(\n  amountA: BN,\n  lowerSqrtPrice: BN, // current sqrt price\n  upperSqrtPrice: BN, // max sqrt price\n): BN {\n  const product = amountA.mul(lowerSqrtPrice).mul(upperSqrtPrice); // Q128.128\n  const denominator = upperSqrtPrice.sub(lowerSqrtPrice); // Q64.64\n\n  return product.div(denominator);\n}\n\n/**\n * Gets the liquidity delta from amount B\n * b = L (P_upper - P_lower)\n * L = b / (P_upper - P_lower)\n * @param amountB - The amount of token B\n * @param lowerSqrtPrice - The lower sqrt price\n * @param upperSqrtPrice - The upper sqrt price\n * @returns The liquidity delta from amount B\n */\nexport function getLiquidityDeltaFromAmountB(\n  amountB: BN,\n  lowerSqrtPrice: BN, // min sqrt price\n  upperSqrtPrice: BN, // current sqrt price,\n): BN {\n  const denominator = upperSqrtPrice.sub(lowerSqrtPrice);\n  const product = amountB.shln(128);\n  return product.div(denominator);\n}\n","import { BN } from \"@coral-xyz/anchor\";\nimport Decimal from \"decimal.js\";\n\n/**\n * Calculates the initial sqrt price\n * a = L * (1/s - 1/pb)\n * b = L * (s - pa)\n * b/a = (s - pa) / (1/s - 1/pb)\n * With: x = 1 / pb and y = b/a\n * => s ^ 2 + s * (-pa + x * y) - y = 0\n * s = [(pa - xy) + ((xy - pa) + 4y)]/2\n * @param tokenAAmount - The token A amount\n * @param tokenBAmount - The token B amount\n * @param minSqrtPrice - The min sqrt price\n * @param maxSqrtPrice - The max sqrt price\n * @returns The initial sqrt price\n */\nexport function calculateInitSqrtPrice(\n  tokenAAmount: BN,\n  tokenBAmount: BN,\n  minSqrtPrice: BN,\n  maxSqrtPrice: BN,\n): BN {\n  if (tokenAAmount.isZero() || tokenBAmount.isZero()) {\n    throw new Error(\"Amount cannot be zero\");\n  }\n\n  const amountADecimal = new Decimal(tokenAAmount.toString());\n  const amountBDecimal = new Decimal(tokenBAmount.toString());\n  const minSqrtPriceDecimal = new Decimal(minSqrtPrice.toString()).div(\n    Decimal.pow(2, 64),\n  );\n  const maxSqrtPriceDecimal = new Decimal(maxSqrtPrice.toString()).div(\n    Decimal.pow(2, 64),\n  );\n\n  const x = new Decimal(1).div(maxSqrtPriceDecimal);\n  const y = amountBDecimal.div(amountADecimal);\n  const xy = x.mul(y);\n\n  const paMinusXY = minSqrtPriceDecimal.sub(xy);\n  const xyMinusPa = xy.sub(minSqrtPriceDecimal);\n\n  const fourY = new Decimal(4).mul(y);\n\n  const discriminant = xyMinusPa.mul(xyMinusPa).add(fourY);\n\n  // sqrt_discriminant = discriminant\n  const sqrtDiscriminant = discriminant.sqrt();\n  const result = paMinusXY\n    .add(sqrtDiscriminant)\n    .div(new Decimal(2))\n    .mul(Decimal.pow(2, 64));\n\n  return new BN(result.floor().toFixed());\n}\n","import { Connection, PublicKey } from \"@solana/web3.js\";\nimport BN from \"bn.js\";\nimport {\n  ActivationType,\n  BaseFee,\n  BaseFeeMode,\n  DynamicFee,\n  PoolState,\n  PoolStatus,\n} from \"../types\";\nimport {\n  BASIS_POINT_MAX,\n  BIN_STEP_BPS_DEFAULT,\n  BIN_STEP_BPS_U128_DEFAULT,\n  CURRENT_POOL_VERSION,\n  DYNAMIC_FEE_DECAY_PERIOD_DEFAULT,\n  DYNAMIC_FEE_FILTER_PERIOD_DEFAULT,\n  DYNAMIC_FEE_REDUCTION_FACTOR_DEFAULT,\n  FEE_DENOMINATOR,\n  MAX_PRICE_CHANGE_BPS_DEFAULT,\n  MAX_RATE_LIMITER_DURATION_IN_SECONDS,\n  MAX_RATE_LIMITER_DURATION_IN_SLOTS,\n  MIN_FEE_NUMERATOR,\n  ONE_Q64,\n} from \"../constants\";\nimport { getMaxFeeBps, getMaxFeeNumerator } from \"../math\";\nimport Decimal from \"decimal.js\";\nimport {\n  encodeFeeMarketCapSchedulerParams,\n  encodeFeeRateLimiterParams,\n  encodeFeeTimeSchedulerParams,\n} from \"./feeCodec\";\n\n/**\n * Checks if the partner is valid\n * @param partner - The partner address\n * @returns True if the partner is valid, false otherwise\n */\nexport function hasPartner(poolState: PoolState): boolean {\n  return !poolState.partner.equals(PublicKey.default);\n}\n\n/**\n * Gets the current point\n * @param connection - The connection to the Solana cluster\n * @param activationType - The activation type\n * @returns The current point\n */\nexport async function getCurrentPoint(\n  connection: Connection,\n  activationType: ActivationType,\n): Promise<BN> {\n  const currentSlot = await connection.getSlot();\n\n  if (activationType === ActivationType.Slot) {\n    return new BN(currentSlot);\n  } else {\n    const currentTime = await connection.getBlockTime(currentSlot);\n    return new BN(currentTime);\n  }\n}\n\n/**\n * Checks if the swap is enabled\n * @param pool - The pool\n * @param currentPoint - The current point\n * @returns True if the swap is enabled, false otherwise\n */\nexport function isSwapEnabled(\n  pool: { poolStatus: PoolStatus; activationPoint: BN },\n  currentPoint: BN,\n): boolean {\n  return (\n    pool.poolStatus === PoolStatus.Enable &&\n    currentPoint.gte(pool.activationPoint)\n  );\n}\n\n/**\n * Converts the value to a fee scheduler second factor\n * @param value - The value to convert\n * @returns The fee scheduler second factor\n */\nexport function convertToFeeSchedulerSecondFactor(value: BN): number[] {\n  return Array.from(value.toArrayLike(Buffer, \"le\", 8));\n}\n\n/**\n * Parses the fee scheduler second factor\n * @param secondFactor - The fee scheduler second factor\n * @returns The fee scheduler second factor\n */\nexport function parseFeeSchedulerSecondFactor(secondFactor: number[]): BN {\n  return new BN(Buffer.from(secondFactor), \"le\");\n}\n\n/**\n * Converts the value to a rate limiter second factor\n * @param maxLimiterDuration - The max limiter duration\n * @param maxFeeBps - The max fee in basis points\n * @returns The rate limiter second factor\n */\nexport function convertToRateLimiterSecondFactor(\n  maxLimiterDuration: BN,\n  maxFeeBps: BN,\n): number[] {\n  const buffer1 = maxLimiterDuration.toArrayLike(Buffer, \"le\", 4); // maxLimiterDuration\n  const buffer2 = maxFeeBps.toArrayLike(Buffer, \"le\", 4); // maxFeeBps\n  const buffer = Buffer.concat([buffer1, buffer2]);\n  return Array.from(buffer);\n}\n\n/**\n * Parses the rate limiter second factor\n * @param secondFactor - The rate limiter second factor\n * @returns The rate limiter second factor\n */\nexport function parseRateLimiterSecondFactor(secondFactor: number[]): {\n  maxLimiterDuration: number;\n  maxFeeBps: number;\n} {\n  const buffer = Buffer.from(secondFactor);\n  return {\n    maxLimiterDuration: buffer.readUInt32LE(0),\n    maxFeeBps: buffer.readUInt32LE(4),\n  };\n}\n\n/**\n * Converts basis points (bps) to a fee numerator\n * 1 bps = 0.01% = 0.0001 in decimal\n *\n * @param bps - The value in basis points [1-10_000]\n * @returns The equivalent fee numerator\n */\nexport function bpsToFeeNumerator(bps: number): BN {\n  return new BN(bps * FEE_DENOMINATOR).divn(BASIS_POINT_MAX);\n}\n\n/**\n * Converts a fee numerator back to basis points (bps)\n *\n * @param feeNumerator - The fee numerator to convert\n * @returns The equivalent value in basis points [1-10_000]\n */\nexport function feeNumeratorToBps(feeNumerator: BN): number {\n  return feeNumerator\n    .muln(BASIS_POINT_MAX)\n    .div(new BN(FEE_DENOMINATOR))\n    .toNumber();\n}\n\n/**\n * Converts the amount to lamports\n * @param amount - The amount to convert\n * @param tokenDecimal - The token decimal\n * @returns The amount in lamports\n */\nexport function convertToLamports(\n  amount: number | string,\n  tokenDecimal: number,\n): BN {\n  const valueInLamports = new Decimal(amount).mul(\n    Decimal.pow(10, tokenDecimal),\n  );\n  return fromDecimalToBN(valueInLamports);\n}\n\n/**\n * Converts the value to a BN\n * @param value - The value to convert\n * @returns The value in BN\n */\nexport function fromDecimalToBN(value: Decimal): BN {\n  return new BN(value.floor().toFixed());\n}\n\n/**\n * Gets the fee scheduler parameters\n * @param startingBaseFeeBps - The starting base fee in basis points\n * @param endingBaseFeeBps - The ending base fee in basis points\n * @param baseFeeMode - The base fee mode\n * @param numberOfPeriod - The number of periods\n * @param totalDuration - The total duration\n * @param poolVersion - The pool version\n * @returns The fee scheduler parameters\n */\nexport function getFeeTimeSchedulerParams(\n  startingBaseFeeBps: number,\n  endingBaseFeeBps: number,\n  baseFeeMode: BaseFeeMode,\n  numberOfPeriod: number,\n  totalDuration: number,\n): BaseFee {\n  if (startingBaseFeeBps == endingBaseFeeBps) {\n    if (numberOfPeriod != 0 || totalDuration != 0) {\n      throw new Error(\"numberOfPeriod and totalDuration must both be zero\");\n    }\n\n    const data = encodeFeeTimeSchedulerParams(\n      bpsToFeeNumerator(startingBaseFeeBps),\n      0,\n      new BN(0),\n      new BN(0),\n      BaseFeeMode.FeeTimeSchedulerLinear,\n    );\n\n    return {\n      data: Array.from(data),\n    };\n  }\n\n  if (numberOfPeriod <= 0) {\n    throw new Error(\"Total periods must be greater than zero\");\n  }\n\n  const poolMaxFeeBps = getMaxFeeBps(CURRENT_POOL_VERSION);\n\n  if (startingBaseFeeBps > poolMaxFeeBps) {\n    throw new Error(\n      `startingBaseFeeBps (${startingBaseFeeBps} bps) exceeds maximum allowed value of ${poolMaxFeeBps} bps`,\n    );\n  }\n\n  if (endingBaseFeeBps > startingBaseFeeBps) {\n    throw new Error(\n      \"endingBaseFeeBps bps must be less than or equal to startingBaseFeeBps bps\",\n    );\n  }\n\n  if (numberOfPeriod == 0 || totalDuration == 0) {\n    throw new Error(\n      \"numberOfPeriod and totalDuration must both greater than zero\",\n    );\n  }\n\n  const maxBaseFeeNumerator = bpsToFeeNumerator(startingBaseFeeBps);\n\n  const minBaseFeeNumerator = bpsToFeeNumerator(endingBaseFeeBps);\n\n  const periodFrequency = new BN(totalDuration / numberOfPeriod);\n\n  let reductionFactor: BN;\n  if (baseFeeMode == BaseFeeMode.FeeTimeSchedulerLinear) {\n    const totalReduction = maxBaseFeeNumerator.sub(minBaseFeeNumerator);\n    reductionFactor = totalReduction.divn(numberOfPeriod);\n  } else {\n    const ratio =\n      minBaseFeeNumerator.toNumber() / maxBaseFeeNumerator.toNumber();\n    const decayBase = Math.pow(ratio, 1 / numberOfPeriod);\n    reductionFactor = new BN(BASIS_POINT_MAX * (1 - decayBase));\n  }\n\n  const data = encodeFeeTimeSchedulerParams(\n    maxBaseFeeNumerator,\n    numberOfPeriod,\n    periodFrequency,\n    reductionFactor,\n    baseFeeMode,\n  );\n\n  return {\n    data: Array.from(data),\n  };\n}\n\nexport function getFeeMarketCapSchedulerParams(\n  startingBaseFeeBps: number,\n  endingBaseFeeBps: number,\n  baseFeeMode: BaseFeeMode,\n  numberOfPeriod: number,\n  sqrtPriceStepBps: number,\n  schedulerExpirationDuration: number,\n): BaseFee {\n  if (numberOfPeriod <= 0) {\n    throw new Error(\"Total periods must be greater than zero\");\n  }\n\n  const poolMaxFeeBps = getMaxFeeBps(CURRENT_POOL_VERSION);\n\n  if (startingBaseFeeBps <= endingBaseFeeBps) {\n    throw new Error(\n      `startingBaseFeeBps (${startingBaseFeeBps} bps) must be greater than endingBaseFeeBps (${endingBaseFeeBps} bps)`,\n    );\n  }\n\n  if (startingBaseFeeBps > poolMaxFeeBps) {\n    throw new Error(\n      `startingBaseFeeBps (${startingBaseFeeBps} bps) exceeds maximum allowed value of ${poolMaxFeeBps} bps`,\n    );\n  }\n\n  if (\n    numberOfPeriod == 0 ||\n    sqrtPriceStepBps == 0 ||\n    schedulerExpirationDuration == 0\n  ) {\n    throw new Error(\n      \"numberOfPeriod, sqrtPriceStepBps, and schedulerExpirationDuration must be greater than zero\",\n    );\n  }\n\n  const maxBaseFeeNumerator = bpsToFeeNumerator(startingBaseFeeBps);\n  const minBaseFeeNumerator = bpsToFeeNumerator(endingBaseFeeBps);\n\n  let reductionFactor: BN;\n\n  if (baseFeeMode == BaseFeeMode.FeeMarketCapSchedulerLinear) {\n    const totalReduction = maxBaseFeeNumerator.sub(minBaseFeeNumerator);\n    reductionFactor = totalReduction.divn(numberOfPeriod);\n  } else {\n    const ratio =\n      minBaseFeeNumerator.toNumber() / maxBaseFeeNumerator.toNumber();\n    const decayBase = Math.pow(ratio, 1 / numberOfPeriod);\n    reductionFactor = new BN(BASIS_POINT_MAX * (1 - decayBase));\n  }\n\n  const data = encodeFeeMarketCapSchedulerParams(\n    maxBaseFeeNumerator,\n    numberOfPeriod,\n    sqrtPriceStepBps,\n    schedulerExpirationDuration,\n    reductionFactor,\n    baseFeeMode,\n  );\n\n  return {\n    data: Array.from(data),\n  };\n}\n\n/**\n * Gets the rate limiter parameters\n * @param baseFeeBps - The base fee in basis points\n * @param feeIncrementBps - The fee increment in basis points\n * @param referenceAmount - The reference amount\n * @param maxLimiterDuration - The max limiter duration\n * @param maxFeeBps - The max fee in basis points\n * @param tokenBDecimal - The token B decimal\n * @param activationType - The activation type\n * @param poolVersion - The pool version\n * @returns The rate limiter parameters\n */\nexport function getRateLimiterParams(\n  baseFeeBps: number,\n  feeIncrementBps: number,\n  referenceAmount: number,\n  maxLimiterDuration: number,\n  maxFeeBps: number,\n  tokenBDecimal: number,\n  activationType: ActivationType,\n): BaseFee {\n  const cliffFeeNumerator = bpsToFeeNumerator(baseFeeBps);\n  const feeIncrementNumerator = bpsToFeeNumerator(feeIncrementBps);\n\n  if (\n    baseFeeBps <= 0 ||\n    feeIncrementBps <= 0 ||\n    referenceAmount <= 0 ||\n    maxLimiterDuration <= 0\n  ) {\n    throw new Error(\"All rate limiter parameters must be greater than zero\");\n  }\n\n  const poolMaxFeeBps = getMaxFeeBps(CURRENT_POOL_VERSION);\n  const poolMaxFeeNumerator = getMaxFeeNumerator(CURRENT_POOL_VERSION);\n\n  if (baseFeeBps > poolMaxFeeBps) {\n    throw new Error(\n      `Base fee (${baseFeeBps} bps) exceeds maximum allowed value of ${poolMaxFeeBps} bps`,\n    );\n  }\n\n  if (feeIncrementBps > poolMaxFeeBps) {\n    throw new Error(\n      `Fee increment (${feeIncrementBps} bps) exceeds maximum allowed value of ${poolMaxFeeBps} bps`,\n    );\n  }\n\n  if (feeIncrementNumerator.gte(new BN(FEE_DENOMINATOR))) {\n    throw new Error(\n      \"Fee increment numerator must be less than FEE_DENOMINATOR\",\n    );\n  }\n\n  if (maxFeeBps > poolMaxFeeBps) {\n    throw new Error(\n      `Max fee (${maxFeeBps} bps) exceeds maximum allowed value of ${poolMaxFeeBps} bps for PoolVersion V${CURRENT_POOL_VERSION}`,\n    );\n  }\n\n  const deltaNumerator = new BN(poolMaxFeeNumerator).sub(cliffFeeNumerator);\n  const maxIndex = deltaNumerator.div(feeIncrementNumerator);\n  if (maxIndex.lt(new BN(1))) {\n    throw new Error(\"Fee increment is too large for the given base fee\");\n  }\n\n  if (\n    cliffFeeNumerator.lt(new BN(MIN_FEE_NUMERATOR)) ||\n    cliffFeeNumerator.gt(new BN(poolMaxFeeNumerator))\n  ) {\n    throw new Error(\"Base fee must be between 0.01% and 99%\");\n  }\n\n  const maxDuration =\n    activationType === ActivationType.Slot\n      ? MAX_RATE_LIMITER_DURATION_IN_SLOTS\n      : MAX_RATE_LIMITER_DURATION_IN_SECONDS;\n\n  if (maxLimiterDuration > maxDuration) {\n    throw new Error(\n      `Max duration exceeds maximum allowed value of ${maxDuration}`,\n    );\n  }\n\n  const referenceAmountInLamports = convertToLamports(\n    referenceAmount,\n    tokenBDecimal,\n  );\n\n  const data = encodeFeeRateLimiterParams(\n    cliffFeeNumerator,\n    feeIncrementBps,\n    maxLimiterDuration,\n    maxFeeBps,\n    referenceAmountInLamports,\n  );\n\n  return {\n    data: Array.from(data),\n  };\n}\n\n/**\n * Gets the base fee parameters\n * @param baseFeeParams - The base fee parameters\n * @param tokenBDecimal - The token B decimal\n * @param activationType - The activation type\n * @param poolVersion - The pool version\n * @returns The base fee parameters\n */\nexport function getBaseFeeParams(\n  baseFeeParams: {\n    baseFeeMode: BaseFeeMode;\n    rateLimiterParam?: {\n      baseFeeBps: number;\n      feeIncrementBps: number;\n      referenceAmount: number;\n      maxLimiterDuration: number;\n      maxFeeBps: number;\n    };\n    feeTimeSchedulerParam?: {\n      startingFeeBps: number;\n      endingFeeBps: number;\n      numberOfPeriod: number;\n      totalDuration: number;\n    };\n    feeMarketCapSchedulerParam?: {\n      startingFeeBps: number;\n      endingFeeBps: number;\n      numberOfPeriod: number;\n      sqrtPriceStepBps: number;\n      schedulerExpirationDuration: number;\n    };\n  },\n  tokenBDecimal: number,\n  activationType: ActivationType,\n): BaseFee {\n  switch (baseFeeParams.baseFeeMode) {\n    case BaseFeeMode.FeeTimeSchedulerLinear:\n    case BaseFeeMode.FeeTimeSchedulerExponential: {\n      if (!baseFeeParams.feeTimeSchedulerParam) {\n        throw new Error(\n          \"Fee scheduler parameters are required for FeeTimeScheduler mode\",\n        );\n      }\n      const { startingFeeBps, endingFeeBps, numberOfPeriod, totalDuration } =\n        baseFeeParams.feeTimeSchedulerParam;\n      return getFeeTimeSchedulerParams(\n        startingFeeBps,\n        endingFeeBps,\n        baseFeeParams.baseFeeMode,\n        numberOfPeriod,\n        totalDuration,\n      );\n    }\n    case BaseFeeMode.RateLimiter: {\n      if (!baseFeeParams.rateLimiterParam) {\n        throw new Error(\n          \"Rate limiter parameters are required for RateLimiter mode\",\n        );\n      }\n      const {\n        baseFeeBps,\n        feeIncrementBps,\n        referenceAmount,\n        maxLimiterDuration,\n        maxFeeBps,\n      } = baseFeeParams.rateLimiterParam;\n      return getRateLimiterParams(\n        baseFeeBps,\n        feeIncrementBps,\n        referenceAmount,\n        maxLimiterDuration,\n        maxFeeBps,\n        tokenBDecimal,\n        activationType,\n      );\n    }\n    case BaseFeeMode.FeeMarketCapSchedulerLinear:\n    case BaseFeeMode.FeeMarketCapSchedulerExponential: {\n      if (!baseFeeParams.feeMarketCapSchedulerParam) {\n        throw new Error(\n          \"Fee scheduler parameters are required for FeeMarketCapScheduler mode\",\n        );\n      }\n      const {\n        startingFeeBps,\n        endingFeeBps,\n        numberOfPeriod,\n        sqrtPriceStepBps,\n        schedulerExpirationDuration,\n      } = baseFeeParams.feeMarketCapSchedulerParam;\n      return getFeeMarketCapSchedulerParams(\n        startingFeeBps,\n        endingFeeBps,\n        baseFeeParams.baseFeeMode,\n        numberOfPeriod,\n        sqrtPriceStepBps,\n        schedulerExpirationDuration,\n      );\n    }\n    default:\n      throw new Error(\"Invalid base fee mode\");\n  }\n}\n\n/**\n * Gets the dynamic fee parameters\n * @param baseFeeBps - The base fee in basis points\n * @param maxPriceChangeBps - The max price change in basis points\n * @returns The dynamic fee parameters\n */\nexport function getDynamicFeeParams(\n  baseFeeBps: number,\n  maxPriceChangeBps: number = MAX_PRICE_CHANGE_BPS_DEFAULT, // default 15%\n): DynamicFee {\n  if (maxPriceChangeBps > MAX_PRICE_CHANGE_BPS_DEFAULT) {\n    throw new Error(\n      `maxPriceChangeBps (${maxPriceChangeBps} bps) must be less than or equal to ${MAX_PRICE_CHANGE_BPS_DEFAULT}`,\n    );\n  }\n\n  const priceRatio = maxPriceChangeBps / BASIS_POINT_MAX + 1;\n  // Q64\n  const sqrtPriceRatioQ64 = new BN(\n    Decimal.sqrt(priceRatio.toString())\n      .mul(Decimal.pow(2, 64))\n      .floor()\n      .toFixed(),\n  );\n  const deltaBinId = sqrtPriceRatioQ64\n    .sub(ONE_Q64)\n    .div(BIN_STEP_BPS_U128_DEFAULT)\n    .muln(2);\n\n  const maxVolatilityAccumulator = new BN(deltaBinId.muln(BASIS_POINT_MAX));\n\n  const squareVfaBin = maxVolatilityAccumulator\n    .mul(new BN(BIN_STEP_BPS_DEFAULT))\n    .pow(new BN(2));\n\n  const baseFeeNumerator = new BN(bpsToFeeNumerator(baseFeeBps));\n  const maxDynamicFeeNumerator = baseFeeNumerator.muln(20).divn(100); // default max dynamic fee = 20% of base fee.\n  const vFee = maxDynamicFeeNumerator\n    .mul(new BN(100_000_000_000))\n    .sub(new BN(99_999_999_999));\n\n  const variableFeeControl = vFee.div(squareVfaBin);\n\n  return {\n    binStep: BIN_STEP_BPS_DEFAULT,\n    binStepU128: BIN_STEP_BPS_U128_DEFAULT,\n    filterPeriod: DYNAMIC_FEE_FILTER_PERIOD_DEFAULT,\n    decayPeriod: DYNAMIC_FEE_DECAY_PERIOD_DEFAULT,\n    reductionFactor: DYNAMIC_FEE_REDUCTION_FACTOR_DEFAULT,\n    maxVolatilityAccumulator: maxVolatilityAccumulator.toNumber(),\n    variableFeeControl: variableFeeControl.toNumber(),\n  };\n}\n","import BN from \"bn.js\";\nimport {\n  BaseFeeMode,\n  BorshFeeMarketCapScheduler,\n  BorshFeeRateLimiter,\n  BorshFeeTimeScheduler,\n  PodAlignedFeeMarketCapScheduler,\n  PodAlignedFeeRateLimiter,\n  PodAlignedFeeTimeScheduler,\n} from \"../types\";\nimport { BorshCoder, Idl } from \"@coral-xyz/anchor\";\nimport CpAmmIDL from \"../idl/cp_amm.json\";\nimport { FEE_PADDING } from \"../constants\";\n\nexport const cpAmmCoder = new BorshCoder(CpAmmIDL as Idl);\n\nexport function encodeFeeTimeSchedulerParams(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  periodFrequency: BN,\n  reductionFactor: BN,\n  baseFeeMode: BaseFeeMode,\n): Buffer {\n  const feeTimeScheduler = {\n    cliff_fee_numerator: new BN(cliffFeeNumerator.toString()),\n    number_of_period: numberOfPeriod,\n    period_frequency: new BN(periodFrequency.toString()),\n    reduction_factor: new BN(reductionFactor.toString()),\n    base_fee_mode: baseFeeMode,\n    padding: FEE_PADDING,\n  };\n\n  return cpAmmCoder.types.encode(\"BorshFeeTimeScheduler\", feeTimeScheduler);\n}\n\nexport function decodeFeeTimeSchedulerParams(\n  data: Buffer,\n): BorshFeeTimeScheduler {\n  const decoded = cpAmmCoder.types.decode(\"BorshFeeTimeScheduler\", data);\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    numberOfPeriod: decoded.number_of_period,\n    periodFrequency: decoded.period_frequency,\n    reductionFactor: decoded.reduction_factor,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n\nexport function decodePodAlignedFeeTimeScheduler(\n  data: Buffer,\n): PodAlignedFeeTimeScheduler {\n  const decoded = cpAmmCoder.types.decode(\"PodAlignedFeeTimeScheduler\", data);\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    numberOfPeriod: decoded.number_of_period,\n    periodFrequency: decoded.period_frequency,\n    reductionFactor: decoded.reduction_factor,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n\nexport function encodeFeeMarketCapSchedulerParams(\n  cliffFeeNumerator: BN,\n  numberOfPeriod: number,\n  sqrtPriceStepBps: number,\n  schedulerExpirationDuration: number,\n  reductionFactor: BN,\n  baseFeeMode: BaseFeeMode,\n): Buffer {\n  const feeMarketCapScheduler = {\n    cliff_fee_numerator: new BN(cliffFeeNumerator.toString()),\n    number_of_period: numberOfPeriod,\n    sqrt_price_step_bps: sqrtPriceStepBps,\n    scheduler_expiration_duration: schedulerExpirationDuration,\n    reduction_factor: new BN(reductionFactor.toString()),\n    base_fee_mode: baseFeeMode,\n    padding: FEE_PADDING,\n  };\n\n  return cpAmmCoder.types.encode(\n    \"BorshFeeMarketCapScheduler\",\n    feeMarketCapScheduler,\n  );\n}\n\nexport function decodeFeeMarketCapSchedulerParams(\n  data: Buffer,\n): BorshFeeMarketCapScheduler {\n  const decoded = cpAmmCoder.types.decode(\"BorshFeeMarketCapScheduler\", data);\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    numberOfPeriod: decoded.number_of_period,\n    sqrtPriceStepBps: decoded.sqrt_price_step_bps,\n    schedulerExpirationDuration: decoded.scheduler_expiration_duration,\n    reductionFactor: decoded.reduction_factor,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n\nexport function decodePodAlignedFeeMarketCapScheduler(\n  data: Buffer,\n): PodAlignedFeeMarketCapScheduler {\n  const decoded = cpAmmCoder.types.decode(\n    \"PodAlignedFeeMarketCapScheduler\",\n    data,\n  );\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    numberOfPeriod: decoded.number_of_period,\n    sqrtPriceStepBps: decoded.sqrt_price_step_bps,\n    schedulerExpirationDuration: decoded.scheduler_expiration_duration,\n    reductionFactor: decoded.reduction_factor,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n\nexport function encodeFeeRateLimiterParams(\n  cliffFeeNumerator: BN,\n  feeIncrementBps: number,\n  maxLimiterDuration: number,\n  maxFeeBps: number,\n  referenceAmount: BN,\n): Buffer {\n  const feeRateLimiter = {\n    cliff_fee_numerator: new BN(cliffFeeNumerator.toString()),\n    fee_increment_bps: feeIncrementBps,\n    max_limiter_duration: maxLimiterDuration,\n    max_fee_bps: maxFeeBps,\n    reference_amount: new BN(referenceAmount.toString()),\n    base_fee_mode: BaseFeeMode.RateLimiter,\n    padding: FEE_PADDING,\n  };\n\n  return cpAmmCoder.types.encode(\"BorshFeeRateLimiter\", feeRateLimiter);\n}\n\nexport function decodeFeeRateLimiterParams(data: Buffer): BorshFeeRateLimiter {\n  const decoded = cpAmmCoder.types.decode(\"BorshFeeRateLimiter\", data);\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    feeIncrementBps: decoded.fee_increment_bps,\n    maxLimiterDuration: decoded.max_limiter_duration,\n    maxFeeBps: decoded.max_fee_bps,\n    referenceAmount: decoded.reference_amount,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n\nexport function decodePodAlignedFeeRateLimiter(\n  data: Buffer,\n): PodAlignedFeeRateLimiter {\n  const decoded = cpAmmCoder.types.decode(\"PodAlignedFeeRateLimiter\", data);\n  return {\n    cliffFeeNumerator: decoded.cliff_fee_numerator,\n    feeIncrementBps: decoded.fee_increment_bps,\n    maxLimiterDuration: decoded.max_limiter_duration,\n    maxFeeBps: decoded.max_fee_bps,\n    referenceAmount: decoded.reference_amount,\n    baseFeeMode: decoded.base_fee_mode,\n    padding: decoded.padding,\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,eAAe;AACxB,SAAS,eAAAA,cAAa,yBAAAC,8BAA6B;AACnD,OAAO,eAAe;;;ACFtB;AAAA,EACE,SAAW;AAAA,EACX,UAAY;AAAA,IACV,MAAQ;AAAA,IACR,SAAW;AAAA,IACX,MAAQ;AAAA,IACR,aAAe;AAAA,EACjB;AAAA,EACA,cAAgB;AAAA,IACd;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,UACV,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,QACN;AAAA,MACF;AAAA,MACA,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,UACV,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,cACA;AAAA,gBACE,MAAQ;AAAA,gBACR,MAAQ;AAAA,cACV;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ,CAAC;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,YACA;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,YACA;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,WAAa;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,UAAY;AAAA,UACZ,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN,SAAW;AAAA,cACT,MAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,KAAO;AAAA,YACL,OAAS;AAAA,cACP;AAAA,gBACE,MAAQ;AAAA,gBACR,OAAS;AAAA,kBACP;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,gBACF;AAAA,cACF;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,UAAY;AAAA,QACV;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,QACV;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,UAAY;AAAA,QACd;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,UACA,QAAU;AAAA,QACZ;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,YACN;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAQ;AAAA,UACR,SAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,MAAQ;AAAA,QACN;AAAA,UACE,MAAQ;AAAA,UACR,MAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,UAAY;AAAA,IACV;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,QAAU;AAAA,IACR;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,eAAiB;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,QAAU;AAAA,IACR;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ;AAAA,MACR,KAAO;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAQ;AAAA,MACR,MAAQ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YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,YACA,MAAQ;AAAA,UACV;AAAA,UACA;AAAA,YACE,MAAQ;AAAA,YACR,MAAQ;AAAA,cACN;AAAA,YACF;AAAA,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","names":["NATIVE_MINT","TOKEN_2022_PROGRAM_ID","SystemProgram","Rounding","ActivationPoint","BaseFeeMode","CollectFeeMode","TradeDirection","ActivationType","PoolVersion","PoolStatus","SwapMode","PublicKey","PublicKey","PublicKey","PublicKey","BN","BN","PublicKey","BN","TOKEN_2022_PROGRAM_ID","BN","TOKEN_2022_PROGRAM_ID","BN","BN","BN","BN","BN","Decimal","BN","Decimal","BN","hasPartner","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","tradeFeeNumerator","BN","Decimal","BN","PublicKey","BN","Decimal","BN","BN","PublicKey","BN","Decimal","data","BN","min","TOKEN_2022_PROGRAM_ID","SystemProgram","NATIVE_MINT","min","BN"]}